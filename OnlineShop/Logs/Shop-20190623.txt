2019-06-23T08:48:51.4118309+07:00 800000b5-0001-ed00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/   (ca22a1cb)
2019-06-23T08:48:51.5832552+07:00 800000b5-0001-ed00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Controllers.HomeController.Index (OnlineShop)"' (500cc934)
2019-06-23T08:48:51.6027604+07:00 800000b5-0001-ed00-b63f-84710c7967bb [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "OnlineShop.Controllers.HomeController" ("OnlineShop"). (122b2fdf)
2019-06-23T08:48:51.6292349+07:00 800000b5-0001-ed00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Controllers.HomeController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T08:48:51.6399265+07:00 800000b5-0001-ed00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Controllers.HomeController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 2.9532ms. (50a9e262)
2019-06-23T08:48:51.6747002+07:00 800000b5-0001-ed00-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T08:48:51.9342331+07:00 800000b5-0001-ed00-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 280.3163ms. (f66409e9)
2019-06-23T08:48:51.9373762+07:00 800000b5-0001-ed00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Controllers.HomeController.Index (OnlineShop)" in 332.0283ms (afa2e885)
2019-06-23T08:48:51.9401762+07:00 800000b5-0001-ed00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Controllers.HomeController.Index (OnlineShop)"' (99874f2b)
2019-06-23T08:48:52.0042671+07:00 800000b5-0001-ed00-b63f-84710c7967bb [INF] Request finished in 547.9398ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T08:48:52.0097962+07:00 800003e0-0000-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0   (ca22a1cb)
2019-06-23T08:48:52.0101892+07:00 80000034-0002-db00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/css/site.css   (ca22a1cb)
2019-06-23T08:48:52.0124707+07:00 8000003f-0002-e500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/lib/bootstrap/dist/js/bootstrap.bundle.js   (ca22a1cb)
2019-06-23T08:48:52.0286590+07:00 800003e0-0000-f900-b63f-84710c7967bb [INF] The file "/js/site.js" was not modified (f1f8d725)
2019-06-23T08:48:52.0350979+07:00 80000034-0002-db00-b63f-84710c7967bb [INF] The file "/css/site.css" was not modified (f1f8d725)
2019-06-23T08:48:52.0355707+07:00 8000003f-0002-e500-b63f-84710c7967bb [INF] Request finished in 19.5262ms 404  (791a596a)
2019-06-23T08:48:52.0450273+07:00 80000034-0002-db00-b63f-84710c7967bb [INF] Request finished in 32.9511ms 304 text/css (791a596a)
2019-06-23T08:48:52.0483943+07:00 800003e0-0000-f900-b63f-84710c7967bb [INF] Request finished in 35.6989ms 304 application/javascript (791a596a)
2019-06-23T08:48:52.1211510+07:00 80000036-0002-db00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/lib/bootstrap/dist/js/bootstrap.bundle.js   (ca22a1cb)
2019-06-23T08:48:52.1262843+07:00 80000036-0002-db00-b63f-84710c7967bb [INF] Request finished in 5.9137ms 404  (791a596a)
2019-06-23T08:48:55.9990075+07:00 800003e2-0000-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/Login   (ca22a1cb)
2019-06-23T08:48:56.0044444+07:00 800003e2-0000-f900-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)"' (500cc934)
2019-06-23T08:48:56.0127507+07:00 800003e2-0000-f900-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Login\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "OnlineShop.Areas.Admin.Controllers.LoginController" ("OnlineShop"). (122b2fdf)
2019-06-23T08:48:56.0290667+07:00 800003e2-0000-f900-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T08:48:56.0342416+07:00 800003e2-0000-f900-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.4723ms. (50a9e262)
2019-06-23T08:48:56.0441566+07:00 800003e2-0000-f900-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T08:48:56.1121202+07:00 800003e2-0000-f900-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 75.4508ms. (f66409e9)
2019-06-23T08:48:56.1163500+07:00 800003e2-0000-f900-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)" in 99.4536ms (afa2e885)
2019-06-23T08:48:56.1194112+07:00 800003e2-0000-f900-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)"' (99874f2b)
2019-06-23T08:48:56.1221374+07:00 800003e2-0000-f900-b63f-84710c7967bb [INF] Request finished in 124.6754ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T08:48:56.1630352+07:00 800003e4-0000-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/App/Shared/Common.js   (ca22a1cb)
2019-06-23T08:48:56.1674407+07:00 8000005c-0000-f000-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/App/Controller/Login/Index.js   (ca22a1cb)
2019-06-23T08:48:56.1690428+07:00 800003e4-0000-f900-b63f-84710c7967bb [INF] The file "/App/Shared/Common.js" was not modified (f1f8d725)
2019-06-23T08:48:56.1735186+07:00 8000005c-0000-f000-b63f-84710c7967bb [INF] The file "/App/Controller/Login/Index.js" was not modified (f1f8d725)
2019-06-23T08:48:56.1760515+07:00 800003e4-0000-f900-b63f-84710c7967bb [INF] Request finished in 12.4562ms 304 application/javascript (791a596a)
2019-06-23T08:48:56.1792690+07:00 8000005c-0000-f000-b63f-84710c7967bb [INF] Request finished in 16.3727ms 304 application/javascript (791a596a)
2019-06-23T08:48:56.5182439+07:00 8000005e-0000-f000-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/Login   (ca22a1cb)
2019-06-23T08:48:56.5278684+07:00 8000005e-0000-f000-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)"' (500cc934)
2019-06-23T08:48:56.5368777+07:00 8000005e-0000-f000-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Login\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "OnlineShop.Areas.Admin.Controllers.LoginController" ("OnlineShop"). (122b2fdf)
2019-06-23T08:48:56.5441161+07:00 8000005e-0000-f000-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T08:48:56.5502376+07:00 8000005e-0000-f000-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0266ms. (50a9e262)
2019-06-23T08:48:56.5550149+07:00 8000005e-0000-f000-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T08:48:56.5699290+07:00 8000005e-0000-f000-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 7.5155ms. (f66409e9)
2019-06-23T08:48:56.6156284+07:00 8000005e-0000-f000-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)" in 33.6725ms (afa2e885)
2019-06-23T08:48:56.6239940+07:00 8000005e-0000-f000-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)"' (99874f2b)
2019-06-23T08:48:56.6277117+07:00 8000005e-0000-f000-b63f-84710c7967bb [INF] Request finished in 109.98ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T08:48:58.2777130+07:00 80000060-0000-f000-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44363/admin/login/authen application/x-www-form-urlencoded; charset=UTF-8 33 (ca22a1cb)
2019-06-23T08:48:58.2813421+07:00 80000060-0000-f000-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)"' (500cc934)
2019-06-23T08:48:58.3103056+07:00 80000060-0000-f000-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Authen\", controller = \"Login\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authen(OnlineShop.Models.LoginViewModel)" on controller "OnlineShop.Areas.Admin.Controllers.LoginController" ("OnlineShop"). (122b2fdf)
2019-06-23T08:48:58.3606110+07:00 80000060-0000-f000-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T08:48:58.3768152+07:00 80000060-0000-f000-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T08:48:58.4572601+07:00 80000060-0000-f000-b63f-84710c7967bb [INF] Executed DbCommand ("15"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Avatar], [u].[Balance], [u].[BirthDay], [u].[ConcurrencyStamp], [u].[DateCreated], [u].[DateModified], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AppUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-06-23T08:48:58.6505998+07:00 80000060-0000-f000-b63f-84710c7967bb [INF] Executed DbCommand ("7"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AppUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2019-06-23T08:48:58.7003516+07:00 80000060-0000-f000-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-23T08:48:58.7201856+07:00 80000060-0000-f000-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AppRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-23T08:48:58.7434553+07:00 80000060-0000-f000-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AppRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-23T08:48:58.7523390+07:00 80000060-0000-f000-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-23T08:48:58.7688498+07:00 80000060-0000-f000-b63f-84710c7967bb [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-06-23T08:48:58.7806029+07:00 80000060-0000-f000-b63f-84710c7967bb [INF] User logged in. (fdce0db4)
2019-06-23T08:48:58.7894261+07:00 80000060-0000-f000-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 425.5561ms. (50a9e262)
2019-06-23T08:48:58.8062959+07:00 80000060-0000-f000-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Utilities.DTO.GenericResult"'. (8a1b66c8)
2019-06-23T08:48:58.9221002+07:00 80000060-0000-f000-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)" in 609.6169ms (afa2e885)
2019-06-23T08:48:58.9260088+07:00 80000060-0000-f000-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)"' (99874f2b)
2019-06-23T08:48:58.9376580+07:00 80000060-0000-f000-b63f-84710c7967bb [INF] Request finished in 660.7819ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T08:48:58.9531012+07:00 80000038-0002-db00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/Home/Index   (ca22a1cb)
2019-06-23T08:48:58.9678963+07:00 80000038-0002-db00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)"' (500cc934)
2019-06-23T08:48:58.9716256+07:00 80000038-0002-db00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Home\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "OnlineShop.Areas.Admin.Controllers.HomeController" ("OnlineShop"). (122b2fdf)
2019-06-23T08:48:59.0001675+07:00 80000038-0002-db00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T08:48:59.0025904+07:00 80000038-0002-db00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T08:48:59.0055854+07:00 80000038-0002-db00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.7083ms. (50a9e262)
2019-06-23T08:48:59.0116438+07:00 80000038-0002-db00-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T08:48:59.0718770+07:00 80000038-0002-db00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T08:48:59.1167962+07:00 80000038-0002-db00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-23T08:48:59.1793266+07:00 80000038-0002-db00-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 166.3857ms. (f66409e9)
2019-06-23T08:48:59.2013641+07:00 80000038-0002-db00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)" in 223.0766ms (afa2e885)
2019-06-23T08:48:59.2047132+07:00 80000038-0002-db00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)"' (99874f2b)
2019-06-23T08:48:59.2086118+07:00 80000038-0002-db00-b63f-84710c7967bb [INF] Request finished in 257.9194ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T08:48:59.2958746+07:00 80000062-0000-f000-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/lib/mustache/mustache.js   (ca22a1cb)
2019-06-23T08:48:59.2987660+07:00 800003e6-0000-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/lib/twbs-pagination/jquery.twbsPagination.js   (ca22a1cb)
2019-06-23T08:48:59.3008643+07:00 80000062-0000-f000-b63f-84710c7967bb [INF] The file "/lib/mustache/mustache.js" was not modified (f1f8d725)
2019-06-23T08:48:59.3051040+07:00 800003e6-0000-f900-b63f-84710c7967bb [INF] The file "/lib/twbs-pagination/jquery.twbsPagination.js" was not modified (f1f8d725)
2019-06-23T08:48:59.3093647+07:00 80000062-0000-f000-b63f-84710c7967bb [INF] Request finished in 11.1321ms 304 application/javascript (791a596a)
2019-06-23T08:48:59.3132846+07:00 800003e6-0000-f900-b63f-84710c7967bb [INF] Request finished in 14.2326ms 304 application/javascript (791a596a)
2019-06-23T08:49:13.9844994+07:00 800003e8-0000-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/Login   (ca22a1cb)
2019-06-23T08:49:13.9890750+07:00 800003e8-0000-f900-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)"' (500cc934)
2019-06-23T08:49:13.9928453+07:00 800003e8-0000-f900-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Login\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "OnlineShop.Areas.Admin.Controllers.LoginController" ("OnlineShop"). (122b2fdf)
2019-06-23T08:49:13.9964839+07:00 800003e8-0000-f900-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T08:49:14.0007176+07:00 800003e8-0000-f900-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0181ms. (50a9e262)
2019-06-23T08:49:14.0036844+07:00 800003e8-0000-f900-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T08:49:14.0129633+07:00 800003e8-0000-f900-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 4.1708ms. (f66409e9)
2019-06-23T08:49:14.0288930+07:00 800003e8-0000-f900-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)" in 19.9683ms (afa2e885)
2019-06-23T08:49:14.0444278+07:00 800003e8-0000-f900-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)"' (99874f2b)
2019-06-23T08:49:14.0483482+07:00 800003e8-0000-f900-b63f-84710c7967bb [INF] Request finished in 63.4341ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T08:49:20.3165465+07:00 800000e5-0003-ed00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44363/admin/login/authen application/x-www-form-urlencoded; charset=UTF-8 33 (ca22a1cb)
2019-06-23T08:49:20.3205920+07:00 800000e5-0003-ed00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)"' (500cc934)
2019-06-23T08:49:20.3241178+07:00 800000e5-0003-ed00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Authen\", controller = \"Login\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authen(OnlineShop.Models.LoginViewModel)" on controller "OnlineShop.Areas.Admin.Controllers.LoginController" ("OnlineShop"). (122b2fdf)
2019-06-23T08:49:20.3276664+07:00 800000e5-0003-ed00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T08:49:20.3304104+07:00 800000e5-0003-ed00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T08:49:20.3513796+07:00 800000e5-0003-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("14"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Avatar], [u].[Balance], [u].[BirthDay], [u].[ConcurrencyStamp], [u].[DateCreated], [u].[DateModified], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AppUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-06-23T08:49:20.3730664+07:00 800000e5-0003-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AppUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2019-06-23T08:49:20.3800846+07:00 800000e5-0003-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-23T08:49:20.3852422+07:00 800000e5-0003-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AppRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-23T08:49:20.3924166+07:00 800000e5-0003-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AppRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-23T08:49:20.3991023+07:00 800000e5-0003-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-23T08:49:20.4025623+07:00 800000e5-0003-ed00-b63f-84710c7967bb [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-06-23T08:49:20.4057329+07:00 800000e5-0003-ed00-b63f-84710c7967bb [INF] User logged in. (fdce0db4)
2019-06-23T08:49:20.4084490+07:00 800000e5-0003-ed00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 78.1382ms. (50a9e262)
2019-06-23T08:49:20.4115681+07:00 800000e5-0003-ed00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Utilities.DTO.GenericResult"'. (8a1b66c8)
2019-06-23T08:49:20.4152619+07:00 800000e5-0003-ed00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)" in 88.0097ms (afa2e885)
2019-06-23T08:49:20.4178544+07:00 800000e5-0003-ed00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)"' (99874f2b)
2019-06-23T08:49:20.4208133+07:00 800000e5-0003-ed00-b63f-84710c7967bb [INF] Request finished in 104.1191ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T08:49:20.4315008+07:00 800003ea-0000-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/Home/Index   (ca22a1cb)
2019-06-23T08:49:20.4339774+07:00 800003ea-0000-f900-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)"' (500cc934)
2019-06-23T08:49:20.4363238+07:00 800003ea-0000-f900-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Home\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "OnlineShop.Areas.Admin.Controllers.HomeController" ("OnlineShop"). (122b2fdf)
2019-06-23T08:49:20.4477898+07:00 800003ea-0000-f900-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T08:49:20.4504208+07:00 800003ea-0000-f900-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T08:49:20.4525271+07:00 800003ea-0000-f900-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.027ms. (50a9e262)
2019-06-23T08:49:20.4569535+07:00 800003ea-0000-f900-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T08:49:20.4613270+07:00 800003ea-0000-f900-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T08:49:20.4683914+07:00 800003ea-0000-f900-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-23T08:49:20.4726566+07:00 800003ea-0000-f900-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 17.1396ms. (f66409e9)
2019-06-23T08:49:20.4770090+07:00 800003ea-0000-f900-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)" in 36.6968ms (afa2e885)
2019-06-23T08:49:20.4802281+07:00 800003ea-0000-f900-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)"' (99874f2b)
2019-06-23T08:49:20.4953172+07:00 800003ea-0000-f900-b63f-84710c7967bb [INF] Request finished in 51.4248ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T08:49:26.8995794+07:00 8000003a-0002-db00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/user/index   (ca22a1cb)
2019-06-23T08:49:26.9032206+07:00 8000003a-0002-db00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.UserController.Index (OnlineShop)"' (500cc934)
2019-06-23T08:49:26.9144442+07:00 8000003a-0002-db00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"User\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "OnlineShop.Areas.Admin.Controllers.UserController" ("OnlineShop"). (122b2fdf)
2019-06-23T08:49:26.9170857+07:00 8000003a-0002-db00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T08:49:26.9219427+07:00 8000003a-0002-db00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.UserController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T08:49:26.9346264+07:00 8000003a-0002-db00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T08:49:26.9946346+07:00 8000003a-0002-db00-b63f-84710c7967bb [INF] Executed DbCommand ("11"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T08:49:27.0165745+07:00 8000003a-0002-db00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T08:49:27.0203942+07:00 8000003a-0002-db00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.UserController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 94.8191ms. (50a9e262)
2019-06-23T08:49:27.0321938+07:00 8000003a-0002-db00-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T08:49:27.0609645+07:00 8000003a-0002-db00-b63f-84710c7967bb [INF] Executed DbCommand ("9"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T08:49:27.0644177+07:00 8000003a-0002-db00-b63f-84710c7967bb [INF] Authorization failed. (b15dd539)
2019-06-23T08:49:27.0892599+07:00 8000003a-0002-db00-b63f-84710c7967bb [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T08:49:27.0917275+07:00 8000003a-0002-db00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T08:49:27.1112048+07:00 8000003a-0002-db00-b63f-84710c7967bb [INF] Executed DbCommand ("8"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T08:49:27.1137622+07:00 8000003a-0002-db00-b63f-84710c7967bb [INF] Authorization failed. (b15dd539)
2019-06-23T08:49:27.1320336+07:00 8000003a-0002-db00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-23T08:49:27.1730439+07:00 8000003a-0002-db00-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 150.1673ms. (f66409e9)
2019-06-23T08:49:27.1776823+07:00 8000003a-0002-db00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.UserController.Index (OnlineShop)" in 258.8696ms (afa2e885)
2019-06-23T08:49:27.1822397+07:00 8000003a-0002-db00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.UserController.Index (OnlineShop)"' (99874f2b)
2019-06-23T08:49:27.1892710+07:00 8000003a-0002-db00-b63f-84710c7967bb [INF] Request finished in 286.0284ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T08:49:27.2161042+07:00 8000003c-0002-db00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/App/Controller/User/Index.js?v=PijlhpuJcP6No2wvUcEHvsNmQkxLNoJjonQcbuXHdx4   (ca22a1cb)
2019-06-23T08:49:27.2192571+07:00 8000003c-0002-db00-b63f-84710c7967bb [INF] The file "/App/Controller/User/Index.js" was not modified (f1f8d725)
2019-06-23T08:49:27.2222157+07:00 8000003c-0002-db00-b63f-84710c7967bb [INF] Request finished in 5.8427ms 304 application/javascript (791a596a)
2019-06-23T08:49:27.2941601+07:00 800000b7-0001-ed00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/User/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-23T08:49:27.3004960+07:00 800000b7-0001-ed00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)"' (500cc934)
2019-06-23T08:49:27.3057646+07:00 800000b7-0001-ed00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"User\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllPaging(System.String, Int32, Int32)" on controller "OnlineShop.Areas.Admin.Controllers.UserController" ("OnlineShop"). (122b2fdf)
2019-06-23T08:49:27.3084033+07:00 800000b7-0001-ed00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T08:49:27.3173570+07:00 800000b7-0001-ed00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T08:49:27.3317205+07:00 800000b7-0001-ed00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T08:49:27.3423883+07:00 800000b7-0001-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppUsers] AS [a]" (0723d8ff)
2019-06-23T08:49:27.3663751+07:00 800000b7-0001-ed00-b63f-84710c7967bb [WRN] Query: '"(from AppUser x in DbSet<AppUser> select new AppUserViewModel{ { 
    UserName = [x].UserName, , 
..."' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results. (32148ccc)
2019-06-23T08:49:27.3880208+07:00 800000b7-0001-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[UserName], [x].[Avatar], CONVERT(VARCHAR(100), [x].[BirthDay]) AS [BirthDay], [x].[Email], [x].[FullName], [x].[Id], [x].[PhoneNumber], [x].[Status], [x].[DateCreated]
FROM [AppUsers] AS [x]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-23T08:49:27.3966722+07:00 800000b7-0001-ed00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 76.3259ms. (50a9e262)
2019-06-23T08:49:27.4005854+07:00 800000b7-0001-ed00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Utilities.DTO.PagedResult`1[[OnlineShop.Services.ViewModels.system.AppUserViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T08:49:27.4240640+07:00 800000b7-0001-ed00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)" in 115.4853ms (afa2e885)
2019-06-23T08:49:27.4278056+07:00 800000b7-0001-ed00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)"' (99874f2b)
2019-06-23T08:49:27.4307160+07:00 800000b7-0001-ed00-b63f-84710c7967bb [INF] Request finished in 136.8905ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T08:49:27.4530022+07:00 800000b9-0001-ed00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/User/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-23T08:49:27.4548415+07:00 80000064-0000-f000-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/uploaded/images/20190622/image.jpg   (ca22a1cb)
2019-06-23T08:49:27.4572856+07:00 800000e7-0003-ed00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/uploaded/images/20190622/29571005_1211199335649509_5829626113298388243_n.jpg   (ca22a1cb)
2019-06-23T08:49:27.4589643+07:00 800003ec-0000-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/uploaded/images/20190622/15515830_737114906454542_619720817_o.jpg   (ca22a1cb)
2019-06-23T08:49:27.4624353+07:00 800000e7-0003-ed00-b63f-84710c7967bb [INF] The file "/uploaded/images/20190622/29571005_1211199335649509_5829626113298388243_n.jpg" was not modified (f1f8d725)
2019-06-23T08:49:27.4680888+07:00 800000b9-0001-ed00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)"' (500cc934)
2019-06-23T08:49:27.4755724+07:00 800000b9-0001-ed00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"User\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllPaging(System.String, Int32, Int32)" on controller "OnlineShop.Areas.Admin.Controllers.UserController" ("OnlineShop"). (122b2fdf)
2019-06-23T08:49:27.4756067+07:00 800000e7-0003-ed00-b63f-84710c7967bb [INF] Request finished in 19.8641ms 304 image/jpeg (791a596a)
2019-06-23T08:49:27.4794911+07:00 800000b9-0001-ed00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T08:49:27.4855991+07:00 800000b9-0001-ed00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T08:49:27.4892821+07:00 800000b9-0001-ed00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T08:49:27.5118619+07:00 800000b9-0001-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppUsers] AS [a]" (0723d8ff)
2019-06-23T08:49:27.5121442+07:00 80000064-0000-f000-b63f-84710c7967bb [INF] Sending file. Request path: '"/uploaded/images/20190622/image.jpg"'. Physical path: '"E:\New folder\ASP.NET Core\Projects\OnlineShop\OnlineShop\wwwroot\uploaded\images\20190622\image.jpg"' (27b0a520)
2019-06-23T08:49:27.5172176+07:00 80000064-0000-f000-b63f-84710c7967bb [INF] Request finished in 62.8278ms 200 image/jpeg (791a596a)
2019-06-23T08:49:27.5271008+07:00 800000b9-0001-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[UserName], [x].[Avatar], CONVERT(VARCHAR(100), [x].[BirthDay]) AS [BirthDay], [x].[Email], [x].[FullName], [x].[Id], [x].[PhoneNumber], [x].[Status], [x].[DateCreated]
FROM [AppUsers] AS [x]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-23T08:49:27.5323920+07:00 800003ec-0000-f900-b63f-84710c7967bb [INF] Sending file. Request path: '"/uploaded/images/20190622/15515830_737114906454542_619720817_o.jpg"'. Physical path: '"E:\New folder\ASP.NET Core\Projects\OnlineShop\OnlineShop\wwwroot\uploaded\images\20190622\15515830_737114906454542_619720817_o.jpg"' (27b0a520)
2019-06-23T08:49:27.5422844+07:00 800000b9-0001-ed00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 43.7465ms. (50a9e262)
2019-06-23T08:49:27.5423539+07:00 800003ec-0000-f900-b63f-84710c7967bb [INF] Request finished in 83.2633ms 200 image/jpeg (791a596a)
2019-06-23T08:49:27.5469028+07:00 800000b9-0001-ed00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Utilities.DTO.PagedResult`1[[OnlineShop.Services.ViewModels.system.AppUserViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T08:49:27.5574611+07:00 800000b9-0001-ed00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)" in 71.941ms (afa2e885)
2019-06-23T08:49:27.5635973+07:00 800000b9-0001-ed00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)"' (99874f2b)
2019-06-23T08:49:27.5840929+07:00 800000b9-0001-ed00-b63f-84710c7967bb [INF] Request finished in 120.0877ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T08:49:42.0927299+07:00 8000003e-0002-db00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/productcategory/index   (ca22a1cb)
2019-06-23T08:49:42.0965864+07:00 8000003e-0002-db00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.ProductCategoryController.Index (OnlineShop)"' (500cc934)
2019-06-23T08:49:42.1034216+07:00 8000003e-0002-db00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"ProductCategory\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "OnlineShop.Areas.Admin.Controllers.ProductCategoryController" ("OnlineShop"). (122b2fdf)
2019-06-23T08:49:42.1064124+07:00 8000003e-0002-db00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T08:49:42.1103392+07:00 8000003e-0002-db00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.ProductCategoryController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T08:49:42.1144276+07:00 8000003e-0002-db00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.ProductCategoryController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.7406ms. (50a9e262)
2019-06-23T08:49:42.1217754+07:00 8000003e-0002-db00-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T08:49:42.1406703+07:00 8000003e-0002-db00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T08:49:42.1486240+07:00 8000003e-0002-db00-b63f-84710c7967bb [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-23T08:49:42.1825936+07:00 8000003e-0002-db00-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 65.6062ms. (f66409e9)
2019-06-23T08:49:42.1866163+07:00 8000003e-0002-db00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.ProductCategoryController.Index (OnlineShop)" in 79.3432ms (afa2e885)
2019-06-23T08:49:42.1919018+07:00 8000003e-0002-db00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.ProductCategoryController.Index (OnlineShop)"' (99874f2b)
2019-06-23T08:49:42.2231898+07:00 8000003e-0002-db00-b63f-84710c7967bb [INF] Request finished in 102.6117ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T08:49:42.2452522+07:00 800000e9-0003-ed00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/App/Controller/ProductCategory/Index.js?v=shccZvhYHNai-fcF4SScToCDLqQcljwMjcOJw8NiMIk   (ca22a1cb)
2019-06-23T08:49:42.2483613+07:00 800000e9-0003-ed00-b63f-84710c7967bb [INF] The file "/App/Controller/ProductCategory/Index.js" was not modified (f1f8d725)
2019-06-23T08:49:42.2526838+07:00 800000e9-0003-ed00-b63f-84710c7967bb [INF] Request finished in 8.3241ms 304 application/javascript (791a596a)
2019-06-23T08:49:42.4254944+07:00 800003ee-0000-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/ProductCategory/GetAll   (ca22a1cb)
2019-06-23T08:49:42.4330235+07:00 800003ee-0000-f900-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.ProductCategoryController.GetAll (OnlineShop)"' (500cc934)
2019-06-23T08:49:42.4372266+07:00 800003ee-0000-f900-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"ProductCategory\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAll()" on controller "OnlineShop.Areas.Admin.Controllers.ProductCategoryController" ("OnlineShop"). (122b2fdf)
2019-06-23T08:49:42.4459241+07:00 800003ee-0000-f900-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T08:49:42.4494570+07:00 800003ee-0000-f900-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.ProductCategoryController.GetAll (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T08:49:42.4546097+07:00 800003ee-0000-f900-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T08:49:42.5523647+07:00 800003ee-0000-f900-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-23T08:49:42.5710456+07:00 800003ee-0000-f900-b63f-84710c7967bb [INF] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-23T08:49:42.5897051+07:00 800003ee-0000-f900-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.ProductCategoryController.GetAll (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 138.0664ms. (50a9e262)
2019-06-23T08:49:42.5921771+07:00 800003ee-0000-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[OnlineShop.Services.ViewModels.product.ProductCategoryViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T08:49:42.6229591+07:00 800003ee-0000-f900-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.ProductCategoryController.GetAll (OnlineShop)" in 183.1263ms (afa2e885)
2019-06-23T08:49:42.6251245+07:00 800003ee-0000-f900-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.ProductCategoryController.GetAll (OnlineShop)"' (99874f2b)
2019-06-23T08:49:42.6324359+07:00 800003ee-0000-f900-b63f-84710c7967bb [INF] Request finished in 202.3284ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T08:49:47.9756986+07:00 800003f0-0000-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/role/index   (ca22a1cb)
2019-06-23T08:49:47.9801338+07:00 800003f0-0000-f900-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)"' (500cc934)
2019-06-23T08:49:47.9861602+07:00 800003f0-0000-f900-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Role\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "OnlineShop.Areas.Admin.Controllers.RoleController" ("OnlineShop"). (122b2fdf)
2019-06-23T08:49:47.9895524+07:00 800003f0-0000-f900-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T08:49:47.9921710+07:00 800003f0-0000-f900-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T08:49:47.9958158+07:00 800003f0-0000-f900-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.5608ms. (50a9e262)
2019-06-23T08:49:48.0025944+07:00 800003f0-0000-f900-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T08:49:48.0342184+07:00 800003f0-0000-f900-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T08:49:48.0413832+07:00 800003f0-0000-f900-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-23T08:49:48.0779906+07:00 800003f0-0000-f900-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 79.7087ms. (f66409e9)
2019-06-23T08:49:48.0815288+07:00 800003f0-0000-f900-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)" in 91.9865ms (afa2e885)
2019-06-23T08:49:48.0852077+07:00 800003f0-0000-f900-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)"' (99874f2b)
2019-06-23T08:49:48.0888625+07:00 800003f0-0000-f900-b63f-84710c7967bb [INF] Request finished in 112.7687ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T08:49:48.1202738+07:00 800000bb-0001-ed00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/App/Controller/Role/Index.js?v=T--TxW-oNUjyfuX4bkx09ouNcr0k_7AupCMY8-5eSTg   (ca22a1cb)
2019-06-23T08:49:48.1234575+07:00 800000bb-0001-ed00-b63f-84710c7967bb [INF] The file "/App/Controller/Role/Index.js" was not modified (f1f8d725)
2019-06-23T08:49:48.1283685+07:00 800000bb-0001-ed00-b63f-84710c7967bb [INF] Request finished in 6.5656ms 304 application/javascript (791a596a)
2019-06-23T08:49:48.1823593+07:00 80000040-0002-db00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/role/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-23T08:49:48.1889678+07:00 80000040-0002-db00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)"' (500cc934)
2019-06-23T08:49:48.1944871+07:00 80000040-0002-db00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Role\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllPaging(System.String, Int32, Int32)" on controller "OnlineShop.Areas.Admin.Controllers.RoleController" ("OnlineShop"). (122b2fdf)
2019-06-23T08:49:48.1967310+07:00 80000040-0002-db00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T08:49:48.1994639+07:00 80000040-0002-db00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T08:49:48.2056335+07:00 80000040-0002-db00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T08:49:48.2186634+07:00 80000040-0002-db00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppRoles] AS [a]" (0723d8ff)
2019-06-23T08:49:48.2596804+07:00 80000040-0002-db00-b63f-84710c7967bb [WRN] Query: '"(from AppRole dtoAppRole in DbSet<AppRole> select new AppRoleViewModel{ { 
    Description = [dtoAp..."' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results. (32148ccc)
2019-06-23T08:49:48.2771357+07:00 80000040-0002-db00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoAppRole].[Description], [dtoAppRole].[Id], [dtoAppRole].[Name]
FROM [AppRoles] AS [dtoAppRole]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-23T08:49:48.2831410+07:00 80000040-0002-db00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 79.6881ms. (50a9e262)
2019-06-23T08:49:48.2859759+07:00 80000040-0002-db00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Utilities.DTO.PagedResult`1[[OnlineShop.Services.ViewModels.system.AppRoleViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T08:49:48.2994822+07:00 80000040-0002-db00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)" in 102.4798ms (afa2e885)
2019-06-23T08:49:48.3019992+07:00 80000040-0002-db00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)"' (99874f2b)
2019-06-23T08:49:48.3045884+07:00 80000040-0002-db00-b63f-84710c7967bb [INF] Request finished in 121.8064ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T08:49:48.3190091+07:00 800003f2-0000-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/role/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-23T08:49:48.3222077+07:00 800003f2-0000-f900-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)"' (500cc934)
2019-06-23T08:49:48.3272305+07:00 800003f2-0000-f900-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Role\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllPaging(System.String, Int32, Int32)" on controller "OnlineShop.Areas.Admin.Controllers.RoleController" ("OnlineShop"). (122b2fdf)
2019-06-23T08:49:48.3307847+07:00 800003f2-0000-f900-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T08:49:48.3332268+07:00 800003f2-0000-f900-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T08:49:48.3362677+07:00 800003f2-0000-f900-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T08:49:48.3393947+07:00 800003f2-0000-f900-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppRoles] AS [a]" (0723d8ff)
2019-06-23T08:49:48.3443411+07:00 800003f2-0000-f900-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoAppRole].[Description], [dtoAppRole].[Id], [dtoAppRole].[Name]
FROM [AppRoles] AS [dtoAppRole]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-23T08:49:48.3472185+07:00 800003f2-0000-f900-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 11.4849ms. (50a9e262)
2019-06-23T08:49:48.3495308+07:00 800003f2-0000-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Utilities.DTO.PagedResult`1[[OnlineShop.Services.ViewModels.system.AppRoleViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T08:49:48.3523931+07:00 800003f2-0000-f900-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)" in 22.5614ms (afa2e885)
2019-06-23T08:49:48.3544479+07:00 800003f2-0000-f900-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)"' (99874f2b)
2019-06-23T08:49:48.3567049+07:00 800003f2-0000-f900-b63f-84710c7967bb [INF] Request finished in 38.001ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T08:49:49.9171178+07:00 800000eb-0003-ed00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/Function/GetAll   (ca22a1cb)
2019-06-23T08:49:49.9184784+07:00 800003f4-0000-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44363/Admin/Role/ListAllFunction application/x-www-form-urlencoded; charset=UTF-8 43 (ca22a1cb)
2019-06-23T08:49:49.9487762+07:00 800003f4-0000-f900-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)"' (500cc934)
2019-06-23T08:49:49.9505276+07:00 800000eb-0003-ed00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)"' (500cc934)
2019-06-23T08:49:49.9548041+07:00 800003f4-0000-f900-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"ListAllFunction\", controller = \"Role\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult ListAllFunction(System.Guid)" on controller "OnlineShop.Areas.Admin.Controllers.RoleController" ("OnlineShop"). (122b2fdf)
2019-06-23T08:49:49.9592532+07:00 800003f4-0000-f900-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T08:49:49.9630581+07:00 800003f4-0000-f900-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T08:49:49.9680347+07:00 800000eb-0003-ed00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"Function\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll()" on controller "OnlineShop.Areas.Admin.Controllers.FunctionController" ("OnlineShop"). (122b2fdf)
2019-06-23T08:49:49.9714849+07:00 800000eb-0003-ed00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T08:49:49.9764395+07:00 800000eb-0003-ed00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T08:49:49.9817826+07:00 800003f4-0000-f900-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T08:49:49.9856952+07:00 800000eb-0003-ed00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T08:49:49.9987353+07:00 800000eb-0003-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-23T08:49:50.0034514+07:00 800000eb-0003-ed00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 24.3547ms. (50a9e262)
2019-06-23T08:49:50.0060763+07:00 800000eb-0003-ed00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[OnlineShop.Services.ViewModels.system.FunctionViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T08:49:50.0173478+07:00 800000eb-0003-ed00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)" in 46.3883ms (afa2e885)
2019-06-23T08:49:50.0199373+07:00 800000eb-0003-ed00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)"' (99874f2b)
2019-06-23T08:49:50.0225963+07:00 800000eb-0003-ed00-b63f-84710c7967bb [INF] Request finished in 106.5673ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T08:49:50.0488945+07:00 800003f4-0000-f900-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__roleId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT @__roleId_0 AS [RoleId], [f].[Id] AS [FunctionId], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanCreate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanCreate], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanDelete] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanDelete], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanRead] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanRead], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanUpdate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanUpdate]
FROM [Functions] AS [f]
LEFT JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
WHERE [p].[Id] IS NOT NULL AND ([p].[RoleId] = @__roleId_0)" (0723d8ff)
2019-06-23T08:49:50.0545277+07:00 800003f4-0000-f900-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 88.8938ms. (50a9e262)
2019-06-23T08:49:50.0590333+07:00 800003f4-0000-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[OnlineShop.Services.ViewModels.system.PermissionViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T08:49:50.0688384+07:00 800003f4-0000-f900-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)" in 111.4989ms (afa2e885)
2019-06-23T08:49:50.0723922+07:00 800003f4-0000-f900-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)"' (99874f2b)
2019-06-23T08:49:50.0764204+07:00 800003f4-0000-f900-b63f-84710c7967bb [INF] Request finished in 159.1374ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T08:50:19.4016547+07:00 800000ed-0003-ed00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/Function/GetAll   (ca22a1cb)
2019-06-23T08:50:19.4042883+07:00 800003f6-0000-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44363/Admin/Role/ListAllFunction application/x-www-form-urlencoded; charset=UTF-8 43 (ca22a1cb)
2019-06-23T08:50:19.4187786+07:00 800003f6-0000-f900-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)"' (500cc934)
2019-06-23T08:50:19.4204171+07:00 800000ed-0003-ed00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)"' (500cc934)
2019-06-23T08:50:19.4247511+07:00 800003f6-0000-f900-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"ListAllFunction\", controller = \"Role\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult ListAllFunction(System.Guid)" on controller "OnlineShop.Areas.Admin.Controllers.RoleController" ("OnlineShop"). (122b2fdf)
2019-06-23T08:50:19.4264878+07:00 800000ed-0003-ed00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"Function\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll()" on controller "OnlineShop.Areas.Admin.Controllers.FunctionController" ("OnlineShop"). (122b2fdf)
2019-06-23T08:50:19.4301738+07:00 800003f6-0000-f900-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T08:50:19.4332549+07:00 800000ed-0003-ed00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T08:50:19.4382202+07:00 800000ed-0003-ed00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T08:50:19.4406367+07:00 800003f6-0000-f900-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T08:50:19.4464605+07:00 800003f6-0000-f900-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T08:50:19.4484788+07:00 800000ed-0003-ed00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T08:50:19.4540443+07:00 800000ed-0003-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-23T08:50:19.4572529+07:00 800000ed-0003-ed00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 16.512ms. (50a9e262)
2019-06-23T08:50:19.4602196+07:00 800000ed-0003-ed00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[OnlineShop.Services.ViewModels.system.FunctionViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T08:50:19.4660928+07:00 800000ed-0003-ed00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)" in 34.4608ms (afa2e885)
2019-06-23T08:50:19.4686525+07:00 800000ed-0003-ed00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)"' (99874f2b)
2019-06-23T08:50:19.4723502+07:00 800003f6-0000-f900-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__roleId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT @__roleId_0 AS [RoleId], [f].[Id] AS [FunctionId], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanCreate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanCreate], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanDelete] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanDelete], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanRead] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanRead], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanUpdate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanUpdate]
FROM [Functions] AS [f]
LEFT JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
WHERE [p].[Id] IS NOT NULL AND ([p].[RoleId] = @__roleId_0)" (0723d8ff)
2019-06-23T08:50:19.4738397+07:00 800000ed-0003-ed00-b63f-84710c7967bb [INF] Request finished in 70.7132ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T08:50:19.4766026+07:00 800003f6-0000-f900-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 33.2249ms. (50a9e262)
2019-06-23T08:50:19.4810316+07:00 800003f6-0000-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[OnlineShop.Services.ViewModels.system.PermissionViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T08:50:19.4844958+07:00 800003f6-0000-f900-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)" in 56.7619ms (afa2e885)
2019-06-23T08:50:19.4870287+07:00 800003f6-0000-f900-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)"' (99874f2b)
2019-06-23T08:50:19.4896768+07:00 800003f6-0000-f900-b63f-84710c7967bb [INF] Request finished in 85.3785ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T08:50:33.8352689+07:00 80000042-0002-db00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/productcategory/index   (ca22a1cb)
2019-06-23T08:50:33.8446852+07:00 80000042-0002-db00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.ProductCategoryController.Index (OnlineShop)"' (500cc934)
2019-06-23T08:50:33.8485040+07:00 80000042-0002-db00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"ProductCategory\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "OnlineShop.Areas.Admin.Controllers.ProductCategoryController" ("OnlineShop"). (122b2fdf)
2019-06-23T08:50:33.8520493+07:00 80000042-0002-db00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T08:50:33.8567159+07:00 80000042-0002-db00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.ProductCategoryController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T08:50:33.8611541+07:00 80000042-0002-db00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.ProductCategoryController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0179ms. (50a9e262)
2019-06-23T08:50:33.8643390+07:00 80000042-0002-db00-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T08:50:33.8683770+07:00 80000042-0002-db00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T08:50:33.8779876+07:00 80000042-0002-db00-b63f-84710c7967bb [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-23T08:50:33.8820443+07:00 80000042-0002-db00-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 18.2459ms. (f66409e9)
2019-06-23T08:50:33.8878523+07:00 80000042-0002-db00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.ProductCategoryController.Index (OnlineShop)" in 34.0077ms (afa2e885)
2019-06-23T08:50:33.9076316+07:00 80000042-0002-db00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.ProductCategoryController.Index (OnlineShop)"' (99874f2b)
2019-06-23T08:50:33.9267969+07:00 80000042-0002-db00-b63f-84710c7967bb [INF] Request finished in 76.1438ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T08:50:34.0171370+07:00 800003f8-0000-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/ProductCategory/GetAll   (ca22a1cb)
2019-06-23T08:50:34.0209360+07:00 800003f8-0000-f900-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.ProductCategoryController.GetAll (OnlineShop)"' (500cc934)
2019-06-23T08:50:34.0236037+07:00 800003f8-0000-f900-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"ProductCategory\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAll()" on controller "OnlineShop.Areas.Admin.Controllers.ProductCategoryController" ("OnlineShop"). (122b2fdf)
2019-06-23T08:50:34.0287789+07:00 800003f8-0000-f900-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T08:50:34.0316923+07:00 800003f8-0000-f900-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.ProductCategoryController.GetAll (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T08:50:34.0351685+07:00 800003f8-0000-f900-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T08:50:34.0415159+07:00 800003f8-0000-f900-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-23T08:50:34.0510204+07:00 800003f8-0000-f900-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-23T08:50:34.0549896+07:00 800003f8-0000-f900-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.ProductCategoryController.GetAll (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 19.605ms. (50a9e262)
2019-06-23T08:50:34.0580602+07:00 800003f8-0000-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[OnlineShop.Services.ViewModels.product.ProductCategoryViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T08:50:34.0626110+07:00 800003f8-0000-f900-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.ProductCategoryController.GetAll (OnlineShop)" in 35.0117ms (afa2e885)
2019-06-23T08:50:34.0708994+07:00 800003f8-0000-f900-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.ProductCategoryController.GetAll (OnlineShop)"' (99874f2b)
2019-06-23T08:50:34.0761907+07:00 800003f8-0000-f900-b63f-84710c7967bb [INF] Request finished in 56.7258ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T08:50:35.3829738+07:00 800000bd-0001-ed00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/ProductCategory/GetAll   (ca22a1cb)
2019-06-23T08:50:35.3870838+07:00 800000bd-0001-ed00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.ProductCategoryController.GetAll (OnlineShop)"' (500cc934)
2019-06-23T08:50:35.3903738+07:00 800000bd-0001-ed00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"ProductCategory\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAll()" on controller "OnlineShop.Areas.Admin.Controllers.ProductCategoryController" ("OnlineShop"). (122b2fdf)
2019-06-23T08:50:35.3939345+07:00 800000bd-0001-ed00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T08:50:35.3969541+07:00 800000bd-0001-ed00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.ProductCategoryController.GetAll (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T08:50:35.4001367+07:00 800000bd-0001-ed00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T08:50:35.4038198+07:00 800000bd-0001-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-23T08:50:35.4078975+07:00 800000bd-0001-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-23T08:50:35.4108338+07:00 800000bd-0001-ed00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.ProductCategoryController.GetAll (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 11.3646ms. (50a9e262)
2019-06-23T08:50:35.4137533+07:00 800000bd-0001-ed00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[OnlineShop.Services.ViewModels.product.ProductCategoryViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T08:50:35.4174294+07:00 800000bd-0001-ed00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.ProductCategoryController.GetAll (OnlineShop)" in 24.019ms (afa2e885)
2019-06-23T08:50:35.4209427+07:00 800000bd-0001-ed00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.ProductCategoryController.GetAll (OnlineShop)"' (99874f2b)
2019-06-23T08:50:35.4242384+07:00 800000bd-0001-ed00-b63f-84710c7967bb [INF] Request finished in 41.2094ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T08:51:22.2170798+07:00 800000bf-0001-ed00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/activity/index   (ca22a1cb)
2019-06-23T08:51:22.2224510+07:00 800000bf-0001-ed00-b63f-84710c7967bb [INF] Request finished in 4.1264ms 404  (791a596a)
2019-06-23T08:51:25.9576017+07:00 800003fa-0000-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/user/index   (ca22a1cb)
2019-06-23T08:51:25.9613643+07:00 800003fa-0000-f900-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.UserController.Index (OnlineShop)"' (500cc934)
2019-06-23T08:51:25.9644104+07:00 800003fa-0000-f900-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"User\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "OnlineShop.Areas.Admin.Controllers.UserController" ("OnlineShop"). (122b2fdf)
2019-06-23T08:51:25.9681329+07:00 800003fa-0000-f900-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T08:51:25.9720760+07:00 800003fa-0000-f900-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.UserController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T08:51:25.9763517+07:00 800003fa-0000-f900-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T08:51:25.9909526+07:00 800003fa-0000-f900-b63f-84710c7967bb [INF] Executed DbCommand ("9"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T08:51:25.9942904+07:00 800003fa-0000-f900-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T08:51:25.9979935+07:00 800003fa-0000-f900-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.UserController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 22.2857ms. (50a9e262)
2019-06-23T08:51:26.0012481+07:00 800003fa-0000-f900-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T08:51:26.0120417+07:00 800003fa-0000-f900-b63f-84710c7967bb [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T08:51:26.0149869+07:00 800003fa-0000-f900-b63f-84710c7967bb [INF] Authorization failed. (b15dd539)
2019-06-23T08:51:26.0256686+07:00 800003fa-0000-f900-b63f-84710c7967bb [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T08:51:26.0283754+07:00 800003fa-0000-f900-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T08:51:26.0389782+07:00 800003fa-0000-f900-b63f-84710c7967bb [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T08:51:26.0416684+07:00 800003fa-0000-f900-b63f-84710c7967bb [INF] Authorization failed. (b15dd539)
2019-06-23T08:51:26.0474973+07:00 800003fa-0000-f900-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-23T08:51:26.0527613+07:00 800003fa-0000-f900-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 50.8572ms. (f66409e9)
2019-06-23T08:51:26.0563221+07:00 800003fa-0000-f900-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.UserController.Index (OnlineShop)" in 88.5106ms (afa2e885)
2019-06-23T08:51:26.0602625+07:00 800003fa-0000-f900-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.UserController.Index (OnlineShop)"' (99874f2b)
2019-06-23T08:51:26.0792933+07:00 800003fa-0000-f900-b63f-84710c7967bb [INF] Request finished in 106.0103ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T08:51:26.1793840+07:00 800000c1-0001-ed00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/User/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-23T08:51:26.1837735+07:00 800000c1-0001-ed00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)"' (500cc934)
2019-06-23T08:51:26.1864018+07:00 800000c1-0001-ed00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"User\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllPaging(System.String, Int32, Int32)" on controller "OnlineShop.Areas.Admin.Controllers.UserController" ("OnlineShop"). (122b2fdf)
2019-06-23T08:51:26.1895355+07:00 800000c1-0001-ed00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T08:51:26.1932752+07:00 800000c1-0001-ed00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T08:51:26.1964763+07:00 800000c1-0001-ed00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T08:51:26.2015866+07:00 800000c1-0001-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppUsers] AS [a]" (0723d8ff)
2019-06-23T08:51:26.2080223+07:00 800000c1-0001-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[UserName], [x].[Avatar], CONVERT(VARCHAR(100), [x].[BirthDay]) AS [BirthDay], [x].[Email], [x].[FullName], [x].[Id], [x].[PhoneNumber], [x].[Status], [x].[DateCreated]
FROM [AppUsers] AS [x]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-23T08:51:26.2116313+07:00 800000c1-0001-ed00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 14.887ms. (50a9e262)
2019-06-23T08:51:26.2181668+07:00 800000c1-0001-ed00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Utilities.DTO.PagedResult`1[[OnlineShop.Services.ViewModels.system.AppUserViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T08:51:26.2261231+07:00 800000c1-0001-ed00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)" in 33.1287ms (afa2e885)
2019-06-23T08:51:26.2292738+07:00 800000c1-0001-ed00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)"' (99874f2b)
2019-06-23T08:51:26.2368641+07:00 800000c1-0001-ed00-b63f-84710c7967bb [INF] Request finished in 52.5273ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T08:51:26.2557189+07:00 80000044-0002-db00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/User/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-23T08:51:26.2598659+07:00 80000044-0002-db00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)"' (500cc934)
2019-06-23T08:51:26.2629476+07:00 80000044-0002-db00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"User\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllPaging(System.String, Int32, Int32)" on controller "OnlineShop.Areas.Admin.Controllers.UserController" ("OnlineShop"). (122b2fdf)
2019-06-23T08:51:26.2679650+07:00 80000044-0002-db00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T08:51:26.2728525+07:00 80000044-0002-db00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T08:51:26.2756926+07:00 80000044-0002-db00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T08:51:26.2788564+07:00 80000044-0002-db00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppUsers] AS [a]" (0723d8ff)
2019-06-23T08:51:26.2854393+07:00 80000044-0002-db00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[UserName], [x].[Avatar], CONVERT(VARCHAR(100), [x].[BirthDay]) AS [BirthDay], [x].[Email], [x].[FullName], [x].[Id], [x].[PhoneNumber], [x].[Status], [x].[DateCreated]
FROM [AppUsers] AS [x]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-23T08:51:26.2880387+07:00 80000044-0002-db00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 12.7088ms. (50a9e262)
2019-06-23T08:51:26.2911543+07:00 80000044-0002-db00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Utilities.DTO.PagedResult`1[[OnlineShop.Services.ViewModels.system.AppUserViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T08:51:26.2954431+07:00 80000044-0002-db00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)" in 28.5681ms (afa2e885)
2019-06-23T08:51:26.3015584+07:00 80000044-0002-db00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)"' (99874f2b)
2019-06-23T08:51:26.3043568+07:00 80000044-0002-db00-b63f-84710c7967bb [INF] Request finished in 50.6347ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T08:51:41.0867817+07:00 800003fc-0000-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/role/index   (ca22a1cb)
2019-06-23T08:51:41.0902330+07:00 800003fc-0000-f900-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)"' (500cc934)
2019-06-23T08:51:41.0935047+07:00 800003fc-0000-f900-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Role\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "OnlineShop.Areas.Admin.Controllers.RoleController" ("OnlineShop"). (122b2fdf)
2019-06-23T08:51:41.0996389+07:00 800003fc-0000-f900-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T08:51:41.1036633+07:00 800003fc-0000-f900-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T08:51:41.1058771+07:00 800003fc-0000-f900-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0178ms. (50a9e262)
2019-06-23T08:51:41.1099844+07:00 800003fc-0000-f900-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T08:51:41.1140711+07:00 800003fc-0000-f900-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T08:51:41.1217785+07:00 800003fc-0000-f900-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-23T08:51:41.1260260+07:00 800003fc-0000-f900-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 16.5215ms. (f66409e9)
2019-06-23T08:51:41.1299136+07:00 800003fc-0000-f900-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)" in 32.7233ms (afa2e885)
2019-06-23T08:51:41.1335082+07:00 800003fc-0000-f900-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)"' (99874f2b)
2019-06-23T08:51:41.1373616+07:00 800003fc-0000-f900-b63f-84710c7967bb [INF] Request finished in 49.8071ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T08:51:41.2621317+07:00 800003fe-0000-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/role/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-23T08:51:41.2653042+07:00 800003fe-0000-f900-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)"' (500cc934)
2019-06-23T08:51:41.2681127+07:00 800003fe-0000-f900-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Role\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllPaging(System.String, Int32, Int32)" on controller "OnlineShop.Areas.Admin.Controllers.RoleController" ("OnlineShop"). (122b2fdf)
2019-06-23T08:51:41.2708185+07:00 800003fe-0000-f900-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T08:51:41.2740142+07:00 800003fe-0000-f900-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T08:51:41.2768667+07:00 800003fe-0000-f900-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T08:51:41.2807619+07:00 800003fe-0000-f900-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppRoles] AS [a]" (0723d8ff)
2019-06-23T08:51:41.2848500+07:00 800003fe-0000-f900-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoAppRole].[Description], [dtoAppRole].[Id], [dtoAppRole].[Name]
FROM [AppRoles] AS [dtoAppRole]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-23T08:51:41.2878584+07:00 800003fe-0000-f900-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 10.9096ms. (50a9e262)
2019-06-23T08:51:41.2914718+07:00 800003fe-0000-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Utilities.DTO.PagedResult`1[[OnlineShop.Services.ViewModels.system.AppRoleViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T08:51:41.2950474+07:00 800003fe-0000-f900-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)" in 24.0443ms (afa2e885)
2019-06-23T08:51:41.2975246+07:00 800003fe-0000-f900-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)"' (99874f2b)
2019-06-23T08:51:41.3015639+07:00 800003fe-0000-f900-b63f-84710c7967bb [INF] Request finished in 37.8625ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T08:51:41.3289788+07:00 80000400-0000-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/role/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-23T08:51:41.3353158+07:00 80000400-0000-f900-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)"' (500cc934)
2019-06-23T08:51:41.3412187+07:00 80000400-0000-f900-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Role\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllPaging(System.String, Int32, Int32)" on controller "OnlineShop.Areas.Admin.Controllers.RoleController" ("OnlineShop"). (122b2fdf)
2019-06-23T08:51:41.3482932+07:00 80000400-0000-f900-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T08:51:41.3530021+07:00 80000400-0000-f900-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T08:51:41.3575871+07:00 80000400-0000-f900-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T08:51:41.3638850+07:00 80000400-0000-f900-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppRoles] AS [a]" (0723d8ff)
2019-06-23T08:51:41.3671746+07:00 80000400-0000-f900-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoAppRole].[Description], [dtoAppRole].[Id], [dtoAppRole].[Name]
FROM [AppRoles] AS [dtoAppRole]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-23T08:51:41.3698803+07:00 80000400-0000-f900-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 14.2734ms. (50a9e262)
2019-06-23T08:51:41.3725150+07:00 80000400-0000-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Utilities.DTO.PagedResult`1[[OnlineShop.Services.ViewModels.system.AppRoleViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T08:51:41.4001615+07:00 80000400-0000-f900-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)" in 32.828ms (afa2e885)
2019-06-23T08:51:41.4055802+07:00 80000400-0000-f900-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)"' (99874f2b)
2019-06-23T08:51:41.4136494+07:00 80000400-0000-f900-b63f-84710c7967bb [INF] Request finished in 80.086ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T08:51:43.1908110+07:00 800000ef-0003-ed00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/Function/GetAll   (ca22a1cb)
2019-06-23T08:51:43.1937854+07:00 80000046-0002-db00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44363/Admin/Role/ListAllFunction application/x-www-form-urlencoded; charset=UTF-8 43 (ca22a1cb)
2019-06-23T08:51:43.1964060+07:00 800000ef-0003-ed00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)"' (500cc934)
2019-06-23T08:51:43.2025043+07:00 800000ef-0003-ed00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"Function\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll()" on controller "OnlineShop.Areas.Admin.Controllers.FunctionController" ("OnlineShop"). (122b2fdf)
2019-06-23T08:51:43.2047326+07:00 80000046-0002-db00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)"' (500cc934)
2019-06-23T08:51:43.2103662+07:00 800000ef-0003-ed00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T08:51:43.2169206+07:00 80000046-0002-db00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"ListAllFunction\", controller = \"Role\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult ListAllFunction(System.Guid)" on controller "OnlineShop.Areas.Admin.Controllers.RoleController" ("OnlineShop"). (122b2fdf)
2019-06-23T08:51:43.2183344+07:00 800000ef-0003-ed00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T08:51:43.2266789+07:00 80000046-0002-db00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T08:51:43.2299640+07:00 800000ef-0003-ed00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T08:51:43.2324519+07:00 80000046-0002-db00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T08:51:43.2356360+07:00 80000046-0002-db00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T08:51:43.2426353+07:00 800000ef-0003-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-23T08:51:43.2459695+07:00 800000ef-0003-ed00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 25.1573ms. (50a9e262)
2019-06-23T08:51:43.2483076+07:00 800000ef-0003-ed00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[OnlineShop.Services.ViewModels.system.FunctionViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T08:51:43.2518965+07:00 80000046-0002-db00-b63f-84710c7967bb [INF] Executed DbCommand ("5"ms) [Parameters=["@__roleId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT @__roleId_0 AS [RoleId], [f].[Id] AS [FunctionId], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanCreate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanCreate], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanDelete] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanDelete], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanRead] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanRead], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanUpdate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanUpdate]
FROM [Functions] AS [f]
LEFT JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
WHERE [p].[Id] IS NOT NULL AND ([p].[RoleId] = @__roleId_0)" (0723d8ff)
2019-06-23T08:51:43.2544611+07:00 800000ef-0003-ed00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)" in 48.2855ms (afa2e885)
2019-06-23T08:51:43.2623859+07:00 80000046-0002-db00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 20.7506ms. (50a9e262)
2019-06-23T08:51:43.2649313+07:00 800000ef-0003-ed00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)"' (99874f2b)
2019-06-23T08:51:43.2674216+07:00 80000046-0002-db00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[OnlineShop.Services.ViewModels.system.PermissionViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T08:51:43.2697488+07:00 800000ef-0003-ed00-b63f-84710c7967bb [INF] Request finished in 78.4111ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T08:51:43.2779175+07:00 80000046-0002-db00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)" in 52.7273ms (afa2e885)
2019-06-23T08:51:43.2802418+07:00 80000046-0002-db00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)"' (99874f2b)
2019-06-23T08:51:43.2833226+07:00 80000046-0002-db00-b63f-84710c7967bb [INF] Request finished in 89.4499ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T08:51:46.9502610+07:00 80000402-0000-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44363/Admin/Role/SavePermission application/x-www-form-urlencoded; charset=UTF-8 7021 (ca22a1cb)
2019-06-23T08:51:46.9546501+07:00 80000402-0000-f900-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.SavePermission (OnlineShop)"' (500cc934)
2019-06-23T08:51:46.9677728+07:00 80000402-0000-f900-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"SavePermission\", controller = \"Role\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult SavePermission(System.Collections.Generic.List`1[OnlineShop.Services.ViewModels.system.PermissionViewModel], System.Guid)" on controller "OnlineShop.Areas.Admin.Controllers.RoleController" ("OnlineShop"). (122b2fdf)
2019-06-23T08:51:46.9705576+07:00 80000402-0000-f900-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T08:51:46.9899700+07:00 80000402-0000-f900-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.RoleController.SavePermission (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T08:51:47.0191699+07:00 80000402-0000-f900-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T08:51:47.0315237+07:00 80000402-0000-f900-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__roleId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CanCreate], [x].[CanDelete], [x].[CanRead], [x].[CanUpdate], [x].[FunctionId], [x].[RoleId]
FROM [Permissions] AS [x]
WHERE [x].[RoleId] = @__roleId_0" (0723d8ff)
2019-06-23T08:51:47.1816489+07:00 80000402-0000-f900-b63f-84710c7967bb [INF] Executed DbCommand ("33"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (DbType = Int32), @p24='?' (DbType = Boolean), @p25='?' (DbType = Boolean), @p26='?' (DbType = Boolean), @p27='?' (DbType = Boolean), @p28='?' (Size = 128) (DbType = AnsiString), @p29='?' (DbType = Guid), @p30='?' (DbType = Boolean), @p31='?' (DbType = Boolean), @p32='?' (DbType = Boolean), @p33='?' (DbType = Boolean), @p34='?' (Size = 128) (DbType = AnsiString), @p35='?' (DbType = Guid), @p36='?' (DbType = Boolean), @p37='?' (DbType = Boolean), @p38='?' (DbType = Boolean), @p39='?' (DbType = Boolean), @p40='?' (Size = 128) (DbType = AnsiString), @p41='?' (DbType = Guid), @p42='?' (DbType = Boolean), @p43='?' (DbType = Boolean), @p44='?' (DbType = Boolean), @p45='?' (DbType = Boolean), @p46='?' (Size = 128) (DbType = AnsiString), @p47='?' (DbType = Guid), @p48='?' (DbType = Boolean), @p49='?' (DbType = Boolean), @p50='?' (DbType = Boolean), @p51='?' (DbType = Boolean), @p52='?' (Size = 128) (DbType = AnsiString), @p53='?' (DbType = Guid), @p54='?' (DbType = Boolean), @p55='?' (DbType = Boolean), @p56='?' (DbType = Boolean), @p57='?' (DbType = Boolean), @p58='?' (Size = 128) (DbType = AnsiString), @p59='?' (DbType = Guid), @p60='?' (DbType = Boolean), @p61='?' (DbType = Boolean), @p62='?' (DbType = Boolean), @p63='?' (DbType = Boolean), @p64='?' (Size = 128) (DbType = AnsiString), @p65='?' (DbType = Guid), @p66='?' (DbType = Boolean), @p67='?' (DbType = Boolean), @p68='?' (DbType = Boolean), @p69='?' (DbType = Boolean), @p70='?' (Size = 128) (DbType = AnsiString), @p71='?' (DbType = Guid), @p72='?' (DbType = Boolean), @p73='?' (DbType = Boolean), @p74='?' (DbType = Boolean), @p75='?' (DbType = Boolean), @p76='?' (Size = 128) (DbType = AnsiString), @p77='?' (DbType = Guid), @p78='?' (DbType = Boolean), @p79='?' (DbType = Boolean), @p80='?' (DbType = Boolean), @p81='?' (DbType = Boolean), @p82='?' (Size = 128) (DbType = AnsiString), @p83='?' (DbType = Guid), @p84='?' (DbType = Boolean), @p85='?' (DbType = Boolean), @p86='?' (DbType = Boolean), @p87='?' (DbType = Boolean), @p88='?' (Size = 128) (DbType = AnsiString), @p89='?' (DbType = Guid), @p90='?' (DbType = Boolean), @p91='?' (DbType = Boolean), @p92='?' (DbType = Boolean), @p93='?' (DbType = Boolean), @p94='?' (Size = 128) (DbType = AnsiString), @p95='?' (DbType = Guid), @p96='?' (DbType = Boolean), @p97='?' (DbType = Boolean), @p98='?' (DbType = Boolean), @p99='?' (DbType = Boolean), @p100='?' (Size = 128) (DbType = AnsiString), @p101='?' (DbType = Guid), @p102='?' (DbType = Boolean), @p103='?' (DbType = Boolean), @p104='?' (DbType = Boolean), @p105='?' (DbType = Boolean), @p106='?' (Size = 128) (DbType = AnsiString), @p107='?' (DbType = Guid), @p108='?' (DbType = Boolean), @p109='?' (DbType = Boolean), @p110='?' (DbType = Boolean), @p111='?' (DbType = Boolean), @p112='?' (Size = 128) (DbType = AnsiString), @p113='?' (DbType = Guid), @p114='?' (DbType = Boolean), @p115='?' (DbType = Boolean), @p116='?' (DbType = Boolean), @p117='?' (DbType = Boolean), @p118='?' (Size = 128) (DbType = AnsiString), @p119='?' (DbType = Guid), @p120='?' (DbType = Boolean), @p121='?' (DbType = Boolean), @p122='?' (DbType = Boolean), @p123='?' (DbType = Boolean), @p124='?' (Size = 128) (DbType = AnsiString), @p125='?' (DbType = Guid), @p126='?' (DbType = Boolean), @p127='?' (DbType = Boolean), @p128='?' (DbType = Boolean), @p129='?' (DbType = Boolean), @p130='?' (Size = 128) (DbType = AnsiString), @p131='?' (DbType = Guid), @p132='?' (DbType = Boolean), @p133='?' (DbType = Boolean), @p134='?' (DbType = Boolean), @p135='?' (DbType = Boolean), @p136='?' (Size = 128) (DbType = AnsiString), @p137='?' (DbType = Guid), @p138='?' (DbType = Boolean), @p139='?' (DbType = Boolean), @p140='?' (DbType = Boolean), @p141='?' (DbType = Boolean), @p142='?' (Size = 128) (DbType = AnsiString), @p143='?' (DbType = Guid), @p144='?' (DbType = Boolean), @p145='?' (DbType = Boolean), @p146='?' (DbType = Boolean), @p147='?' (DbType = Boolean), @p148='?' (Size = 128) (DbType = AnsiString), @p149='?' (DbType = Guid), @p150='?' (DbType = Boolean), @p151='?' (DbType = Boolean), @p152='?' (DbType = Boolean), @p153='?' (DbType = Boolean), @p154='?' (Size = 128) (DbType = AnsiString), @p155='?' (DbType = Guid), @p156='?' (DbType = Boolean), @p157='?' (DbType = Boolean), @p158='?' (DbType = Boolean), @p159='?' (DbType = Boolean), @p160='?' (Size = 128) (DbType = AnsiString), @p161='?' (DbType = Guid), @p162='?' (DbType = Boolean), @p163='?' (DbType = Boolean), @p164='?' (DbType = Boolean), @p165='?' (DbType = Boolean), @p166='?' (Size = 128) (DbType = AnsiString), @p167='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [Permissions]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p3;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p4;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p5;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p6;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p7;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p8;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p9;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p10;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p11;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p12;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p13;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p14;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p15;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p16;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p17;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p18;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p19;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p20;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p21;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p22;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p23;
SELECT @@ROWCOUNT;

DECLARE @inserted24 TABLE ([Id] int, [_Position] [int]);
MERGE [Permissions] USING (
VALUES (@p24, @p25, @p26, @p27, @p28, @p29, 0),
(@p30, @p31, @p32, @p33, @p34, @p35, 1),
(@p36, @p37, @p38, @p39, @p40, @p41, 2),
(@p42, @p43, @p44, @p45, @p46, @p47, 3),
(@p48, @p49, @p50, @p51, @p52, @p53, 4),
(@p54, @p55, @p56, @p57, @p58, @p59, 5),
(@p60, @p61, @p62, @p63, @p64, @p65, 6),
(@p66, @p67, @p68, @p69, @p70, @p71, 7),
(@p72, @p73, @p74, @p75, @p76, @p77, 8),
(@p78, @p79, @p80, @p81, @p82, @p83, 9),
(@p84, @p85, @p86, @p87, @p88, @p89, 10),
(@p90, @p91, @p92, @p93, @p94, @p95, 11),
(@p96, @p97, @p98, @p99, @p100, @p101, 12),
(@p102, @p103, @p104, @p105, @p106, @p107, 13),
(@p108, @p109, @p110, @p111, @p112, @p113, 14),
(@p114, @p115, @p116, @p117, @p118, @p119, 15),
(@p120, @p121, @p122, @p123, @p124, @p125, 16),
(@p126, @p127, @p128, @p129, @p130, @p131, 17),
(@p132, @p133, @p134, @p135, @p136, @p137, 18),
(@p138, @p139, @p140, @p141, @p142, @p143, 19),
(@p144, @p145, @p146, @p147, @p148, @p149, 20),
(@p150, @p151, @p152, @p153, @p154, @p155, 21),
(@p156, @p157, @p158, @p159, @p160, @p161, 22),
(@p162, @p163, @p164, @p165, @p166, @p167, 23)) AS i ([CanCreate], [CanDelete], [CanRead], [CanUpdate], [FunctionId], [RoleId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CanCreate], [CanDelete], [CanRead], [CanUpdate], [FunctionId], [RoleId])
VALUES (i.[CanCreate], i.[CanDelete], i.[CanRead], i.[CanUpdate], i.[FunctionId], i.[RoleId])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted24;

SELECT [t].[Id] FROM [Permissions] t
INNER JOIN @inserted24 i ON ([t].[Id] = [i].[Id])
ORDER BY [i].[_Position];" (0723d8ff)
2019-06-23T08:51:47.1997147+07:00 80000402-0000-f900-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.RoleController.SavePermission (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkResult" in 206.3724ms. (50a9e262)
2019-06-23T08:51:47.2064579+07:00 80000402-0000-f900-b63f-84710c7967bb [INF] Executing HttpStatusCodeResult, setting HTTP status code 200 (e28ccfae)
2019-06-23T08:51:47.2095326+07:00 80000402-0000-f900-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.RoleController.SavePermission (OnlineShop)" in 238.7858ms (afa2e885)
2019-06-23T08:51:47.2118473+07:00 80000402-0000-f900-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.SavePermission (OnlineShop)"' (99874f2b)
2019-06-23T08:51:47.2150542+07:00 80000402-0000-f900-b63f-84710c7967bb [INF] Request finished in 264.7299ms 200  (791a596a)
2019-06-23T08:51:50.7878660+07:00 800000f1-0003-ed00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin   (ca22a1cb)
2019-06-23T08:51:50.7962898+07:00 800000f1-0003-ed00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)"' (500cc934)
2019-06-23T08:51:50.7999301+07:00 800000f1-0003-ed00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Login\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "OnlineShop.Areas.Admin.Controllers.LoginController" ("OnlineShop"). (122b2fdf)
2019-06-23T08:51:50.8093377+07:00 800000f1-0003-ed00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T08:51:50.8126810+07:00 800000f1-0003-ed00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0177ms. (50a9e262)
2019-06-23T08:51:50.8151524+07:00 800000f1-0003-ed00-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T08:51:50.8277845+07:00 800000f1-0003-ed00-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 3.1951ms. (f66409e9)
2019-06-23T08:51:50.8717198+07:00 800000f1-0003-ed00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)" in 27.6819ms (afa2e885)
2019-06-23T08:51:50.8756454+07:00 800000f1-0003-ed00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)"' (99874f2b)
2019-06-23T08:51:50.8794002+07:00 800000f1-0003-ed00-b63f-84710c7967bb [INF] Request finished in 90.4115ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T08:51:51.9242129+07:00 800000c3-0001-ed00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44363/admin/login/authen application/x-www-form-urlencoded; charset=UTF-8 33 (ca22a1cb)
2019-06-23T08:51:51.9282764+07:00 800000c3-0001-ed00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)"' (500cc934)
2019-06-23T08:51:51.9306886+07:00 800000c3-0001-ed00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Authen\", controller = \"Login\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authen(OnlineShop.Models.LoginViewModel)" on controller "OnlineShop.Areas.Admin.Controllers.LoginController" ("OnlineShop"). (122b2fdf)
2019-06-23T08:51:51.9333820+07:00 800000c3-0001-ed00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T08:51:51.9375993+07:00 800000c3-0001-ed00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T08:51:51.9443198+07:00 800000c3-0001-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Avatar], [u].[Balance], [u].[BirthDay], [u].[ConcurrencyStamp], [u].[DateCreated], [u].[DateModified], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AppUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-06-23T08:51:51.9587332+07:00 800000c3-0001-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AppUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2019-06-23T08:51:51.9653894+07:00 800000c3-0001-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-23T08:51:51.9702652+07:00 800000c3-0001-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AppRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-23T08:51:51.9758392+07:00 800000c3-0001-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AppRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-23T08:51:51.9812487+07:00 800000c3-0001-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-23T08:51:51.9848445+07:00 800000c3-0001-ed00-b63f-84710c7967bb [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-06-23T08:51:51.9881796+07:00 800000c3-0001-ed00-b63f-84710c7967bb [INF] User logged in. (fdce0db4)
2019-06-23T08:51:51.9905404+07:00 800000c3-0001-ed00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 54.8524ms. (50a9e262)
2019-06-23T08:51:51.9937118+07:00 800000c3-0001-ed00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Utilities.DTO.GenericResult"'. (8a1b66c8)
2019-06-23T08:51:51.9968913+07:00 800000c3-0001-ed00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)" in 63.4242ms (afa2e885)
2019-06-23T08:51:51.9995162+07:00 800000c3-0001-ed00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)"' (99874f2b)
2019-06-23T08:51:52.0021590+07:00 800000c3-0001-ed00-b63f-84710c7967bb [INF] Request finished in 77.8732ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T08:51:52.0117919+07:00 80000048-0002-db00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/Home/Index   (ca22a1cb)
2019-06-23T08:51:52.0152869+07:00 80000048-0002-db00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)"' (500cc934)
2019-06-23T08:51:52.0185166+07:00 80000048-0002-db00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Home\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "OnlineShop.Areas.Admin.Controllers.HomeController" ("OnlineShop"). (122b2fdf)
2019-06-23T08:51:52.0236022+07:00 80000048-0002-db00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T08:51:52.0269919+07:00 80000048-0002-db00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T08:51:52.0292447+07:00 80000048-0002-db00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0259ms. (50a9e262)
2019-06-23T08:51:52.0316191+07:00 80000048-0002-db00-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T08:51:52.0345827+07:00 80000048-0002-db00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T08:51:52.0432633+07:00 80000048-0002-db00-b63f-84710c7967bb [INF] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-23T08:51:52.0507121+07:00 80000048-0002-db00-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 15.5458ms. (f66409e9)
2019-06-23T08:51:52.0588063+07:00 80000048-0002-db00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)" in 34.4145ms (afa2e885)
2019-06-23T08:51:52.0645047+07:00 80000048-0002-db00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)"' (99874f2b)
2019-06-23T08:51:52.0776624+07:00 80000048-0002-db00-b63f-84710c7967bb [INF] Request finished in 55.7034ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T08:51:53.0459233+07:00 8000004a-0002-db00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin   (ca22a1cb)
2019-06-23T08:51:53.0498874+07:00 8000004a-0002-db00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)"' (500cc934)
2019-06-23T08:51:53.0545222+07:00 8000004a-0002-db00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Login\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "OnlineShop.Areas.Admin.Controllers.LoginController" ("OnlineShop"). (122b2fdf)
2019-06-23T08:51:53.0579323+07:00 8000004a-0002-db00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T08:51:53.0620570+07:00 8000004a-0002-db00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0169ms. (50a9e262)
2019-06-23T08:51:53.0647397+07:00 8000004a-0002-db00-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T08:51:53.0728296+07:00 8000004a-0002-db00-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 3.3093ms. (f66409e9)
2019-06-23T08:51:53.0786151+07:00 8000004a-0002-db00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)" in 18.3349ms (afa2e885)
2019-06-23T08:51:53.0828862+07:00 8000004a-0002-db00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)"' (99874f2b)
2019-06-23T08:51:53.0889719+07:00 8000004a-0002-db00-b63f-84710c7967bb [INF] Request finished in 41.2363ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T08:51:58.6105830+07:00 80000404-0000-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44363/admin/login/authen application/x-www-form-urlencoded; charset=UTF-8 33 (ca22a1cb)
2019-06-23T08:51:58.6137731+07:00 80000404-0000-f900-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)"' (500cc934)
2019-06-23T08:51:58.6177176+07:00 80000404-0000-f900-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Authen\", controller = \"Login\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authen(OnlineShop.Models.LoginViewModel)" on controller "OnlineShop.Areas.Admin.Controllers.LoginController" ("OnlineShop"). (122b2fdf)
2019-06-23T08:51:58.6219902+07:00 80000404-0000-f900-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T08:51:58.6259045+07:00 80000404-0000-f900-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T08:51:58.6304614+07:00 80000404-0000-f900-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Avatar], [u].[Balance], [u].[BirthDay], [u].[ConcurrencyStamp], [u].[DateCreated], [u].[DateModified], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AppUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-06-23T08:51:58.6478372+07:00 80000404-0000-f900-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AppUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2019-06-23T08:51:58.6531682+07:00 80000404-0000-f900-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-23T08:51:58.6585438+07:00 80000404-0000-f900-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AppRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-23T08:51:58.6639508+07:00 80000404-0000-f900-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AppRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-23T08:51:58.6693017+07:00 80000404-0000-f900-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-23T08:51:58.6732668+07:00 80000404-0000-f900-b63f-84710c7967bb [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-06-23T08:51:58.6765489+07:00 80000404-0000-f900-b63f-84710c7967bb [INF] User logged in. (fdce0db4)
2019-06-23T08:51:58.6791032+07:00 80000404-0000-f900-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 54.616ms. (50a9e262)
2019-06-23T08:51:58.6825647+07:00 80000404-0000-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Utilities.DTO.GenericResult"'. (8a1b66c8)
2019-06-23T08:51:58.6864302+07:00 80000404-0000-f900-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)" in 65.4157ms (afa2e885)
2019-06-23T08:51:58.6900627+07:00 80000404-0000-f900-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)"' (99874f2b)
2019-06-23T08:51:58.6940429+07:00 80000404-0000-f900-b63f-84710c7967bb [INF] Request finished in 82.578ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T08:51:58.7076407+07:00 80000406-0000-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/Home/Index   (ca22a1cb)
2019-06-23T08:51:58.7119759+07:00 80000406-0000-f900-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)"' (500cc934)
2019-06-23T08:51:58.7148774+07:00 80000406-0000-f900-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Home\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "OnlineShop.Areas.Admin.Controllers.HomeController" ("OnlineShop"). (122b2fdf)
2019-06-23T08:51:58.7206044+07:00 80000406-0000-f900-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T08:51:58.7237672+07:00 80000406-0000-f900-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T08:51:58.7268054+07:00 80000406-0000-f900-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0292ms. (50a9e262)
2019-06-23T08:51:58.7303673+07:00 80000406-0000-f900-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T08:51:58.7354060+07:00 80000406-0000-f900-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T08:51:58.7411860+07:00 80000406-0000-f900-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-23T08:51:58.7504041+07:00 80000406-0000-f900-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 16.7538ms. (f66409e9)
2019-06-23T08:51:58.7617253+07:00 80000406-0000-f900-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)" in 36.5104ms (afa2e885)
2019-06-23T08:51:58.7891106+07:00 80000406-0000-f900-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)"' (99874f2b)
2019-06-23T08:51:58.7928065+07:00 80000406-0000-f900-b63f-84710c7967bb [INF] Request finished in 86.6816ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T08:52:04.4747019+07:00 80000408-0000-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/user/index   (ca22a1cb)
2019-06-23T08:52:04.4805968+07:00 80000408-0000-f900-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.UserController.Index (OnlineShop)"' (500cc934)
2019-06-23T08:52:04.4844280+07:00 80000408-0000-f900-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"User\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "OnlineShop.Areas.Admin.Controllers.UserController" ("OnlineShop"). (122b2fdf)
2019-06-23T08:52:04.4904314+07:00 80000408-0000-f900-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T08:52:04.4946518+07:00 80000408-0000-f900-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.UserController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T08:52:04.5001059+07:00 80000408-0000-f900-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T08:52:04.5259438+07:00 80000408-0000-f900-b63f-84710c7967bb [INF] Executed DbCommand ("14"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T08:52:04.5371073+07:00 80000408-0000-f900-b63f-84710c7967bb [INF] Authorization failed. (b15dd539)
2019-06-23T08:52:04.5452229+07:00 80000408-0000-f900-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.UserController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.RedirectResult" in 42.653ms. (50a9e262)
2019-06-23T08:52:04.5573407+07:00 80000408-0000-f900-b63f-84710c7967bb [INF] Executing RedirectResult, redirecting to "/Admin/Login/Index". (d98d540e)
2019-06-23T08:52:04.5673239+07:00 80000408-0000-f900-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.UserController.Index (OnlineShop)" in 73.1788ms (afa2e885)
2019-06-23T08:52:04.5734481+07:00 80000408-0000-f900-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.UserController.Index (OnlineShop)"' (99874f2b)
2019-06-23T08:52:04.5935047+07:00 80000408-0000-f900-b63f-84710c7967bb [INF] Request finished in 116.8479ms 302  (791a596a)
2019-06-23T08:52:04.5935301+07:00 800000c5-0001-ed00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/Login/Index   (ca22a1cb)
2019-06-23T08:52:04.6002741+07:00 800000c5-0001-ed00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)"' (500cc934)
2019-06-23T08:52:04.6082882+07:00 800000c5-0001-ed00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Login\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "OnlineShop.Areas.Admin.Controllers.LoginController" ("OnlineShop"). (122b2fdf)
2019-06-23T08:52:04.6369869+07:00 800000c5-0001-ed00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T08:52:04.6449804+07:00 800000c5-0001-ed00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0162ms. (50a9e262)
2019-06-23T08:52:04.6827841+07:00 800000c5-0001-ed00-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T08:52:04.7575830+07:00 800000c5-0001-ed00-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 39.338ms. (f66409e9)
2019-06-23T08:52:04.7716027+07:00 800000c5-0001-ed00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)" in 149.307ms (afa2e885)
2019-06-23T08:52:04.7779027+07:00 800000c5-0001-ed00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)"' (99874f2b)
2019-06-23T08:52:04.7905997+07:00 800000c5-0001-ed00-b63f-84710c7967bb [INF] Request finished in 190.9251ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T08:55:54.3870889+07:00 80000066-0000-f000-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/Login   (ca22a1cb)
2019-06-23T08:55:54.3870889+07:00 8000040a-0000-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/   (ca22a1cb)
2019-06-23T08:55:54.6064198+07:00 8000040a-0000-f900-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Controllers.HomeController.Index (OnlineShop)"' (500cc934)
2019-06-23T08:55:54.6088211+07:00 80000066-0000-f000-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)"' (500cc934)
2019-06-23T08:55:54.6444579+07:00 80000066-0000-f000-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Login\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "OnlineShop.Areas.Admin.Controllers.LoginController" ("OnlineShop"). (122b2fdf)
2019-06-23T08:55:54.6447078+07:00 8000040a-0000-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "OnlineShop.Controllers.HomeController" ("OnlineShop"). (122b2fdf)
2019-06-23T08:55:54.6757955+07:00 8000040a-0000-f900-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Controllers.HomeController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T08:55:54.6757955+07:00 80000066-0000-f000-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T08:55:54.6927964+07:00 80000066-0000-f000-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 2.3475ms. (50a9e262)
2019-06-23T08:55:54.6927964+07:00 8000040a-0000-f900-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Controllers.HomeController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 3.2067ms. (50a9e262)
2019-06-23T08:55:54.7369808+07:00 8000040a-0000-f900-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T08:55:54.7381041+07:00 80000066-0000-f000-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T08:55:54.9038016+07:00 80000066-0000-f000-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 192.6451ms. (f66409e9)
2019-06-23T08:55:54.9114067+07:00 80000066-0000-f000-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)" in 259.7462ms (afa2e885)
2019-06-23T08:55:54.9148156+07:00 80000066-0000-f000-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)"' (99874f2b)
2019-06-23T08:55:54.9351500+07:00 8000004c-0002-db00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/Login   (ca22a1cb)
2019-06-23T08:55:54.9494254+07:00 80000066-0000-f000-b63f-84710c7967bb [INF] Request finished in 568.6439ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T08:55:54.9582362+07:00 8000004c-0002-db00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)"' (500cc934)
2019-06-23T08:55:54.9628661+07:00 8000004c-0002-db00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Login\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "OnlineShop.Areas.Admin.Controllers.LoginController" ("OnlineShop"). (122b2fdf)
2019-06-23T08:55:54.9753287+07:00 8000004c-0002-db00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T08:55:54.9812942+07:00 8000004c-0002-db00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0218ms. (50a9e262)
2019-06-23T08:55:54.9855331+07:00 8000004c-0002-db00-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T08:55:55.0481842+07:00 8000004c-0002-db00-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 8.0105ms. (f66409e9)
2019-06-23T08:55:55.0639114+07:00 8000004c-0002-db00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)" in 85.5296ms (afa2e885)
2019-06-23T08:55:55.0694939+07:00 8000004c-0002-db00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)"' (99874f2b)
2019-06-23T08:55:55.0733138+07:00 8000004c-0002-db00-b63f-84710c7967bb [INF] Request finished in 141.4205ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T08:55:55.1153702+07:00 8000040a-0000-f900-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 406.6687ms. (f66409e9)
2019-06-23T08:55:55.1215410+07:00 8000040a-0000-f900-b63f-84710c7967bb [INF] Executed action "OnlineShop.Controllers.HomeController.Index (OnlineShop)" in 470.7236ms (afa2e885)
2019-06-23T08:55:55.1297927+07:00 8000040a-0000-f900-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Controllers.HomeController.Index (OnlineShop)"' (99874f2b)
2019-06-23T08:55:55.1329276+07:00 8000040a-0000-f900-b63f-84710c7967bb [INF] Request finished in 756.2989ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T08:56:11.6884670+07:00 8000004e-0002-db00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44363/admin/login/authen application/x-www-form-urlencoded; charset=UTF-8 33 (ca22a1cb)
2019-06-23T08:56:11.6925928+07:00 8000004e-0002-db00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)"' (500cc934)
2019-06-23T08:56:11.7172556+07:00 8000004e-0002-db00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Authen\", controller = \"Login\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authen(OnlineShop.Models.LoginViewModel)" on controller "OnlineShop.Areas.Admin.Controllers.LoginController" ("OnlineShop"). (122b2fdf)
2019-06-23T08:56:11.7787944+07:00 8000004e-0002-db00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T08:56:11.7981003+07:00 8000004e-0002-db00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T08:56:11.8639488+07:00 8000004e-0002-db00-b63f-84710c7967bb [INF] Executed DbCommand ("12"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Avatar], [u].[Balance], [u].[BirthDay], [u].[ConcurrencyStamp], [u].[DateCreated], [u].[DateModified], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AppUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-06-23T08:56:12.1295488+07:00 8000004e-0002-db00-b63f-84710c7967bb [INF] Executed DbCommand ("8"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AppUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2019-06-23T08:56:12.1924298+07:00 8000004e-0002-db00-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-23T08:56:12.2154654+07:00 8000004e-0002-db00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AppRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-23T08:56:12.2418204+07:00 8000004e-0002-db00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AppRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-23T08:56:12.2509653+07:00 8000004e-0002-db00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-23T08:56:12.2629253+07:00 8000004e-0002-db00-b63f-84710c7967bb [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-06-23T08:56:12.2688030+07:00 8000004e-0002-db00-b63f-84710c7967bb [INF] User logged in. (fdce0db4)
2019-06-23T08:56:12.2737481+07:00 8000004e-0002-db00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 492.6246ms. (50a9e262)
2019-06-23T08:56:12.2849633+07:00 8000004e-0002-db00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Utilities.DTO.GenericResult"'. (8a1b66c8)
2019-06-23T08:56:12.3535491+07:00 8000004e-0002-db00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)" in 632.2744ms (afa2e885)
2019-06-23T08:56:12.3581750+07:00 8000004e-0002-db00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)"' (99874f2b)
2019-06-23T08:56:12.3610010+07:00 8000004e-0002-db00-b63f-84710c7967bb [INF] Request finished in 672.8878ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T08:56:12.3772762+07:00 80000050-0002-db00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/Home/Index   (ca22a1cb)
2019-06-23T08:56:12.3809928+07:00 80000050-0002-db00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)"' (500cc934)
2019-06-23T08:56:12.3880733+07:00 80000050-0002-db00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Home\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "OnlineShop.Areas.Admin.Controllers.HomeController" ("OnlineShop"). (122b2fdf)
2019-06-23T08:56:12.4142932+07:00 80000050-0002-db00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T08:56:12.4177903+07:00 80000050-0002-db00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T08:56:12.4205963+07:00 80000050-0002-db00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.4223ms. (50a9e262)
2019-06-23T08:56:12.4320233+07:00 80000050-0002-db00-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T08:56:12.4898286+07:00 80000050-0002-db00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T08:56:12.5368338+07:00 80000050-0002-db00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-23T08:56:12.6190120+07:00 80000050-0002-db00-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 192.9593ms. (f66409e9)
2019-06-23T08:56:12.6417377+07:00 80000050-0002-db00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)" in 247.6772ms (afa2e885)
2019-06-23T08:56:12.6449529+07:00 80000050-0002-db00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)"' (99874f2b)
2019-06-23T08:56:12.6484082+07:00 80000050-0002-db00-b63f-84710c7967bb [INF] Request finished in 272.8872ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T08:56:16.9307730+07:00 80000052-0002-db00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/role/index   (ca22a1cb)
2019-06-23T08:56:16.9341780+07:00 80000052-0002-db00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)"' (500cc934)
2019-06-23T08:56:16.9438613+07:00 80000052-0002-db00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Role\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "OnlineShop.Areas.Admin.Controllers.RoleController" ("OnlineShop"). (122b2fdf)
2019-06-23T08:56:16.9470243+07:00 80000052-0002-db00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T08:56:16.9518792+07:00 80000052-0002-db00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T08:56:16.9669987+07:00 80000052-0002-db00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T08:56:17.0276896+07:00 80000052-0002-db00-b63f-84710c7967bb [INF] Executed DbCommand ("13"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T08:56:17.0500858+07:00 80000052-0002-db00-b63f-84710c7967bb [INF] Authorization failed. (b15dd539)
2019-06-23T08:56:17.0529065+07:00 80000052-0002-db00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.RedirectResult" in 98.4385ms. (50a9e262)
2019-06-23T08:56:17.0562242+07:00 80000052-0002-db00-b63f-84710c7967bb [INF] Executing RedirectResult, redirecting to "/Admin/Login/Index". (d98d540e)
2019-06-23T08:56:17.0587836+07:00 80000052-0002-db00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)" in 112.6544ms (afa2e885)
2019-06-23T08:56:17.0615520+07:00 80000052-0002-db00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)"' (99874f2b)
2019-06-23T08:56:17.0707473+07:00 80000052-0002-db00-b63f-84710c7967bb [INF] Request finished in 135.8603ms 302  (791a596a)
2019-06-23T08:56:17.0728832+07:00 800000c7-0001-ed00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/Login/Index   (ca22a1cb)
2019-06-23T08:56:17.0771254+07:00 800000c7-0001-ed00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)"' (500cc934)
2019-06-23T08:56:17.0802348+07:00 800000c7-0001-ed00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Login\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "OnlineShop.Areas.Admin.Controllers.LoginController" ("OnlineShop"). (122b2fdf)
2019-06-23T08:56:17.0836309+07:00 800000c7-0001-ed00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T08:56:17.0863330+07:00 800000c7-0001-ed00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0248ms. (50a9e262)
2019-06-23T08:56:17.0885664+07:00 800000c7-0001-ed00-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T08:56:17.0924044+07:00 800000c7-0001-ed00-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 2.8663ms. (f66409e9)
2019-06-23T08:56:17.0961448+07:00 800000c7-0001-ed00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)" in 12.1537ms (afa2e885)
2019-06-23T08:56:17.1001059+07:00 800000c7-0001-ed00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)"' (99874f2b)
2019-06-23T08:56:17.1075433+07:00 800000c7-0001-ed00-b63f-84710c7967bb [INF] Request finished in 29.3857ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T08:56:22.2107986+07:00 800000c9-0001-ed00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44363/admin/login/authen application/x-www-form-urlencoded; charset=UTF-8 33 (ca22a1cb)
2019-06-23T08:56:22.2153852+07:00 800000c9-0001-ed00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)"' (500cc934)
2019-06-23T08:56:22.2188887+07:00 800000c9-0001-ed00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Authen\", controller = \"Login\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authen(OnlineShop.Models.LoginViewModel)" on controller "OnlineShop.Areas.Admin.Controllers.LoginController" ("OnlineShop"). (122b2fdf)
2019-06-23T08:56:22.2226417+07:00 800000c9-0001-ed00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T08:56:22.2255177+07:00 800000c9-0001-ed00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T08:56:22.2355926+07:00 800000c9-0001-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Avatar], [u].[Balance], [u].[BirthDay], [u].[ConcurrencyStamp], [u].[DateCreated], [u].[DateModified], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AppUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-06-23T08:56:22.2520932+07:00 800000c9-0001-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AppUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2019-06-23T08:56:22.2580286+07:00 800000c9-0001-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-23T08:56:22.2633546+07:00 800000c9-0001-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AppRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-23T08:56:22.2688378+07:00 800000c9-0001-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AppRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-23T08:56:22.2727631+07:00 800000c9-0001-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-23T08:56:22.2760138+07:00 800000c9-0001-ed00-b63f-84710c7967bb [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-06-23T08:56:22.2782797+07:00 800000c9-0001-ed00-b63f-84710c7967bb [INF] User logged in. (fdce0db4)
2019-06-23T08:56:22.2814462+07:00 800000c9-0001-ed00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 55.9701ms. (50a9e262)
2019-06-23T08:56:22.2848308+07:00 800000c9-0001-ed00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Utilities.DTO.GenericResult"'. (8a1b66c8)
2019-06-23T08:56:22.2882578+07:00 800000c9-0001-ed00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)" in 66.5568ms (afa2e885)
2019-06-23T08:56:22.2905725+07:00 800000c9-0001-ed00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)"' (99874f2b)
2019-06-23T08:56:22.2929812+07:00 800000c9-0001-ed00-b63f-84710c7967bb [INF] Request finished in 82.8098ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T08:56:22.3039555+07:00 800000cb-0001-ed00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/Home/Index   (ca22a1cb)
2019-06-23T08:56:22.3068594+07:00 800000cb-0001-ed00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)"' (500cc934)
2019-06-23T08:56:22.3093959+07:00 800000cb-0001-ed00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Home\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "OnlineShop.Areas.Admin.Controllers.HomeController" ("OnlineShop"). (122b2fdf)
2019-06-23T08:56:22.3121691+07:00 800000cb-0001-ed00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T08:56:22.3166234+07:00 800000cb-0001-ed00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T08:56:22.3203796+07:00 800000cb-0001-ed00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0298ms. (50a9e262)
2019-06-23T08:56:22.3237983+07:00 800000cb-0001-ed00-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T08:56:22.3271545+07:00 800000cb-0001-ed00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T08:56:22.3372881+07:00 800000cb-0001-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-23T08:56:22.3437408+07:00 800000cb-0001-ed00-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 18.8107ms. (f66409e9)
2019-06-23T08:56:22.3488875+07:00 800000cb-0001-ed00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)" in 35.8253ms (afa2e885)
2019-06-23T08:56:22.3560963+07:00 800000cb-0001-ed00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)"' (99874f2b)
2019-06-23T08:56:22.3725347+07:00 800000cb-0001-ed00-b63f-84710c7967bb [INF] Request finished in 55.0698ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T08:56:29.9201283+07:00 800000cd-0001-ed00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/role/index   (ca22a1cb)
2019-06-23T08:56:29.9271079+07:00 800000cd-0001-ed00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)"' (500cc934)
2019-06-23T08:56:29.9312780+07:00 800000cd-0001-ed00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Role\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "OnlineShop.Areas.Admin.Controllers.RoleController" ("OnlineShop"). (122b2fdf)
2019-06-23T08:56:29.9359608+07:00 800000cd-0001-ed00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T08:56:29.9421847+07:00 800000cd-0001-ed00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T08:56:29.9484106+07:00 800000cd-0001-ed00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T08:56:29.9641196+07:00 800000cd-0001-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("8"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T08:56:29.9676229+07:00 800000cd-0001-ed00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T08:56:29.9714598+07:00 800000cd-0001-ed00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 25.5137ms. (50a9e262)
2019-06-23T08:56:29.9775213+07:00 800000cd-0001-ed00-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T08:56:30.0113807+07:00 800000cd-0001-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-23T08:56:30.0246133+07:00 800000cd-0001-ed00-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 48.7144ms. (f66409e9)
2019-06-23T08:56:30.0287783+07:00 800000cd-0001-ed00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)" in 93.4943ms (afa2e885)
2019-06-23T08:56:30.0331301+07:00 800000cd-0001-ed00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)"' (99874f2b)
2019-06-23T08:56:30.0373245+07:00 800000cd-0001-ed00-b63f-84710c7967bb [INF] Request finished in 116.1297ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T08:56:30.1621226+07:00 80000054-0002-db00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/role/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-23T08:56:30.1655346+07:00 80000054-0002-db00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)"' (500cc934)
2019-06-23T08:56:30.1707754+07:00 80000054-0002-db00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Role\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllPaging(System.String, Int32, Int32)" on controller "OnlineShop.Areas.Admin.Controllers.RoleController" ("OnlineShop"). (122b2fdf)
2019-06-23T08:56:30.1751719+07:00 80000054-0002-db00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T08:56:30.1796110+07:00 80000054-0002-db00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T08:56:30.1847933+07:00 80000054-0002-db00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T08:56:30.1939332+07:00 80000054-0002-db00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppRoles] AS [a]" (0723d8ff)
2019-06-23T08:56:30.2173470+07:00 80000054-0002-db00-b63f-84710c7967bb [WRN] Query: '"(from AppRole dtoAppRole in DbSet<AppRole> select new AppRoleViewModel{ { 
    Description = [dtoAp..."' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results. (32148ccc)
2019-06-23T08:56:30.2339030+07:00 80000054-0002-db00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoAppRole].[Description], [dtoAppRole].[Id], [dtoAppRole].[Name]
FROM [AppRoles] AS [dtoAppRole]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-23T08:56:30.2385777+07:00 80000054-0002-db00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 56.9403ms. (50a9e262)
2019-06-23T08:56:30.2410203+07:00 80000054-0002-db00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Utilities.DTO.PagedResult`1[[OnlineShop.Services.ViewModels.system.AppRoleViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T08:56:30.2581005+07:00 80000054-0002-db00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)" in 84.1512ms (afa2e885)
2019-06-23T08:56:30.2614872+07:00 80000054-0002-db00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)"' (99874f2b)
2019-06-23T08:56:30.2643618+07:00 80000054-0002-db00-b63f-84710c7967bb [INF] Request finished in 102.285ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T08:56:30.2799586+07:00 80000056-0002-db00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/role/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-23T08:56:30.2835602+07:00 80000056-0002-db00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)"' (500cc934)
2019-06-23T08:56:30.2858861+07:00 80000056-0002-db00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Role\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllPaging(System.String, Int32, Int32)" on controller "OnlineShop.Areas.Admin.Controllers.RoleController" ("OnlineShop"). (122b2fdf)
2019-06-23T08:56:30.2883393+07:00 80000056-0002-db00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T08:56:30.2924855+07:00 80000056-0002-db00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T08:56:30.2955443+07:00 80000056-0002-db00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T08:56:30.2990537+07:00 80000056-0002-db00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppRoles] AS [a]" (0723d8ff)
2019-06-23T08:56:30.3026069+07:00 80000056-0002-db00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoAppRole].[Description], [dtoAppRole].[Id], [dtoAppRole].[Name]
FROM [AppRoles] AS [dtoAppRole]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-23T08:56:30.3049612+07:00 80000056-0002-db00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 10.3303ms. (50a9e262)
2019-06-23T08:56:30.3071741+07:00 80000056-0002-db00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Utilities.DTO.PagedResult`1[[OnlineShop.Services.ViewModels.system.AppRoleViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T08:56:30.3110304+07:00 80000056-0002-db00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)" in 21.824ms (afa2e885)
2019-06-23T08:56:30.3140077+07:00 80000056-0002-db00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)"' (99874f2b)
2019-06-23T08:56:30.3162485+07:00 80000056-0002-db00-b63f-84710c7967bb [INF] Request finished in 36.6553ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:02:11.6755297+07:00 80000068-0000-f000-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/   (ca22a1cb)
2019-06-23T09:02:11.8680488+07:00 80000068-0000-f000-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Controllers.HomeController.Index (OnlineShop)"' (500cc934)
2019-06-23T09:02:11.8945365+07:00 80000068-0000-f000-b63f-84710c7967bb [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "OnlineShop.Controllers.HomeController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:02:11.9158274+07:00 80000068-0000-f000-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Controllers.HomeController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:02:11.9262343+07:00 80000068-0000-f000-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Controllers.HomeController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 1.6797ms. (50a9e262)
2019-06-23T09:02:11.9547722+07:00 80000068-0000-f000-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T09:02:12.3343293+07:00 80000068-0000-f000-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 393.5076ms. (f66409e9)
2019-06-23T09:02:12.3436449+07:00 80000068-0000-f000-b63f-84710c7967bb [INF] Executed action "OnlineShop.Controllers.HomeController.Index (OnlineShop)" in 440.3223ms (afa2e885)
2019-06-23T09:02:12.3479253+07:00 80000068-0000-f000-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Controllers.HomeController.Index (OnlineShop)"' (99874f2b)
2019-06-23T09:02:12.3755521+07:00 80000068-0000-f000-b63f-84710c7967bb [INF] Request finished in 704.2174ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T09:02:12.4606677+07:00 800000f3-0003-ed00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/lib/bootstrap/dist/js/bootstrap.bundle.js   (ca22a1cb)
2019-06-23T09:02:12.5131237+07:00 800000f3-0003-ed00-b63f-84710c7967bb [INF] Request finished in 59.4023ms 404  (791a596a)
2019-06-23T09:02:13.2905304+07:00 800000f5-0003-ed00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/Login   (ca22a1cb)
2019-06-23T09:02:13.2983205+07:00 800000f5-0003-ed00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)"' (500cc934)
2019-06-23T09:02:13.3091258+07:00 800000f5-0003-ed00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Login\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "OnlineShop.Areas.Admin.Controllers.LoginController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:02:13.3234755+07:00 800000f5-0003-ed00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:02:13.3270554+07:00 800000f5-0003-ed00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.8102ms. (50a9e262)
2019-06-23T09:02:13.3403646+07:00 800000f5-0003-ed00-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T09:02:13.4076918+07:00 800000f5-0003-ed00-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 76.7433ms. (f66409e9)
2019-06-23T09:02:13.4119021+07:00 800000f5-0003-ed00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)" in 98.629ms (afa2e885)
2019-06-23T09:02:13.4157782+07:00 800000f5-0003-ed00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)"' (99874f2b)
2019-06-23T09:02:13.4198683+07:00 800000f5-0003-ed00-b63f-84710c7967bb [INF] Request finished in 128.8496ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T09:02:13.9826428+07:00 800000e2-0001-e700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/Login   (ca22a1cb)
2019-06-23T09:02:13.9895776+07:00 800000e2-0001-e700-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)"' (500cc934)
2019-06-23T09:02:13.9936998+07:00 800000e2-0001-e700-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Login\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "OnlineShop.Areas.Admin.Controllers.LoginController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:02:13.9960511+07:00 800000e2-0001-e700-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:02:13.9984144+07:00 800000e2-0001-e700-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0341ms. (50a9e262)
2019-06-23T09:02:14.0110107+07:00 800000e2-0001-e700-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T09:02:14.0247797+07:00 800000e2-0001-e700-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 14.8708ms. (f66409e9)
2019-06-23T09:02:14.0983334+07:00 800000e2-0001-e700-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)" in 31.1667ms (afa2e885)
2019-06-23T09:02:14.1076040+07:00 800000e2-0001-e700-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)"' (99874f2b)
2019-06-23T09:02:14.1133780+07:00 800000e2-0001-e700-b63f-84710c7967bb [INF] Request finished in 127.8075ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T09:02:18.1206214+07:00 8000006a-0000-f000-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44363/admin/login/authen application/x-www-form-urlencoded; charset=UTF-8 33 (ca22a1cb)
2019-06-23T09:02:18.1247749+07:00 8000006a-0000-f000-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)"' (500cc934)
2019-06-23T09:02:18.1563535+07:00 8000006a-0000-f000-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Authen\", controller = \"Login\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authen(OnlineShop.Models.LoginViewModel)" on controller "OnlineShop.Areas.Admin.Controllers.LoginController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:02:18.2243092+07:00 8000006a-0000-f000-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:02:18.2417875+07:00 8000006a-0000-f000-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:02:18.3562806+07:00 8000006a-0000-f000-b63f-84710c7967bb [INF] Executed DbCommand ("18"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Avatar], [u].[Balance], [u].[BirthDay], [u].[ConcurrencyStamp], [u].[DateCreated], [u].[DateModified], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AppUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-06-23T09:02:18.6372593+07:00 8000006a-0000-f000-b63f-84710c7967bb [INF] Executed DbCommand ("7"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AppUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2019-06-23T09:02:18.7362263+07:00 8000006a-0000-f000-b63f-84710c7967bb [INF] Executed DbCommand ("10"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-23T09:02:18.7884844+07:00 8000006a-0000-f000-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AppRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-23T09:02:18.8328962+07:00 8000006a-0000-f000-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AppRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-23T09:02:18.8529996+07:00 8000006a-0000-f000-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-23T09:02:18.8726446+07:00 8000006a-0000-f000-b63f-84710c7967bb [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-06-23T09:02:18.8795187+07:00 8000006a-0000-f000-b63f-84710c7967bb [INF] User logged in. (fdce0db4)
2019-06-23T09:02:18.8870533+07:00 8000006a-0000-f000-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 658.5702ms. (50a9e262)
2019-06-23T09:02:18.9402439+07:00 8000006a-0000-f000-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Utilities.DTO.GenericResult"'. (8a1b66c8)
2019-06-23T09:02:19.0901989+07:00 8000006a-0000-f000-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)" in 931.5414ms (afa2e885)
2019-06-23T09:02:19.0944255+07:00 8000006a-0000-f000-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)"' (99874f2b)
2019-06-23T09:02:19.1091145+07:00 8000006a-0000-f000-b63f-84710c7967bb [INF] Request finished in 991.6514ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:02:19.1467894+07:00 800000e4-0001-e700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/Home/Index   (ca22a1cb)
2019-06-23T09:02:19.1567317+07:00 800000e4-0001-e700-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)"' (500cc934)
2019-06-23T09:02:19.1611663+07:00 800000e4-0001-e700-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Home\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "OnlineShop.Areas.Admin.Controllers.HomeController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:02:19.1941373+07:00 800000e4-0001-e700-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:02:19.1966723+07:00 800000e4-0001-e700-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:02:19.1994976+07:00 800000e4-0001-e700-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.4368ms. (50a9e262)
2019-06-23T09:02:19.2095039+07:00 800000e4-0001-e700-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T09:02:19.2917076+07:00 800000e4-0001-e700-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:02:19.3757931+07:00 800000e4-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-23T09:02:19.5381038+07:00 800000e4-0001-e700-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 290.3203ms. (f66409e9)
2019-06-23T09:02:19.5739660+07:00 800000e4-0001-e700-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)" in 385.4858ms (afa2e885)
2019-06-23T09:02:19.6108405+07:00 800000e4-0001-e700-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)"' (99874f2b)
2019-06-23T09:02:19.6542115+07:00 800000e4-0001-e700-b63f-84710c7967bb [INF] Request finished in 471.0702ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T09:02:22.2404122+07:00 8000006c-0000-f000-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/role/index   (ca22a1cb)
2019-06-23T09:02:22.2464920+07:00 8000006c-0000-f000-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)"' (500cc934)
2019-06-23T09:02:22.2607783+07:00 8000006c-0000-f000-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Role\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "OnlineShop.Areas.Admin.Controllers.RoleController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:02:22.2684676+07:00 8000006c-0000-f000-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:02:22.2733590+07:00 8000006c-0000-f000-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:02:22.2902718+07:00 8000006c-0000-f000-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:02:22.3883713+07:00 8000006c-0000-f000-b63f-84710c7967bb [INF] Executed DbCommand ("12"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T09:02:22.4536317+07:00 8000006c-0000-f000-b63f-84710c7967bb [INF] Authorization failed. (b15dd539)
2019-06-23T09:02:22.4592688+07:00 8000006c-0000-f000-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.RedirectResult" in 181.7868ms. (50a9e262)
2019-06-23T09:02:22.4645109+07:00 8000006c-0000-f000-b63f-84710c7967bb [INF] Executing RedirectResult, redirecting to "/Admin/Login/Index". (d98d540e)
2019-06-23T09:02:22.4705180+07:00 8000006c-0000-f000-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)" in 203.7147ms (afa2e885)
2019-06-23T09:02:22.4742309+07:00 8000006c-0000-f000-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)"' (99874f2b)
2019-06-23T09:02:22.4872060+07:00 8000006c-0000-f000-b63f-84710c7967bb [INF] Request finished in 240.5271ms 302  (791a596a)
2019-06-23T09:02:22.4893065+07:00 800000e6-0001-e700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/Login/Index   (ca22a1cb)
2019-06-23T09:02:22.4942482+07:00 800000e6-0001-e700-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)"' (500cc934)
2019-06-23T09:02:22.4988694+07:00 800000e6-0001-e700-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Login\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "OnlineShop.Areas.Admin.Controllers.LoginController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:02:22.5025923+07:00 800000e6-0001-e700-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:02:22.5057159+07:00 800000e6-0001-e700-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0164ms. (50a9e262)
2019-06-23T09:02:22.5088406+07:00 800000e6-0001-e700-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T09:02:22.5136612+07:00 800000e6-0001-e700-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 4.0681ms. (f66409e9)
2019-06-23T09:02:22.5366519+07:00 800000e6-0001-e700-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)" in 23.6966ms (afa2e885)
2019-06-23T09:02:22.5622324+07:00 800000e6-0001-e700-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)"' (99874f2b)
2019-06-23T09:02:22.5720202+07:00 800000e6-0001-e700-b63f-84710c7967bb [INF] Request finished in 81.4167ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T09:02:31.6869010+07:00 800000b5-0002-dd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44363/admin/login/authen application/x-www-form-urlencoded; charset=UTF-8 33 (ca22a1cb)
2019-06-23T09:02:31.6904588+07:00 800000b5-0002-dd00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)"' (500cc934)
2019-06-23T09:02:31.6964630+07:00 800000b5-0002-dd00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Authen\", controller = \"Login\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authen(OnlineShop.Models.LoginViewModel)" on controller "OnlineShop.Areas.Admin.Controllers.LoginController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:02:31.7020712+07:00 800000b5-0002-dd00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:02:31.7052964+07:00 800000b5-0002-dd00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:02:31.7121873+07:00 800000b5-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Avatar], [u].[Balance], [u].[BirthDay], [u].[ConcurrencyStamp], [u].[DateCreated], [u].[DateModified], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AppUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-06-23T09:02:31.7329896+07:00 800000b5-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AppUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2019-06-23T09:02:31.7376441+07:00 800000b5-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-23T09:02:31.7414861+07:00 800000b5-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AppRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-23T09:02:31.7464538+07:00 800000b5-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AppRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-23T09:02:31.7505743+07:00 800000b5-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-23T09:02:31.7568886+07:00 800000b5-0002-dd00-b63f-84710c7967bb [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-06-23T09:02:31.7661869+07:00 800000b5-0002-dd00-b63f-84710c7967bb [INF] User logged in. (fdce0db4)
2019-06-23T09:02:31.7689780+07:00 800000b5-0002-dd00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 64.1681ms. (50a9e262)
2019-06-23T09:02:31.7714055+07:00 800000b5-0002-dd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Utilities.DTO.GenericResult"'. (8a1b66c8)
2019-06-23T09:02:31.7746853+07:00 800000b5-0002-dd00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)" in 75.4673ms (afa2e885)
2019-06-23T09:02:31.7814142+07:00 800000b5-0002-dd00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)"' (99874f2b)
2019-06-23T09:02:31.7842248+07:00 800000b5-0002-dd00-b63f-84710c7967bb [INF] Request finished in 97.5988ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:02:31.8058232+07:00 800000b7-0002-dd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/Home/Index   (ca22a1cb)
2019-06-23T09:02:31.8093940+07:00 800000b7-0002-dd00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)"' (500cc934)
2019-06-23T09:02:31.8154209+07:00 800000b7-0002-dd00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Home\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "OnlineShop.Areas.Admin.Controllers.HomeController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:02:31.8180565+07:00 800000b7-0002-dd00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:02:31.8206635+07:00 800000b7-0002-dd00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:02:31.8245239+07:00 800000b7-0002-dd00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.112ms. (50a9e262)
2019-06-23T09:02:31.8309554+07:00 800000b7-0002-dd00-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T09:02:31.8352446+07:00 800000b7-0002-dd00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:02:31.8412934+07:00 800000b7-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-23T09:02:31.8508371+07:00 800000b7-0002-dd00-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 21.9108ms. (f66409e9)
2019-06-23T09:02:31.8604903+07:00 800000b7-0002-dd00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)" in 35.5449ms (afa2e885)
2019-06-23T09:02:31.9381110+07:00 800000b7-0002-dd00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)"' (99874f2b)
2019-06-23T09:02:31.9476272+07:00 800000b7-0002-dd00-b63f-84710c7967bb [INF] Request finished in 145.6532ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T09:02:36.4410523+07:00 800000b9-0002-dd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/productcategory/index   (ca22a1cb)
2019-06-23T09:02:36.4504110+07:00 800000b9-0002-dd00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.ProductCategoryController.Index (OnlineShop)"' (500cc934)
2019-06-23T09:02:36.4586042+07:00 800000b9-0002-dd00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"ProductCategory\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "OnlineShop.Areas.Admin.Controllers.ProductCategoryController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:02:36.4658413+07:00 800000b9-0002-dd00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:02:36.4704891+07:00 800000b9-0002-dd00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.ProductCategoryController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:02:36.4748690+07:00 800000b9-0002-dd00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:02:36.4853011+07:00 800000b9-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T09:02:36.4886195+07:00 800000b9-0002-dd00-b63f-84710c7967bb [INF] Authorization failed. (b15dd539)
2019-06-23T09:02:36.4951239+07:00 800000b9-0002-dd00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.ProductCategoryController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.RedirectResult" in 18.9037ms. (50a9e262)
2019-06-23T09:02:36.4975431+07:00 800000b9-0002-dd00-b63f-84710c7967bb [INF] Executing RedirectResult, redirecting to "/Admin/Login/Index". (d98d540e)
2019-06-23T09:02:36.4997860+07:00 800000b9-0002-dd00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.ProductCategoryController.Index (OnlineShop)" in 39.096ms (afa2e885)
2019-06-23T09:02:36.5018281+07:00 800000b9-0002-dd00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.ProductCategoryController.Index (OnlineShop)"' (99874f2b)
2019-06-23T09:02:36.5056609+07:00 800000b9-0002-dd00-b63f-84710c7967bb [INF] Request finished in 64.1469ms 302  (791a596a)
2019-06-23T09:02:36.5127438+07:00 800000bb-0002-dd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/Login/Index   (ca22a1cb)
2019-06-23T09:02:36.5160451+07:00 800000bb-0002-dd00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)"' (500cc934)
2019-06-23T09:02:36.5183830+07:00 800000bb-0002-dd00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Login\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "OnlineShop.Areas.Admin.Controllers.LoginController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:02:36.5205865+07:00 800000bb-0002-dd00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:02:36.5226190+07:00 800000bb-0002-dd00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0159ms. (50a9e262)
2019-06-23T09:02:36.5250684+07:00 800000bb-0002-dd00-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T09:02:36.5693347+07:00 800000bb-0002-dd00-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 7.6669ms. (f66409e9)
2019-06-23T09:02:36.5860499+07:00 800000bb-0002-dd00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)" in 50.9667ms (afa2e885)
2019-06-23T09:02:36.5890289+07:00 800000bb-0002-dd00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)"' (99874f2b)
2019-06-23T09:02:36.5980086+07:00 800000bb-0002-dd00-b63f-84710c7967bb [INF] Request finished in 82.7291ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T09:02:37.8218418+07:00 800000bd-0002-dd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44363/admin/login/authen application/x-www-form-urlencoded; charset=UTF-8 33 (ca22a1cb)
2019-06-23T09:02:37.8273038+07:00 800000bd-0002-dd00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)"' (500cc934)
2019-06-23T09:02:37.8296338+07:00 800000bd-0002-dd00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Authen\", controller = \"Login\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authen(OnlineShop.Models.LoginViewModel)" on controller "OnlineShop.Areas.Admin.Controllers.LoginController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:02:37.8321774+07:00 800000bd-0002-dd00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:02:37.8348288+07:00 800000bd-0002-dd00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:02:37.8421030+07:00 800000bd-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Avatar], [u].[Balance], [u].[BirthDay], [u].[ConcurrencyStamp], [u].[DateCreated], [u].[DateModified], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AppUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-06-23T09:02:37.8577162+07:00 800000bd-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AppUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2019-06-23T09:02:37.8657122+07:00 800000bd-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-23T09:02:37.8697287+07:00 800000bd-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AppRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-23T09:02:37.8751720+07:00 800000bd-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AppRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-23T09:02:37.8800311+07:00 800000bd-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-23T09:02:37.8826575+07:00 800000bd-0002-dd00-b63f-84710c7967bb [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-06-23T09:02:37.8847964+07:00 800000bd-0002-dd00-b63f-84710c7967bb [INF] User logged in. (fdce0db4)
2019-06-23T09:02:37.8874311+07:00 800000bd-0002-dd00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 52.6353ms. (50a9e262)
2019-06-23T09:02:37.8897099+07:00 800000bd-0002-dd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Utilities.DTO.GenericResult"'. (8a1b66c8)
2019-06-23T09:02:37.8966420+07:00 800000bd-0002-dd00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)" in 60.6151ms (afa2e885)
2019-06-23T09:02:37.8990012+07:00 800000bd-0002-dd00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)"' (99874f2b)
2019-06-23T09:02:37.9014964+07:00 800000bd-0002-dd00-b63f-84710c7967bb [INF] Request finished in 79.8521ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:02:37.9204087+07:00 8000006e-0000-f000-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/Home/Index   (ca22a1cb)
2019-06-23T09:02:37.9317430+07:00 8000006e-0000-f000-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)"' (500cc934)
2019-06-23T09:02:37.9350179+07:00 8000006e-0000-f000-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Home\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "OnlineShop.Areas.Admin.Controllers.HomeController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:02:37.9377228+07:00 8000006e-0000-f000-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:02:37.9399741+07:00 8000006e-0000-f000-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:02:37.9460694+07:00 8000006e-0000-f000-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0247ms. (50a9e262)
2019-06-23T09:02:37.9486755+07:00 8000006e-0000-f000-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T09:02:37.9517282+07:00 8000006e-0000-f000-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:02:37.9623574+07:00 8000006e-0000-f000-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-23T09:02:37.9728188+07:00 8000006e-0000-f000-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 20.253ms. (f66409e9)
2019-06-23T09:02:38.0116813+07:00 8000006e-0000-f000-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)" in 38.3865ms (afa2e885)
2019-06-23T09:02:38.0218329+07:00 8000006e-0000-f000-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)"' (99874f2b)
2019-06-23T09:02:38.0462661+07:00 8000006e-0000-f000-b63f-84710c7967bb [INF] Request finished in 104.0334ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T09:02:39.6359725+07:00 800000e8-0001-e700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/product/index   (ca22a1cb)
2019-06-23T09:02:39.6386497+07:00 800000e8-0001-e700-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.ProductController.Index (OnlineShop)"' (500cc934)
2019-06-23T09:02:39.6518799+07:00 800000e8-0001-e700-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Product\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "OnlineShop.Areas.Admin.Controllers.ProductController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:02:39.6547646+07:00 800000e8-0001-e700-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:02:39.6603913+07:00 800000e8-0001-e700-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.ProductController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:02:39.6647896+07:00 800000e8-0001-e700-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:02:39.6712173+07:00 800000e8-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T09:02:39.6775400+07:00 800000e8-0001-e700-b63f-84710c7967bb [INF] Authorization failed. (b15dd539)
2019-06-23T09:02:39.6802407+07:00 800000e8-0001-e700-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.ProductController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.RedirectResult" in 17.1197ms. (50a9e262)
2019-06-23T09:02:39.6832643+07:00 800000e8-0001-e700-b63f-84710c7967bb [INF] Executing RedirectResult, redirecting to "/Admin/Login/Index". (d98d540e)
2019-06-23T09:02:39.6856654+07:00 800000e8-0001-e700-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.ProductController.Index (OnlineShop)" in 31.5474ms (afa2e885)
2019-06-23T09:02:39.6880576+07:00 800000e8-0001-e700-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.ProductController.Index (OnlineShop)"' (99874f2b)
2019-06-23T09:02:39.6957277+07:00 800000e8-0001-e700-b63f-84710c7967bb [INF] Request finished in 57.9686ms 302  (791a596a)
2019-06-23T09:02:39.6982275+07:00 800000ea-0001-e700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/Login/Index   (ca22a1cb)
2019-06-23T09:02:39.7012433+07:00 800000ea-0001-e700-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)"' (500cc934)
2019-06-23T09:02:39.7034611+07:00 800000ea-0001-e700-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Login\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "OnlineShop.Areas.Admin.Controllers.LoginController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:02:39.7063164+07:00 800000ea-0001-e700-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:02:39.7109212+07:00 800000ea-0001-e700-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0193ms. (50a9e262)
2019-06-23T09:02:39.7140173+07:00 800000ea-0001-e700-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T09:02:39.7218807+07:00 800000ea-0001-e700-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 4.1406ms. (f66409e9)
2019-06-23T09:02:39.7680857+07:00 800000ea-0001-e700-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)" in 18.4201ms (afa2e885)
2019-06-23T09:02:39.7720461+07:00 800000ea-0001-e700-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)"' (99874f2b)
2019-06-23T09:02:39.7889034+07:00 800000ea-0001-e700-b63f-84710c7967bb [INF] Request finished in 76.3821ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T09:02:41.0814105+07:00 800000bf-0002-dd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44363/admin/login/authen application/x-www-form-urlencoded; charset=UTF-8 33 (ca22a1cb)
2019-06-23T09:02:41.0858544+07:00 800000bf-0002-dd00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)"' (500cc934)
2019-06-23T09:02:41.0930770+07:00 800000bf-0002-dd00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Authen\", controller = \"Login\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authen(OnlineShop.Models.LoginViewModel)" on controller "OnlineShop.Areas.Admin.Controllers.LoginController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:02:41.0960177+07:00 800000bf-0002-dd00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:02:41.0987754+07:00 800000bf-0002-dd00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:02:41.1034163+07:00 800000bf-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Avatar], [u].[Balance], [u].[BirthDay], [u].[ConcurrencyStamp], [u].[DateCreated], [u].[DateModified], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AppUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-06-23T09:02:41.1339357+07:00 800000bf-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("6"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AppUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2019-06-23T09:02:41.1386891+07:00 800000bf-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-23T09:02:41.1451756+07:00 800000bf-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AppRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-23T09:02:41.1495629+07:00 800000bf-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AppRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-23T09:02:41.1543384+07:00 800000bf-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-23T09:02:41.1573242+07:00 800000bf-0002-dd00-b63f-84710c7967bb [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-06-23T09:02:41.1613008+07:00 800000bf-0002-dd00-b63f-84710c7967bb [INF] User logged in. (fdce0db4)
2019-06-23T09:02:41.1638300+07:00 800000bf-0002-dd00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 65.1829ms. (50a9e262)
2019-06-23T09:02:41.1663005+07:00 800000bf-0002-dd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Utilities.DTO.GenericResult"'. (8a1b66c8)
2019-06-23T09:02:41.1699743+07:00 800000bf-0002-dd00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)" in 73.5035ms (afa2e885)
2019-06-23T09:02:41.1740511+07:00 800000bf-0002-dd00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)"' (99874f2b)
2019-06-23T09:02:41.1775026+07:00 800000bf-0002-dd00-b63f-84710c7967bb [INF] Request finished in 97.999ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:02:41.1877316+07:00 80000070-0000-f000-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/Home/Index   (ca22a1cb)
2019-06-23T09:02:41.1947735+07:00 80000070-0000-f000-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)"' (500cc934)
2019-06-23T09:02:41.1991242+07:00 80000070-0000-f000-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Home\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "OnlineShop.Areas.Admin.Controllers.HomeController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:02:41.2018404+07:00 80000070-0000-f000-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:02:41.2045467+07:00 80000070-0000-f000-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:02:41.2106731+07:00 80000070-0000-f000-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0239ms. (50a9e262)
2019-06-23T09:02:41.2146322+07:00 80000070-0000-f000-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T09:02:41.2177808+07:00 80000070-0000-f000-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:02:41.2255799+07:00 80000070-0000-f000-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-23T09:02:41.2317099+07:00 80000070-0000-f000-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 18.1388ms. (f66409e9)
2019-06-23T09:02:41.2371017+07:00 80000070-0000-f000-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)" in 32.7323ms (afa2e885)
2019-06-23T09:02:41.2518923+07:00 80000070-0000-f000-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)"' (99874f2b)
2019-06-23T09:02:41.2964266+07:00 80000070-0000-f000-b63f-84710c7967bb [INF] Request finished in 66.9351ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T09:02:48.6405396+07:00 80000072-0000-f000-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/role/index   (ca22a1cb)
2019-06-23T09:02:48.6499394+07:00 80000072-0000-f000-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)"' (500cc934)
2019-06-23T09:02:48.6546158+07:00 80000072-0000-f000-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Role\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "OnlineShop.Areas.Admin.Controllers.RoleController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:02:48.6572476+07:00 80000072-0000-f000-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:02:48.6602728+07:00 80000072-0000-f000-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:02:48.6743564+07:00 80000072-0000-f000-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:02:48.6979191+07:00 80000072-0000-f000-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T09:02:48.7030366+07:00 80000072-0000-f000-b63f-84710c7967bb [INF] Authorization failed. (b15dd539)
2019-06-23T09:02:48.7103887+07:00 80000072-0000-f000-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.RedirectResult" in 42.5662ms. (50a9e262)
2019-06-23T09:02:48.7132684+07:00 80000072-0000-f000-b63f-84710c7967bb [INF] Executing RedirectResult, redirecting to "/Admin/Login/Index". (d98d540e)
2019-06-23T09:02:48.7169479+07:00 80000072-0000-f000-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)" in 58.7778ms (afa2e885)
2019-06-23T09:02:48.7313608+07:00 80000072-0000-f000-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)"' (99874f2b)
2019-06-23T09:02:48.7460279+07:00 80000072-0000-f000-b63f-84710c7967bb [INF] Request finished in 103.0002ms 302  (791a596a)
2019-06-23T09:02:48.7490649+07:00 800000f7-0003-ed00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/Login/Index   (ca22a1cb)
2019-06-23T09:02:48.7577770+07:00 800000f7-0003-ed00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)"' (500cc934)
2019-06-23T09:02:48.7610436+07:00 800000f7-0003-ed00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Login\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "OnlineShop.Areas.Admin.Controllers.LoginController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:02:48.7638974+07:00 800000f7-0003-ed00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:02:48.7672421+07:00 800000f7-0003-ed00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0179ms. (50a9e262)
2019-06-23T09:02:48.7745205+07:00 800000f7-0003-ed00-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T09:02:48.7985686+07:00 800000f7-0003-ed00-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 8.0694ms. (f66409e9)
2019-06-23T09:02:48.8624642+07:00 800000f7-0003-ed00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)" in 37.5851ms (afa2e885)
2019-06-23T09:02:48.8740329+07:00 800000f7-0003-ed00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)"' (99874f2b)
2019-06-23T09:02:48.8802169+07:00 800000f7-0003-ed00-b63f-84710c7967bb [INF] Request finished in 129.7686ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T09:02:52.0209676+07:00 800000ec-0001-e700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44363/admin/login/authen application/x-www-form-urlencoded; charset=UTF-8 33 (ca22a1cb)
2019-06-23T09:02:52.0246062+07:00 800000ec-0001-e700-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)"' (500cc934)
2019-06-23T09:02:52.0272604+07:00 800000ec-0001-e700-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Authen\", controller = \"Login\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authen(OnlineShop.Models.LoginViewModel)" on controller "OnlineShop.Areas.Admin.Controllers.LoginController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:02:52.0299101+07:00 800000ec-0001-e700-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:02:52.0325613+07:00 800000ec-0001-e700-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:02:52.0431659+07:00 800000ec-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("7"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Avatar], [u].[Balance], [u].[BirthDay], [u].[ConcurrencyStamp], [u].[DateCreated], [u].[DateModified], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AppUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-06-23T09:02:52.0812018+07:00 800000ec-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AppUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2019-06-23T09:02:52.0927387+07:00 800000ec-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("8"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-23T09:02:52.0977880+07:00 800000ec-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AppRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-23T09:02:52.1088057+07:00 800000ec-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AppRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-23T09:02:52.1152263+07:00 800000ec-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-23T09:02:52.1301129+07:00 800000ec-0001-e700-b63f-84710c7967bb [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-06-23T09:02:52.1406434+07:00 800000ec-0001-e700-b63f-84710c7967bb [INF] User logged in. (fdce0db4)
2019-06-23T09:02:52.1605982+07:00 800000ec-0001-e700-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 110.7739ms. (50a9e262)
2019-06-23T09:02:52.1651568+07:00 800000ec-0001-e700-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Utilities.DTO.GenericResult"'. (8a1b66c8)
2019-06-23T09:02:52.1787135+07:00 800000ec-0001-e700-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)" in 138.2415ms (afa2e885)
2019-06-23T09:02:52.1828198+07:00 800000ec-0001-e700-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)"' (99874f2b)
2019-06-23T09:02:52.1894023+07:00 800000ec-0001-e700-b63f-84710c7967bb [INF] Request finished in 167.2255ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:02:52.1995500+07:00 800000f9-0003-ed00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/Home/Index   (ca22a1cb)
2019-06-23T09:02:52.2067902+07:00 800000f9-0003-ed00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)"' (500cc934)
2019-06-23T09:02:52.2123715+07:00 800000f9-0003-ed00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Home\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "OnlineShop.Areas.Admin.Controllers.HomeController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:02:52.2155086+07:00 800000f9-0003-ed00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:02:52.2184642+07:00 800000f9-0003-ed00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:02:52.2307424+07:00 800000f9-0003-ed00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0479ms. (50a9e262)
2019-06-23T09:02:52.2365786+07:00 800000f9-0003-ed00-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T09:02:52.2416273+07:00 800000f9-0003-ed00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:02:52.2487081+07:00 800000f9-0003-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-23T09:02:52.2557530+07:00 800000f9-0003-ed00-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 19.2521ms. (f66409e9)
2019-06-23T09:02:52.2626247+07:00 800000f9-0003-ed00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)" in 43.5727ms (afa2e885)
2019-06-23T09:02:52.2980287+07:00 800000f9-0003-ed00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)"' (99874f2b)
2019-06-23T09:02:52.3098927+07:00 800000f9-0003-ed00-b63f-84710c7967bb [INF] Request finished in 100.9577ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T09:02:56.1648011+07:00 800000c1-0002-dd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/role/index   (ca22a1cb)
2019-06-23T09:02:56.1705154+07:00 800000c1-0002-dd00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)"' (500cc934)
2019-06-23T09:02:56.1731044+07:00 800000c1-0002-dd00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Role\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "OnlineShop.Areas.Admin.Controllers.RoleController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:02:56.1758636+07:00 800000c1-0002-dd00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:02:56.1783816+07:00 800000c1-0002-dd00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:02:56.1815052+07:00 800000c1-0002-dd00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:02:56.1999472+07:00 800000c1-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("9"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T09:02:56.2047981+07:00 800000c1-0002-dd00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:02:56.2074933+07:00 800000c1-0002-dd00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 26.5452ms. (50a9e262)
2019-06-23T09:02:56.2127174+07:00 800000c1-0002-dd00-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T09:02:56.2635637+07:00 800000c1-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-23T09:02:56.2796013+07:00 800000c1-0002-dd00-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 66.736ms. (f66409e9)
2019-06-23T09:02:56.2971001+07:00 800000c1-0002-dd00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)" in 106.7882ms (afa2e885)
2019-06-23T09:02:56.3310116+07:00 800000c1-0002-dd00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)"' (99874f2b)
2019-06-23T09:02:56.3395917+07:00 800000c1-0002-dd00-b63f-84710c7967bb [INF] Request finished in 170.0266ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T09:02:56.4493385+07:00 80000074-0000-f000-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/role/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-23T09:02:56.4531200+07:00 80000074-0000-f000-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)"' (500cc934)
2019-06-23T09:02:56.4599008+07:00 80000074-0000-f000-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Role\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllPaging(System.String, Int32, Int32)" on controller "OnlineShop.Areas.Admin.Controllers.RoleController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:02:56.4651977+07:00 80000074-0000-f000-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:02:56.4810144+07:00 80000074-0000-f000-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:02:56.4947141+07:00 80000074-0000-f000-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:02:56.5225968+07:00 80000074-0000-f000-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppRoles] AS [a]" (0723d8ff)
2019-06-23T09:02:56.5609306+07:00 80000074-0000-f000-b63f-84710c7967bb [WRN] Query: '"(from AppRole dtoAppRole in DbSet<AppRole> select new AppRoleViewModel{ { 
    Description = [dtoAp..."' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results. (32148ccc)
2019-06-23T09:02:56.5930393+07:00 80000074-0000-f000-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoAppRole].[Description], [dtoAppRole].[Id], [dtoAppRole].[Name]
FROM [AppRoles] AS [dtoAppRole]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-23T09:02:56.6045132+07:00 80000074-0000-f000-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 115.7576ms. (50a9e262)
2019-06-23T09:02:56.6075552+07:00 80000074-0000-f000-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Utilities.DTO.PagedResult`1[[OnlineShop.Services.ViewModels.system.AppRoleViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:02:56.6406950+07:00 80000074-0000-f000-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)" in 176.1414ms (afa2e885)
2019-06-23T09:02:56.6461709+07:00 80000074-0000-f000-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)"' (99874f2b)
2019-06-23T09:02:56.6562150+07:00 80000074-0000-f000-b63f-84710c7967bb [INF] Request finished in 201.0512ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:02:56.6766391+07:00 80000076-0000-f000-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/role/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-23T09:02:56.6803972+07:00 80000076-0000-f000-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)"' (500cc934)
2019-06-23T09:02:56.6919561+07:00 80000076-0000-f000-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Role\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllPaging(System.String, Int32, Int32)" on controller "OnlineShop.Areas.Admin.Controllers.RoleController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:02:56.6955338+07:00 80000076-0000-f000-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:02:56.6995985+07:00 80000076-0000-f000-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:02:56.7059854+07:00 80000076-0000-f000-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:02:56.7094589+07:00 80000076-0000-f000-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppRoles] AS [a]" (0723d8ff)
2019-06-23T09:02:56.7152615+07:00 80000076-0000-f000-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoAppRole].[Description], [dtoAppRole].[Id], [dtoAppRole].[Name]
FROM [AppRoles] AS [dtoAppRole]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-23T09:02:56.7237323+07:00 80000076-0000-f000-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 15.799ms. (50a9e262)
2019-06-23T09:02:56.7362236+07:00 80000076-0000-f000-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Utilities.DTO.PagedResult`1[[OnlineShop.Services.ViewModels.system.AppRoleViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:02:56.7432396+07:00 80000076-0000-f000-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)" in 46.4406ms (afa2e885)
2019-06-23T09:02:56.7478582+07:00 80000076-0000-f000-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)"' (99874f2b)
2019-06-23T09:02:56.7563982+07:00 80000076-0000-f000-b63f-84710c7967bb [INF] Request finished in 73.7934ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:03:38.6118681+07:00 800000fb-0003-ed00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/Login/Index   (ca22a1cb)
2019-06-23T09:03:38.6176458+07:00 800000fb-0003-ed00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)"' (500cc934)
2019-06-23T09:03:38.6204582+07:00 800000fb-0003-ed00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Login\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "OnlineShop.Areas.Admin.Controllers.LoginController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:03:38.6232897+07:00 800000fb-0003-ed00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:03:38.6255768+07:00 800000fb-0003-ed00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.017ms. (50a9e262)
2019-06-23T09:03:38.6277265+07:00 800000fb-0003-ed00-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T09:03:38.6399714+07:00 800000fb-0003-ed00-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 10.8651ms. (f66409e9)
2019-06-23T09:03:38.6422750+07:00 800000fb-0003-ed00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)" in 19.469ms (afa2e885)
2019-06-23T09:03:38.6566418+07:00 800000fb-0003-ed00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)"' (99874f2b)
2019-06-23T09:03:38.6757323+07:00 800000fb-0003-ed00-b63f-84710c7967bb [INF] Request finished in 62.6918ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T09:03:41.2186359+07:00 800000c3-0002-dd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44363/admin/login/authen application/x-www-form-urlencoded; charset=UTF-8 33 (ca22a1cb)
2019-06-23T09:03:41.2218615+07:00 800000c3-0002-dd00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)"' (500cc934)
2019-06-23T09:03:41.2248330+07:00 800000c3-0002-dd00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Authen\", controller = \"Login\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authen(OnlineShop.Models.LoginViewModel)" on controller "OnlineShop.Areas.Admin.Controllers.LoginController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:03:41.2273078+07:00 800000c3-0002-dd00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:03:41.2318041+07:00 800000c3-0002-dd00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:03:41.2369667+07:00 800000c3-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Avatar], [u].[Balance], [u].[BirthDay], [u].[ConcurrencyStamp], [u].[DateCreated], [u].[DateModified], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AppUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-06-23T09:03:41.2540372+07:00 800000c3-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AppUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2019-06-23T09:03:41.2584878+07:00 800000c3-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-23T09:03:41.2624553+07:00 800000c3-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AppRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-23T09:03:41.2676117+07:00 800000c3-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AppRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-23T09:03:41.2721344+07:00 800000c3-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-23T09:03:41.2746551+07:00 800000c3-0002-dd00-b63f-84710c7967bb [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-06-23T09:03:41.2765913+07:00 800000c3-0002-dd00-b63f-84710c7967bb [INF] User logged in. (fdce0db4)
2019-06-23T09:03:41.2788332+07:00 800000c3-0002-dd00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 49.0452ms. (50a9e262)
2019-06-23T09:03:41.2812103+07:00 800000c3-0002-dd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Utilities.DTO.GenericResult"'. (8a1b66c8)
2019-06-23T09:03:41.2834785+07:00 800000c3-0002-dd00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)" in 56.7142ms (afa2e885)
2019-06-23T09:03:41.2859342+07:00 800000c3-0002-dd00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)"' (99874f2b)
2019-06-23T09:03:41.2880880+07:00 800000c3-0002-dd00-b63f-84710c7967bb [INF] Request finished in 69.908ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:03:41.3013562+07:00 800000ee-0001-e700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/Home/Index   (ca22a1cb)
2019-06-23T09:03:41.3051380+07:00 800000ee-0001-e700-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)"' (500cc934)
2019-06-23T09:03:41.3072640+07:00 800000ee-0001-e700-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Home\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "OnlineShop.Areas.Admin.Controllers.HomeController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:03:41.3092443+07:00 800000ee-0001-e700-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:03:41.3112320+07:00 800000ee-0001-e700-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:03:41.3154288+07:00 800000ee-0001-e700-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0369ms. (50a9e262)
2019-06-23T09:03:41.3176279+07:00 800000ee-0001-e700-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T09:03:41.3207581+07:00 800000ee-0001-e700-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:03:41.3253226+07:00 800000ee-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-23T09:03:41.3299750+07:00 800000ee-0001-e700-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 11.9214ms. (f66409e9)
2019-06-23T09:03:41.3335954+07:00 800000ee-0001-e700-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)" in 23.0719ms (afa2e885)
2019-06-23T09:03:41.3383264+07:00 800000ee-0001-e700-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)"' (99874f2b)
2019-06-23T09:03:41.3456193+07:00 800000ee-0001-e700-b63f-84710c7967bb [INF] Request finished in 41.7929ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T09:03:52.7950653+07:00 800000c5-0002-dd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/Role/Create   (ca22a1cb)
2019-06-23T09:03:52.7999537+07:00 800000c5-0002-dd00-b63f-84710c7967bb [INF] Request finished in 4.6707ms 404  (791a596a)
2019-06-23T09:03:59.0132133+07:00 800000fd-0003-ed00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/Login/Index   (ca22a1cb)
2019-06-23T09:03:59.0166813+07:00 800000fd-0003-ed00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)"' (500cc934)
2019-06-23T09:03:59.0199388+07:00 800000fd-0003-ed00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Login\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "OnlineShop.Areas.Admin.Controllers.LoginController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:03:59.0230568+07:00 800000fd-0003-ed00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:03:59.0270959+07:00 800000fd-0003-ed00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0186ms. (50a9e262)
2019-06-23T09:03:59.0296601+07:00 800000fd-0003-ed00-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T09:03:59.0411005+07:00 800000fd-0003-ed00-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 3.3441ms. (f66409e9)
2019-06-23T09:03:59.0760229+07:00 800000fd-0003-ed00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)" in 21.1933ms (afa2e885)
2019-06-23T09:03:59.0789040+07:00 800000fd-0003-ed00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)"' (99874f2b)
2019-06-23T09:03:59.0816299+07:00 800000fd-0003-ed00-b63f-84710c7967bb [INF] Request finished in 68.5645ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T09:04:02.3002327+07:00 80000078-0000-f000-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44363/admin/login/authen application/x-www-form-urlencoded; charset=UTF-8 33 (ca22a1cb)
2019-06-23T09:04:02.3036855+07:00 80000078-0000-f000-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)"' (500cc934)
2019-06-23T09:04:02.3068250+07:00 80000078-0000-f000-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Authen\", controller = \"Login\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authen(OnlineShop.Models.LoginViewModel)" on controller "OnlineShop.Areas.Admin.Controllers.LoginController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:04:02.3105468+07:00 80000078-0000-f000-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:04:02.3134618+07:00 80000078-0000-f000-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:04:02.3205246+07:00 80000078-0000-f000-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Avatar], [u].[Balance], [u].[BirthDay], [u].[ConcurrencyStamp], [u].[DateCreated], [u].[DateModified], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AppUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-06-23T09:04:02.3359781+07:00 80000078-0000-f000-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AppUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2019-06-23T09:04:02.3436910+07:00 80000078-0000-f000-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-23T09:04:02.3491352+07:00 80000078-0000-f000-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AppRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-23T09:04:02.3544411+07:00 80000078-0000-f000-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AppRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-23T09:04:02.3603067+07:00 80000078-0000-f000-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-23T09:04:02.3633533+07:00 80000078-0000-f000-b63f-84710c7967bb [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-06-23T09:04:02.3660010+07:00 80000078-0000-f000-b63f-84710c7967bb [INF] User logged in. (fdce0db4)
2019-06-23T09:04:02.3684345+07:00 80000078-0000-f000-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 55.4971ms. (50a9e262)
2019-06-23T09:04:02.3713491+07:00 80000078-0000-f000-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Utilities.DTO.GenericResult"'. (8a1b66c8)
2019-06-23T09:04:02.3752463+07:00 80000078-0000-f000-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)" in 66.0134ms (afa2e885)
2019-06-23T09:04:02.3784653+07:00 80000078-0000-f000-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)"' (99874f2b)
2019-06-23T09:04:02.3809407+07:00 80000078-0000-f000-b63f-84710c7967bb [INF] Request finished in 81.2284ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:04:02.3946659+07:00 800000ff-0003-ed00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/Home/Index   (ca22a1cb)
2019-06-23T09:04:02.3977569+07:00 800000ff-0003-ed00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)"' (500cc934)
2019-06-23T09:04:02.4004837+07:00 800000ff-0003-ed00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Home\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "OnlineShop.Areas.Admin.Controllers.HomeController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:04:02.4033092+07:00 800000ff-0003-ed00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:04:02.4058795+07:00 800000ff-0003-ed00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:04:02.4080921+07:00 800000ff-0003-ed00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.024ms. (50a9e262)
2019-06-23T09:04:02.4107284+07:00 800000ff-0003-ed00-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T09:04:02.4142560+07:00 800000ff-0003-ed00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:04:02.4242268+07:00 800000ff-0003-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-23T09:04:02.4305413+07:00 800000ff-0003-ed00-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 17.5564ms. (f66409e9)
2019-06-23T09:04:02.4452128+07:00 800000ff-0003-ed00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)" in 32.2021ms (afa2e885)
2019-06-23T09:04:02.4509483+07:00 800000ff-0003-ed00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)"' (99874f2b)
2019-06-23T09:04:02.4554432+07:00 800000ff-0003-ed00-b63f-84710c7967bb [INF] Request finished in 60.7421ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T09:04:06.3139263+07:00 800000c7-0002-dd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/user/index   (ca22a1cb)
2019-06-23T09:04:06.3177809+07:00 800000c7-0002-dd00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.UserController.Index (OnlineShop)"' (500cc934)
2019-06-23T09:04:06.3270654+07:00 800000c7-0002-dd00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"User\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "OnlineShop.Areas.Admin.Controllers.UserController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:04:06.3310645+07:00 800000c7-0002-dd00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:04:06.3348831+07:00 800000c7-0002-dd00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.UserController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:04:06.3402508+07:00 800000c7-0002-dd00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:04:06.3551072+07:00 800000c7-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T09:04:06.3588812+07:00 800000c7-0002-dd00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:04:06.3615847+07:00 800000c7-0002-dd00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.UserController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 24.135ms. (50a9e262)
2019-06-23T09:04:06.3724503+07:00 800000c7-0002-dd00-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T09:04:06.4060258+07:00 800000c7-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("8"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T09:04:06.4091245+07:00 800000c7-0002-dd00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:04:06.4355786+07:00 800000c7-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("8"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T09:04:06.4385142+07:00 800000c7-0002-dd00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:04:06.4553566+07:00 800000c7-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T09:04:06.4580123+07:00 800000c7-0002-dd00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:04:06.4734893+07:00 800000c7-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-23T09:04:06.4822161+07:00 800000c7-0002-dd00-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 116.989ms. (f66409e9)
2019-06-23T09:04:06.4896667+07:00 800000c7-0002-dd00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.UserController.Index (OnlineShop)" in 155.1548ms (afa2e885)
2019-06-23T09:04:06.4926113+07:00 800000c7-0002-dd00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.UserController.Index (OnlineShop)"' (99874f2b)
2019-06-23T09:04:06.4993803+07:00 800000c7-0002-dd00-b63f-84710c7967bb [INF] Request finished in 183.0943ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T09:04:06.5815061+07:00 800000c9-0002-dd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/User/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-23T09:04:06.5879281+07:00 800000c9-0002-dd00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)"' (500cc934)
2019-06-23T09:04:06.5932657+07:00 800000c9-0002-dd00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"User\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllPaging(System.String, Int32, Int32)" on controller "OnlineShop.Areas.Admin.Controllers.UserController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:04:06.5960024+07:00 800000c9-0002-dd00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:04:06.5990620+07:00 800000c9-0002-dd00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:04:06.6138275+07:00 800000c9-0002-dd00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:04:06.6282415+07:00 800000c9-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppUsers] AS [a]" (0723d8ff)
2019-06-23T09:04:06.6470624+07:00 800000c9-0002-dd00-b63f-84710c7967bb [WRN] Query: '"(from AppUser x in DbSet<AppUser> select new AppUserViewModel{ { 
    UserName = [x].UserName, , 
..."' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results. (32148ccc)
2019-06-23T09:04:06.6692213+07:00 800000c9-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[UserName], [x].[Avatar], CONVERT(VARCHAR(100), [x].[BirthDay]) AS [BirthDay], [x].[Email], [x].[FullName], [x].[Id], [x].[PhoneNumber], [x].[Status], [x].[DateCreated]
FROM [AppUsers] AS [x]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-23T09:04:06.6753546+07:00 800000c9-0002-dd00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 74.2913ms. (50a9e262)
2019-06-23T09:04:06.6775510+07:00 800000c9-0002-dd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Utilities.DTO.PagedResult`1[[OnlineShop.Services.ViewModels.system.AppUserViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:04:06.6950086+07:00 800000c9-0002-dd00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)" in 99.4433ms (afa2e885)
2019-06-23T09:04:06.6973355+07:00 800000c9-0002-dd00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)"' (99874f2b)
2019-06-23T09:04:06.6994976+07:00 800000c9-0002-dd00-b63f-84710c7967bb [INF] Request finished in 117.9996ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:04:06.7211147+07:00 80000101-0003-ed00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/User/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-23T09:04:06.7246586+07:00 80000101-0003-ed00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)"' (500cc934)
2019-06-23T09:04:06.7275286+07:00 80000101-0003-ed00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"User\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllPaging(System.String, Int32, Int32)" on controller "OnlineShop.Areas.Admin.Controllers.UserController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:04:06.7308110+07:00 80000101-0003-ed00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:04:06.7404306+07:00 80000101-0003-ed00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:04:06.7435417+07:00 80000101-0003-ed00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:04:06.7464450+07:00 80000101-0003-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppUsers] AS [a]" (0723d8ff)
2019-06-23T09:04:06.7506669+07:00 80000101-0003-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[UserName], [x].[Avatar], CONVERT(VARCHAR(100), [x].[BirthDay]) AS [BirthDay], [x].[Email], [x].[FullName], [x].[Id], [x].[PhoneNumber], [x].[Status], [x].[DateCreated]
FROM [AppUsers] AS [x]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-23T09:04:06.7545953+07:00 80000101-0003-ed00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 10.881ms. (50a9e262)
2019-06-23T09:04:06.7592932+07:00 80000101-0003-ed00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Utilities.DTO.PagedResult`1[[OnlineShop.Services.ViewModels.system.AppUserViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:04:06.7762649+07:00 80000101-0003-ed00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)" in 32.2322ms (afa2e885)
2019-06-23T09:04:06.7799830+07:00 80000101-0003-ed00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)"' (99874f2b)
2019-06-23T09:04:06.7843593+07:00 80000101-0003-ed00-b63f-84710c7967bb [INF] Request finished in 66.1335ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:04:07.9108008+07:00 800000cb-0002-dd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/Role/GetAll   (ca22a1cb)
2019-06-23T09:04:07.9136709+07:00 800000cb-0002-dd00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.GetAll (OnlineShop)"' (500cc934)
2019-06-23T09:04:07.9217599+07:00 800000cb-0002-dd00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"Role\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll()" on controller "OnlineShop.Areas.Admin.Controllers.RoleController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:04:07.9244013+07:00 800000cb-0002-dd00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:04:07.9269977+07:00 800000cb-0002-dd00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.RoleController.GetAll (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:04:07.9319432+07:00 800000cb-0002-dd00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:04:07.9425505+07:00 800000cb-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoAppRole].[Description], [dtoAppRole].[Id], [dtoAppRole].[Name]
FROM [AppRoles] AS [dtoAppRole]" (0723d8ff)
2019-06-23T09:04:07.9486764+07:00 800000cb-0002-dd00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.RoleController.GetAll (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 19.0297ms. (50a9e262)
2019-06-23T09:04:07.9512849+07:00 800000cb-0002-dd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[OnlineShop.Services.ViewModels.system.AppRoleViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:04:07.9540298+07:00 800000cb-0002-dd00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.RoleController.GetAll (OnlineShop)" in 29.5744ms (afa2e885)
2019-06-23T09:04:07.9576736+07:00 800000cb-0002-dd00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.GetAll (OnlineShop)"' (99874f2b)
2019-06-23T09:04:07.9608335+07:00 800000cb-0002-dd00-b63f-84710c7967bb [INF] Request finished in 49.4916ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:04:07.9685311+07:00 8000007a-0000-f000-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/Role/GetAll   (ca22a1cb)
2019-06-23T09:04:07.9721774+07:00 8000007a-0000-f000-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.GetAll (OnlineShop)"' (500cc934)
2019-06-23T09:04:07.9749326+07:00 8000007a-0000-f000-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"Role\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll()" on controller "OnlineShop.Areas.Admin.Controllers.RoleController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:04:07.9783125+07:00 8000007a-0000-f000-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:04:07.9809848+07:00 8000007a-0000-f000-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.RoleController.GetAll (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:04:07.9835171+07:00 8000007a-0000-f000-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:04:07.9875629+07:00 8000007a-0000-f000-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoAppRole].[Description], [dtoAppRole].[Id], [dtoAppRole].[Name]
FROM [AppRoles] AS [dtoAppRole]" (0723d8ff)
2019-06-23T09:04:07.9908363+07:00 8000007a-0000-f000-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.RoleController.GetAll (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 7.9511ms. (50a9e262)
2019-06-23T09:04:07.9930802+07:00 8000007a-0000-f000-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[OnlineShop.Services.ViewModels.system.AppRoleViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:04:07.9957643+07:00 8000007a-0000-f000-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.RoleController.GetAll (OnlineShop)" in 18.4606ms (afa2e885)
2019-06-23T09:04:07.9986849+07:00 8000007a-0000-f000-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.GetAll (OnlineShop)"' (99874f2b)
2019-06-23T09:04:08.0018791+07:00 8000007a-0000-f000-b63f-84710c7967bb [INF] Request finished in 33.0854ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:04:16.2232213+07:00 800000cd-0002-dd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/Login/Index   (ca22a1cb)
2019-06-23T09:04:16.2276260+07:00 800000cd-0002-dd00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)"' (500cc934)
2019-06-23T09:04:16.2306434+07:00 800000cd-0002-dd00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Login\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "OnlineShop.Areas.Admin.Controllers.LoginController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:04:16.2344775+07:00 800000cd-0002-dd00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:04:16.2375315+07:00 800000cd-0002-dd00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0173ms. (50a9e262)
2019-06-23T09:04:16.2404225+07:00 800000cd-0002-dd00-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T09:04:16.2445849+07:00 800000cd-0002-dd00-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 3.6754ms. (f66409e9)
2019-06-23T09:04:16.2515661+07:00 800000cd-0002-dd00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)" in 13.9389ms (afa2e885)
2019-06-23T09:04:16.2696910+07:00 800000cd-0002-dd00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)"' (99874f2b)
2019-06-23T09:04:16.2768234+07:00 800000cd-0002-dd00-b63f-84710c7967bb [INF] Request finished in 50.0214ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T09:04:27.3777319+07:00 800000f0-0001-e700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44363/admin/login/authen application/x-www-form-urlencoded; charset=UTF-8 33 (ca22a1cb)
2019-06-23T09:04:27.3808012+07:00 800000f0-0001-e700-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)"' (500cc934)
2019-06-23T09:04:27.3844446+07:00 800000f0-0001-e700-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Authen\", controller = \"Login\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authen(OnlineShop.Models.LoginViewModel)" on controller "OnlineShop.Areas.Admin.Controllers.LoginController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:04:27.3882200+07:00 800000f0-0001-e700-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:04:27.3914059+07:00 800000f0-0001-e700-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:04:27.3979267+07:00 800000f0-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Avatar], [u].[Balance], [u].[BirthDay], [u].[ConcurrencyStamp], [u].[DateCreated], [u].[DateModified], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AppUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-06-23T09:04:27.4132576+07:00 800000f0-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AppUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2019-06-23T09:04:27.4191655+07:00 800000f0-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-23T09:04:27.4244473+07:00 800000f0-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AppRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-23T09:04:27.4298569+07:00 800000f0-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AppRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-23T09:04:27.4351719+07:00 800000f0-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-23T09:04:27.4388720+07:00 800000f0-0001-e700-b63f-84710c7967bb [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-06-23T09:04:27.4413316+07:00 800000f0-0001-e700-b63f-84710c7967bb [INF] User logged in. (fdce0db4)
2019-06-23T09:04:27.4441946+07:00 800000f0-0001-e700-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 53.1542ms. (50a9e262)
2019-06-23T09:04:27.4476783+07:00 800000f0-0001-e700-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Utilities.DTO.GenericResult"'. (8a1b66c8)
2019-06-23T09:04:27.4511364+07:00 800000f0-0001-e700-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)" in 63.6188ms (afa2e885)
2019-06-23T09:04:27.4541705+07:00 800000f0-0001-e700-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)"' (99874f2b)
2019-06-23T09:04:27.4567229+07:00 800000f0-0001-e700-b63f-84710c7967bb [INF] Request finished in 81.6784ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:04:27.4687708+07:00 80000103-0003-ed00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/Home/Index   (ca22a1cb)
2019-06-23T09:04:27.4724905+07:00 80000103-0003-ed00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)"' (500cc934)
2019-06-23T09:04:27.4770864+07:00 80000103-0003-ed00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Home\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "OnlineShop.Areas.Admin.Controllers.HomeController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:04:27.4833602+07:00 80000103-0003-ed00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:04:27.4865170+07:00 80000103-0003-ed00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:04:27.4890564+07:00 80000103-0003-ed00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0275ms. (50a9e262)
2019-06-23T09:04:27.4929126+07:00 80000103-0003-ed00-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T09:04:27.4982225+07:00 80000103-0003-ed00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:04:27.5040854+07:00 80000103-0003-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-23T09:04:27.5134030+07:00 80000103-0003-ed00-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 17.2906ms. (f66409e9)
2019-06-23T09:04:27.5180695+07:00 80000103-0003-ed00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)" in 36.8997ms (afa2e885)
2019-06-23T09:04:27.5227421+07:00 80000103-0003-ed00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)"' (99874f2b)
2019-06-23T09:04:27.5503499+07:00 80000103-0003-ed00-b63f-84710c7967bb [INF] Request finished in 57.0205ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T09:04:31.9178353+07:00 8000007c-0000-f000-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/report/visitor   (ca22a1cb)
2019-06-23T09:04:31.9210149+07:00 8000007c-0000-f000-b63f-84710c7967bb [INF] Request finished in 3.9442ms 404  (791a596a)
2019-06-23T09:04:36.0842460+07:00 8000007e-0000-f000-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/user/index   (ca22a1cb)
2019-06-23T09:04:36.0895441+07:00 8000007e-0000-f000-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.UserController.Index (OnlineShop)"' (500cc934)
2019-06-23T09:04:36.0990353+07:00 8000007e-0000-f000-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"User\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "OnlineShop.Areas.Admin.Controllers.UserController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:04:36.1018635+07:00 8000007e-0000-f000-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:04:36.1071462+07:00 8000007e-0000-f000-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.UserController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:04:36.1107703+07:00 8000007e-0000-f000-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:04:36.1262292+07:00 8000007e-0000-f000-b63f-84710c7967bb [INF] Executed DbCommand ("8"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T09:04:36.1296535+07:00 8000007e-0000-f000-b63f-84710c7967bb [INF] Authorization failed. (b15dd539)
2019-06-23T09:04:36.1329819+07:00 8000007e-0000-f000-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.UserController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.RedirectResult" in 22.5542ms. (50a9e262)
2019-06-23T09:04:36.1362724+07:00 8000007e-0000-f000-b63f-84710c7967bb [INF] Executing RedirectResult, redirecting to "/Admin/Login/Index". (d98d540e)
2019-06-23T09:04:36.1395172+07:00 8000007e-0000-f000-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.UserController.Index (OnlineShop)" in 37.297ms (afa2e885)
2019-06-23T09:04:36.1428973+07:00 8000007e-0000-f000-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.UserController.Index (OnlineShop)"' (99874f2b)
2019-06-23T09:04:36.1461182+07:00 8000007e-0000-f000-b63f-84710c7967bb [INF] Request finished in 61.8606ms 302  (791a596a)
2019-06-23T09:04:36.1508076+07:00 800000f2-0001-e700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/Login/Index   (ca22a1cb)
2019-06-23T09:04:36.1547813+07:00 800000f2-0001-e700-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)"' (500cc934)
2019-06-23T09:04:36.1578257+07:00 800000f2-0001-e700-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Login\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "OnlineShop.Areas.Admin.Controllers.LoginController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:04:36.1612631+07:00 800000f2-0001-e700-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:04:36.1647433+07:00 800000f2-0001-e700-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.015ms. (50a9e262)
2019-06-23T09:04:36.1677051+07:00 800000f2-0001-e700-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T09:04:36.1775695+07:00 800000f2-0001-e700-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 3.6691ms. (f66409e9)
2019-06-23T09:04:36.1814523+07:00 800000f2-0001-e700-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)" in 19.8012ms (afa2e885)
2019-06-23T09:04:36.1986272+07:00 800000f2-0001-e700-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)"' (99874f2b)
2019-06-23T09:04:36.2061602+07:00 800000f2-0001-e700-b63f-84710c7967bb [INF] Request finished in 51.6878ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T09:04:43.3101059+07:00 80000105-0003-ed00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44363/admin/login/authen application/x-www-form-urlencoded; charset=UTF-8 33 (ca22a1cb)
2019-06-23T09:04:43.3140585+07:00 80000105-0003-ed00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)"' (500cc934)
2019-06-23T09:04:43.3169828+07:00 80000105-0003-ed00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Authen\", controller = \"Login\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authen(OnlineShop.Models.LoginViewModel)" on controller "OnlineShop.Areas.Admin.Controllers.LoginController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:04:43.3203908+07:00 80000105-0003-ed00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:04:43.3236499+07:00 80000105-0003-ed00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:04:43.3295628+07:00 80000105-0003-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Avatar], [u].[Balance], [u].[BirthDay], [u].[ConcurrencyStamp], [u].[DateCreated], [u].[DateModified], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AppUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-06-23T09:04:43.3451203+07:00 80000105-0003-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AppUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2019-06-23T09:04:43.3498065+07:00 80000105-0003-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-23T09:04:43.3547450+07:00 80000105-0003-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AppRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-23T09:04:43.3594323+07:00 80000105-0003-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AppRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-23T09:04:43.3637253+07:00 80000105-0003-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-23T09:04:43.3670401+07:00 80000105-0003-ed00-b63f-84710c7967bb [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-06-23T09:04:43.3699067+07:00 80000105-0003-ed00-b63f-84710c7967bb [INF] User logged in. (fdce0db4)
2019-06-23T09:04:43.3725147+07:00 80000105-0003-ed00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 49.5857ms. (50a9e262)
2019-06-23T09:04:43.3750460+07:00 80000105-0003-ed00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Utilities.DTO.GenericResult"'. (8a1b66c8)
2019-06-23T09:04:43.3783307+07:00 80000105-0003-ed00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)" in 58.5454ms (afa2e885)
2019-06-23T09:04:43.3806333+07:00 80000105-0003-ed00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)"' (99874f2b)
2019-06-23T09:04:43.3831178+07:00 80000105-0003-ed00-b63f-84710c7967bb [INF] Request finished in 74.2894ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:04:43.3955558+07:00 800000cf-0002-dd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/Home/Index   (ca22a1cb)
2019-06-23T09:04:43.3984488+07:00 800000cf-0002-dd00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)"' (500cc934)
2019-06-23T09:04:43.4032381+07:00 800000cf-0002-dd00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Home\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "OnlineShop.Areas.Admin.Controllers.HomeController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:04:43.4089747+07:00 800000cf-0002-dd00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:04:43.4121825+07:00 800000cf-0002-dd00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:04:43.4145858+07:00 800000cf-0002-dd00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0371ms. (50a9e262)
2019-06-23T09:04:43.4181509+07:00 800000cf-0002-dd00-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T09:04:43.4230516+07:00 800000cf-0002-dd00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:04:43.4295391+07:00 800000cf-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-23T09:04:43.4352676+07:00 800000cf-0002-dd00-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 16.8459ms. (f66409e9)
2019-06-23T09:04:43.4409420+07:00 800000cf-0002-dd00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)" in 32.2258ms (afa2e885)
2019-06-23T09:04:43.4443487+07:00 800000cf-0002-dd00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)"' (99874f2b)
2019-06-23T09:04:43.4580388+07:00 800000cf-0002-dd00-b63f-84710c7967bb [INF] Request finished in 51.5161ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T09:04:45.9770093+07:00 800000d1-0002-dd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/role/index   (ca22a1cb)
2019-06-23T09:04:45.9812212+07:00 800000d1-0002-dd00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)"' (500cc934)
2019-06-23T09:04:45.9849684+07:00 800000d1-0002-dd00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Role\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "OnlineShop.Areas.Admin.Controllers.RoleController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:04:45.9880390+07:00 800000d1-0002-dd00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:04:45.9908953+07:00 800000d1-0002-dd00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:04:45.9939977+07:00 800000d1-0002-dd00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:04:46.0030486+07:00 800000d1-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T09:04:46.0071239+07:00 800000d1-0002-dd00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:04:46.0100485+07:00 800000d1-0002-dd00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 16.3112ms. (50a9e262)
2019-06-23T09:04:46.0126172+07:00 800000d1-0002-dd00-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T09:04:46.0184976+07:00 800000d1-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-23T09:04:46.0223673+07:00 800000d1-0002-dd00-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 9.7326ms. (f66409e9)
2019-06-23T09:04:46.0268589+07:00 800000d1-0002-dd00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)" in 38.1971ms (afa2e885)
2019-06-23T09:04:46.0302734+07:00 800000d1-0002-dd00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)"' (99874f2b)
2019-06-23T09:04:46.0406908+07:00 800000d1-0002-dd00-b63f-84710c7967bb [INF] Request finished in 58.8407ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T09:04:46.1309511+07:00 800000d3-0002-dd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/role/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-23T09:04:46.1354204+07:00 800000d3-0002-dd00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)"' (500cc934)
2019-06-23T09:04:46.1382200+07:00 800000d3-0002-dd00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Role\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllPaging(System.String, Int32, Int32)" on controller "OnlineShop.Areas.Admin.Controllers.RoleController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:04:46.1418180+07:00 800000d3-0002-dd00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:04:46.1467062+07:00 800000d3-0002-dd00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:04:46.1514095+07:00 800000d3-0002-dd00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:04:46.1555722+07:00 800000d3-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppRoles] AS [a]" (0723d8ff)
2019-06-23T09:04:46.1613901+07:00 800000d3-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoAppRole].[Description], [dtoAppRole].[Id], [dtoAppRole].[Name]
FROM [AppRoles] AS [dtoAppRole]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-23T09:04:46.1644247+07:00 800000d3-0002-dd00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 14.798ms. (50a9e262)
2019-06-23T09:04:46.1684800+07:00 800000d3-0002-dd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Utilities.DTO.PagedResult`1[[OnlineShop.Services.ViewModels.system.AppRoleViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:04:46.1764155+07:00 800000d3-0002-dd00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)" in 31.348ms (afa2e885)
2019-06-23T09:04:46.1833200+07:00 800000d3-0002-dd00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)"' (99874f2b)
2019-06-23T09:04:46.1871820+07:00 800000d3-0002-dd00-b63f-84710c7967bb [INF] Request finished in 55.4939ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:04:46.2041624+07:00 800000f4-0001-e700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/role/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-23T09:04:46.2075148+07:00 800000f4-0001-e700-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)"' (500cc934)
2019-06-23T09:04:46.2135579+07:00 800000f4-0001-e700-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Role\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllPaging(System.String, Int32, Int32)" on controller "OnlineShop.Areas.Admin.Controllers.RoleController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:04:46.2179074+07:00 800000f4-0001-e700-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:04:46.2215193+07:00 800000f4-0001-e700-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:04:46.2250176+07:00 800000f4-0001-e700-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:04:46.2281697+07:00 800000f4-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppRoles] AS [a]" (0723d8ff)
2019-06-23T09:04:46.2316158+07:00 800000f4-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoAppRole].[Description], [dtoAppRole].[Id], [dtoAppRole].[Name]
FROM [AppRoles] AS [dtoAppRole]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-23T09:04:46.2370353+07:00 800000f4-0001-e700-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 10.1816ms. (50a9e262)
2019-06-23T09:04:46.2403958+07:00 800000f4-0001-e700-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Utilities.DTO.PagedResult`1[[OnlineShop.Services.ViewModels.system.AppRoleViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:04:46.2434510+07:00 800000f4-0001-e700-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)" in 27.1332ms (afa2e885)
2019-06-23T09:04:46.2459560+07:00 800000f4-0001-e700-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)"' (99874f2b)
2019-06-23T09:04:46.2500004+07:00 800000f4-0001-e700-b63f-84710c7967bb [INF] Request finished in 44.3308ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:04:47.6087413+07:00 80000107-0003-ed00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/Function/GetAll   (ca22a1cb)
2019-06-23T09:04:47.6116555+07:00 800000f6-0001-e700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44363/Admin/Role/ListAllFunction application/x-www-form-urlencoded; charset=UTF-8 43 (ca22a1cb)
2019-06-23T09:04:47.6151672+07:00 80000107-0003-ed00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)"' (500cc934)
2019-06-23T09:04:47.6229047+07:00 800000f6-0001-e700-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)"' (500cc934)
2019-06-23T09:04:47.6285645+07:00 80000107-0003-ed00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"Function\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll()" on controller "OnlineShop.Areas.Admin.Controllers.FunctionController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:04:47.6329088+07:00 80000107-0003-ed00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:04:47.6369682+07:00 800000f6-0001-e700-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"ListAllFunction\", controller = \"Role\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult ListAllFunction(System.Guid)" on controller "OnlineShop.Areas.Admin.Controllers.RoleController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:04:47.6421904+07:00 800000f6-0001-e700-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:04:47.6645163+07:00 80000107-0003-ed00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:04:47.6696311+07:00 800000f6-0001-e700-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:04:47.6741906+07:00 80000107-0003-ed00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:04:47.6804486+07:00 80000107-0003-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-23T09:04:47.6863636+07:00 800000f6-0001-e700-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:04:47.6909091+07:00 80000107-0003-ed00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 23.4586ms. (50a9e262)
2019-06-23T09:04:47.6936920+07:00 80000107-0003-ed00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[OnlineShop.Services.ViewModels.system.FunctionViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:04:47.7042761+07:00 80000107-0003-ed00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)" in 73.1718ms (afa2e885)
2019-06-23T09:04:47.7076542+07:00 80000107-0003-ed00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)"' (99874f2b)
2019-06-23T09:04:47.7100151+07:00 80000107-0003-ed00-b63f-84710c7967bb [INF] Request finished in 102.1088ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:04:47.7453318+07:00 800000f6-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=["@__roleId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT @__roleId_0 AS [RoleId], [f].[Id] AS [FunctionId], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanCreate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanCreate], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanDelete] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanDelete], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanRead] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanRead], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanUpdate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanUpdate]
FROM [Functions] AS [f]
LEFT JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
WHERE [p].[Id] IS NOT NULL AND ([p].[RoleId] = @__roleId_0)" (0723d8ff)
2019-06-23T09:04:47.7543337+07:00 800000f6-0001-e700-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 81.7126ms. (50a9e262)
2019-06-23T09:04:47.7573201+07:00 800000f6-0001-e700-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[OnlineShop.Services.ViewModels.system.PermissionViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:04:47.7741592+07:00 800000f6-0001-e700-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)" in 133.1655ms (afa2e885)
2019-06-23T09:04:47.7771445+07:00 800000f6-0001-e700-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)"' (99874f2b)
2019-06-23T09:04:47.7798909+07:00 800000f6-0001-e700-b63f-84710c7967bb [INF] Request finished in 168.5691ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:04:53.3399616+07:00 80000109-0003-ed00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44363/Admin/Role/SavePermission application/x-www-form-urlencoded; charset=UTF-8 6997 (ca22a1cb)
2019-06-23T09:04:53.3443975+07:00 80000109-0003-ed00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.SavePermission (OnlineShop)"' (500cc934)
2019-06-23T09:04:53.3591008+07:00 80000109-0003-ed00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"SavePermission\", controller = \"Role\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult SavePermission(System.Collections.Generic.List`1[OnlineShop.Services.ViewModels.system.PermissionViewModel], System.Guid)" on controller "OnlineShop.Areas.Admin.Controllers.RoleController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:04:53.3626019+07:00 80000109-0003-ed00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:04:53.3863630+07:00 80000109-0003-ed00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.RoleController.SavePermission (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:04:53.4215430+07:00 80000109-0003-ed00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:04:53.4339207+07:00 80000109-0003-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__roleId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CanCreate], [x].[CanDelete], [x].[CanRead], [x].[CanUpdate], [x].[FunctionId], [x].[RoleId]
FROM [Permissions] AS [x]
WHERE [x].[RoleId] = @__roleId_0" (0723d8ff)
2019-06-23T09:04:53.5779992+07:00 80000109-0003-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("28"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (DbType = Int32), @p24='?' (DbType = Boolean), @p25='?' (DbType = Boolean), @p26='?' (DbType = Boolean), @p27='?' (DbType = Boolean), @p28='?' (Size = 128) (DbType = AnsiString), @p29='?' (DbType = Guid), @p30='?' (DbType = Boolean), @p31='?' (DbType = Boolean), @p32='?' (DbType = Boolean), @p33='?' (DbType = Boolean), @p34='?' (Size = 128) (DbType = AnsiString), @p35='?' (DbType = Guid), @p36='?' (DbType = Boolean), @p37='?' (DbType = Boolean), @p38='?' (DbType = Boolean), @p39='?' (DbType = Boolean), @p40='?' (Size = 128) (DbType = AnsiString), @p41='?' (DbType = Guid), @p42='?' (DbType = Boolean), @p43='?' (DbType = Boolean), @p44='?' (DbType = Boolean), @p45='?' (DbType = Boolean), @p46='?' (Size = 128) (DbType = AnsiString), @p47='?' (DbType = Guid), @p48='?' (DbType = Boolean), @p49='?' (DbType = Boolean), @p50='?' (DbType = Boolean), @p51='?' (DbType = Boolean), @p52='?' (Size = 128) (DbType = AnsiString), @p53='?' (DbType = Guid), @p54='?' (DbType = Boolean), @p55='?' (DbType = Boolean), @p56='?' (DbType = Boolean), @p57='?' (DbType = Boolean), @p58='?' (Size = 128) (DbType = AnsiString), @p59='?' (DbType = Guid), @p60='?' (DbType = Boolean), @p61='?' (DbType = Boolean), @p62='?' (DbType = Boolean), @p63='?' (DbType = Boolean), @p64='?' (Size = 128) (DbType = AnsiString), @p65='?' (DbType = Guid), @p66='?' (DbType = Boolean), @p67='?' (DbType = Boolean), @p68='?' (DbType = Boolean), @p69='?' (DbType = Boolean), @p70='?' (Size = 128) (DbType = AnsiString), @p71='?' (DbType = Guid), @p72='?' (DbType = Boolean), @p73='?' (DbType = Boolean), @p74='?' (DbType = Boolean), @p75='?' (DbType = Boolean), @p76='?' (Size = 128) (DbType = AnsiString), @p77='?' (DbType = Guid), @p78='?' (DbType = Boolean), @p79='?' (DbType = Boolean), @p80='?' (DbType = Boolean), @p81='?' (DbType = Boolean), @p82='?' (Size = 128) (DbType = AnsiString), @p83='?' (DbType = Guid), @p84='?' (DbType = Boolean), @p85='?' (DbType = Boolean), @p86='?' (DbType = Boolean), @p87='?' (DbType = Boolean), @p88='?' (Size = 128) (DbType = AnsiString), @p89='?' (DbType = Guid), @p90='?' (DbType = Boolean), @p91='?' (DbType = Boolean), @p92='?' (DbType = Boolean), @p93='?' (DbType = Boolean), @p94='?' (Size = 128) (DbType = AnsiString), @p95='?' (DbType = Guid), @p96='?' (DbType = Boolean), @p97='?' (DbType = Boolean), @p98='?' (DbType = Boolean), @p99='?' (DbType = Boolean), @p100='?' (Size = 128) (DbType = AnsiString), @p101='?' (DbType = Guid), @p102='?' (DbType = Boolean), @p103='?' (DbType = Boolean), @p104='?' (DbType = Boolean), @p105='?' (DbType = Boolean), @p106='?' (Size = 128) (DbType = AnsiString), @p107='?' (DbType = Guid), @p108='?' (DbType = Boolean), @p109='?' (DbType = Boolean), @p110='?' (DbType = Boolean), @p111='?' (DbType = Boolean), @p112='?' (Size = 128) (DbType = AnsiString), @p113='?' (DbType = Guid), @p114='?' (DbType = Boolean), @p115='?' (DbType = Boolean), @p116='?' (DbType = Boolean), @p117='?' (DbType = Boolean), @p118='?' (Size = 128) (DbType = AnsiString), @p119='?' (DbType = Guid), @p120='?' (DbType = Boolean), @p121='?' (DbType = Boolean), @p122='?' (DbType = Boolean), @p123='?' (DbType = Boolean), @p124='?' (Size = 128) (DbType = AnsiString), @p125='?' (DbType = Guid), @p126='?' (DbType = Boolean), @p127='?' (DbType = Boolean), @p128='?' (DbType = Boolean), @p129='?' (DbType = Boolean), @p130='?' (Size = 128) (DbType = AnsiString), @p131='?' (DbType = Guid), @p132='?' (DbType = Boolean), @p133='?' (DbType = Boolean), @p134='?' (DbType = Boolean), @p135='?' (DbType = Boolean), @p136='?' (Size = 128) (DbType = AnsiString), @p137='?' (DbType = Guid), @p138='?' (DbType = Boolean), @p139='?' (DbType = Boolean), @p140='?' (DbType = Boolean), @p141='?' (DbType = Boolean), @p142='?' (Size = 128) (DbType = AnsiString), @p143='?' (DbType = Guid), @p144='?' (DbType = Boolean), @p145='?' (DbType = Boolean), @p146='?' (DbType = Boolean), @p147='?' (DbType = Boolean), @p148='?' (Size = 128) (DbType = AnsiString), @p149='?' (DbType = Guid), @p150='?' (DbType = Boolean), @p151='?' (DbType = Boolean), @p152='?' (DbType = Boolean), @p153='?' (DbType = Boolean), @p154='?' (Size = 128) (DbType = AnsiString), @p155='?' (DbType = Guid), @p156='?' (DbType = Boolean), @p157='?' (DbType = Boolean), @p158='?' (DbType = Boolean), @p159='?' (DbType = Boolean), @p160='?' (Size = 128) (DbType = AnsiString), @p161='?' (DbType = Guid), @p162='?' (DbType = Boolean), @p163='?' (DbType = Boolean), @p164='?' (DbType = Boolean), @p165='?' (DbType = Boolean), @p166='?' (Size = 128) (DbType = AnsiString), @p167='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [Permissions]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p3;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p4;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p5;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p6;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p7;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p8;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p9;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p10;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p11;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p12;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p13;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p14;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p15;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p16;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p17;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p18;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p19;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p20;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p21;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p22;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p23;
SELECT @@ROWCOUNT;

DECLARE @inserted24 TABLE ([Id] int, [_Position] [int]);
MERGE [Permissions] USING (
VALUES (@p24, @p25, @p26, @p27, @p28, @p29, 0),
(@p30, @p31, @p32, @p33, @p34, @p35, 1),
(@p36, @p37, @p38, @p39, @p40, @p41, 2),
(@p42, @p43, @p44, @p45, @p46, @p47, 3),
(@p48, @p49, @p50, @p51, @p52, @p53, 4),
(@p54, @p55, @p56, @p57, @p58, @p59, 5),
(@p60, @p61, @p62, @p63, @p64, @p65, 6),
(@p66, @p67, @p68, @p69, @p70, @p71, 7),
(@p72, @p73, @p74, @p75, @p76, @p77, 8),
(@p78, @p79, @p80, @p81, @p82, @p83, 9),
(@p84, @p85, @p86, @p87, @p88, @p89, 10),
(@p90, @p91, @p92, @p93, @p94, @p95, 11),
(@p96, @p97, @p98, @p99, @p100, @p101, 12),
(@p102, @p103, @p104, @p105, @p106, @p107, 13),
(@p108, @p109, @p110, @p111, @p112, @p113, 14),
(@p114, @p115, @p116, @p117, @p118, @p119, 15),
(@p120, @p121, @p122, @p123, @p124, @p125, 16),
(@p126, @p127, @p128, @p129, @p130, @p131, 17),
(@p132, @p133, @p134, @p135, @p136, @p137, 18),
(@p138, @p139, @p140, @p141, @p142, @p143, 19),
(@p144, @p145, @p146, @p147, @p148, @p149, 20),
(@p150, @p151, @p152, @p153, @p154, @p155, 21),
(@p156, @p157, @p158, @p159, @p160, @p161, 22),
(@p162, @p163, @p164, @p165, @p166, @p167, 23)) AS i ([CanCreate], [CanDelete], [CanRead], [CanUpdate], [FunctionId], [RoleId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CanCreate], [CanDelete], [CanRead], [CanUpdate], [FunctionId], [RoleId])
VALUES (i.[CanCreate], i.[CanDelete], i.[CanRead], i.[CanUpdate], i.[FunctionId], i.[RoleId])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted24;

SELECT [t].[Id] FROM [Permissions] t
INNER JOIN @inserted24 i ON ([t].[Id] = [i].[Id])
ORDER BY [i].[_Position];" (0723d8ff)
2019-06-23T09:04:53.6003952+07:00 80000109-0003-ed00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.RoleController.SavePermission (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkResult" in 210.5605ms. (50a9e262)
2019-06-23T09:04:53.6076832+07:00 80000109-0003-ed00-b63f-84710c7967bb [INF] Executing HttpStatusCodeResult, setting HTTP status code 200 (e28ccfae)
2019-06-23T09:04:53.6112393+07:00 80000109-0003-ed00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.RoleController.SavePermission (OnlineShop)" in 248.6132ms (afa2e885)
2019-06-23T09:04:53.6164681+07:00 80000109-0003-ed00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.SavePermission (OnlineShop)"' (99874f2b)
2019-06-23T09:04:53.6202930+07:00 80000109-0003-ed00-b63f-84710c7967bb [INF] Request finished in 280.1879ms 200  (791a596a)
2019-06-23T09:04:57.1432162+07:00 80000080-0000-f000-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/Login/Index   (ca22a1cb)
2019-06-23T09:04:57.1474328+07:00 80000080-0000-f000-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)"' (500cc934)
2019-06-23T09:04:57.1512217+07:00 80000080-0000-f000-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Login\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "OnlineShop.Areas.Admin.Controllers.LoginController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:04:57.1552324+07:00 80000080-0000-f000-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:04:57.1589525+07:00 80000080-0000-f000-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0183ms. (50a9e262)
2019-06-23T09:04:57.1657337+07:00 80000080-0000-f000-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T09:04:57.1923413+07:00 80000080-0000-f000-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 7.7141ms. (f66409e9)
2019-06-23T09:04:57.2062275+07:00 80000080-0000-f000-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)" in 41.1538ms (afa2e885)
2019-06-23T09:04:57.2093064+07:00 80000080-0000-f000-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)"' (99874f2b)
2019-06-23T09:04:57.2128310+07:00 80000080-0000-f000-b63f-84710c7967bb [INF] Request finished in 68.976ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T09:04:59.6110089+07:00 800000d5-0002-dd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44363/admin/login/authen application/x-www-form-urlencoded; charset=UTF-8 33 (ca22a1cb)
2019-06-23T09:04:59.6151222+07:00 800000d5-0002-dd00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)"' (500cc934)
2019-06-23T09:04:59.6185421+07:00 800000d5-0002-dd00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Authen\", controller = \"Login\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authen(OnlineShop.Models.LoginViewModel)" on controller "OnlineShop.Areas.Admin.Controllers.LoginController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:04:59.6221456+07:00 800000d5-0002-dd00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:04:59.6254803+07:00 800000d5-0002-dd00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:04:59.6324874+07:00 800000d5-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Avatar], [u].[Balance], [u].[BirthDay], [u].[ConcurrencyStamp], [u].[DateCreated], [u].[DateModified], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AppUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-06-23T09:04:59.6484697+07:00 800000d5-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AppUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2019-06-23T09:04:59.6538673+07:00 800000d5-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-23T09:04:59.6604116+07:00 800000d5-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AppRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-23T09:04:59.6652202+07:00 800000d5-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AppRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-23T09:04:59.6703034+07:00 800000d5-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-23T09:04:59.6737280+07:00 800000d5-0002-dd00-b63f-84710c7967bb [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-06-23T09:04:59.6767069+07:00 800000d5-0002-dd00-b63f-84710c7967bb [INF] User logged in. (fdce0db4)
2019-06-23T09:04:59.6805809+07:00 800000d5-0002-dd00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 54.599ms. (50a9e262)
2019-06-23T09:04:59.6844442+07:00 800000d5-0002-dd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Utilities.DTO.GenericResult"'. (8a1b66c8)
2019-06-23T09:04:59.6884284+07:00 800000d5-0002-dd00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)" in 66.5874ms (afa2e885)
2019-06-23T09:04:59.6915967+07:00 800000d5-0002-dd00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)"' (99874f2b)
2019-06-23T09:04:59.6964604+07:00 800000d5-0002-dd00-b63f-84710c7967bb [INF] Request finished in 84.5452ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:04:59.7071782+07:00 800000d7-0002-dd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/Home/Index   (ca22a1cb)
2019-06-23T09:04:59.7103710+07:00 800000d7-0002-dd00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)"' (500cc934)
2019-06-23T09:04:59.7149360+07:00 800000d7-0002-dd00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Home\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "OnlineShop.Areas.Admin.Controllers.HomeController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:04:59.7187470+07:00 800000d7-0002-dd00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:04:59.7228562+07:00 800000d7-0002-dd00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:04:59.7262848+07:00 800000d7-0002-dd00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0406ms. (50a9e262)
2019-06-23T09:04:59.7293693+07:00 800000d7-0002-dd00-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T09:04:59.7327754+07:00 800000d7-0002-dd00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:04:59.7379329+07:00 800000d7-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-23T09:04:59.7448069+07:00 800000d7-0002-dd00-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 14.3705ms. (f66409e9)
2019-06-23T09:04:59.7522023+07:00 800000d7-0002-dd00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)" in 30.1799ms (afa2e885)
2019-06-23T09:04:59.7560469+07:00 800000d7-0002-dd00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)"' (99874f2b)
2019-06-23T09:04:59.7650853+07:00 800000d7-0002-dd00-b63f-84710c7967bb [INF] Request finished in 51.9099ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T09:05:04.2098219+07:00 80000082-0000-f000-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/productcategory/index   (ca22a1cb)
2019-06-23T09:05:04.2171639+07:00 80000082-0000-f000-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.ProductCategoryController.Index (OnlineShop)"' (500cc934)
2019-06-23T09:05:04.2205270+07:00 80000082-0000-f000-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"ProductCategory\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "OnlineShop.Areas.Admin.Controllers.ProductCategoryController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:05:04.2243450+07:00 80000082-0000-f000-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:05:04.2285058+07:00 80000082-0000-f000-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.ProductCategoryController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:05:04.2321721+07:00 80000082-0000-f000-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:05:04.2472371+07:00 80000082-0000-f000-b63f-84710c7967bb [INF] Executed DbCommand ("8"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T09:05:04.2511478+07:00 80000082-0000-f000-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:05:04.2541159+07:00 80000082-0000-f000-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.ProductCategoryController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 22.7352ms. (50a9e262)
2019-06-23T09:05:04.2603999+07:00 80000082-0000-f000-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T09:05:04.2838190+07:00 80000082-0000-f000-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-23T09:05:04.2959337+07:00 80000082-0000-f000-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 36.9228ms. (f66409e9)
2019-06-23T09:05:04.3373977+07:00 80000082-0000-f000-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.ProductCategoryController.Index (OnlineShop)" in 75.5041ms (afa2e885)
2019-06-23T09:05:04.3423145+07:00 80000082-0000-f000-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.ProductCategoryController.Index (OnlineShop)"' (99874f2b)
2019-06-23T09:05:04.3462617+07:00 80000082-0000-f000-b63f-84710c7967bb [INF] Request finished in 136.6682ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T09:05:04.5421333+07:00 80000084-0000-f000-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/ProductCategory/GetAll   (ca22a1cb)
2019-06-23T09:05:04.5463675+07:00 80000084-0000-f000-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.ProductCategoryController.GetAll (OnlineShop)"' (500cc934)
2019-06-23T09:05:04.5523818+07:00 80000084-0000-f000-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"ProductCategory\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAll()" on controller "OnlineShop.Areas.Admin.Controllers.ProductCategoryController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:05:04.5576608+07:00 80000084-0000-f000-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:05:04.5613418+07:00 80000084-0000-f000-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.ProductCategoryController.GetAll (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:05:04.5659379+07:00 80000084-0000-f000-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:05:04.7001010+07:00 80000084-0000-f000-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-23T09:05:04.7296045+07:00 80000084-0000-f000-b63f-84710c7967bb [INF] Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-23T09:05:04.7457995+07:00 80000084-0000-f000-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.ProductCategoryController.GetAll (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 182.1679ms. (50a9e262)
2019-06-23T09:05:04.7483134+07:00 80000084-0000-f000-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[OnlineShop.Services.ViewModels.product.ProductCategoryViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:05:04.7730348+07:00 80000084-0000-f000-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.ProductCategoryController.GetAll (OnlineShop)" in 217.8876ms (afa2e885)
2019-06-23T09:05:04.7764937+07:00 80000084-0000-f000-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.ProductCategoryController.GetAll (OnlineShop)"' (99874f2b)
2019-06-23T09:05:04.7793147+07:00 80000084-0000-f000-b63f-84710c7967bb [INF] Request finished in 238.4841ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:05:06.3496092+07:00 80000086-0000-f000-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/ProductCategory/GetAll   (ca22a1cb)
2019-06-23T09:05:06.3530625+07:00 80000086-0000-f000-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.ProductCategoryController.GetAll (OnlineShop)"' (500cc934)
2019-06-23T09:05:06.3567124+07:00 80000086-0000-f000-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"ProductCategory\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAll()" on controller "OnlineShop.Areas.Admin.Controllers.ProductCategoryController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:05:06.3598124+07:00 80000086-0000-f000-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:05:06.3627488+07:00 80000086-0000-f000-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.ProductCategoryController.GetAll (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:05:06.3661228+07:00 80000086-0000-f000-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:05:06.3698360+07:00 80000086-0000-f000-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-23T09:05:06.3736615+07:00 80000086-0000-f000-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-23T09:05:06.3771814+07:00 80000086-0000-f000-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.ProductCategoryController.GetAll (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 11.3675ms. (50a9e262)
2019-06-23T09:05:06.3798977+07:00 80000086-0000-f000-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[OnlineShop.Services.ViewModels.product.ProductCategoryViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:05:06.3835390+07:00 80000086-0000-f000-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.ProductCategoryController.GetAll (OnlineShop)" in 23.8059ms (afa2e885)
2019-06-23T09:05:06.3860218+07:00 80000086-0000-f000-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.ProductCategoryController.GetAll (OnlineShop)"' (99874f2b)
2019-06-23T09:05:06.3884619+07:00 80000086-0000-f000-b63f-84710c7967bb [INF] Request finished in 40.0731ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:05:10.8355286+07:00 800000f8-0001-e700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/user/index   (ca22a1cb)
2019-06-23T09:05:10.8384898+07:00 800000f8-0001-e700-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.UserController.Index (OnlineShop)"' (500cc934)
2019-06-23T09:05:10.8420408+07:00 800000f8-0001-e700-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"User\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "OnlineShop.Areas.Admin.Controllers.UserController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:05:10.8487912+07:00 800000f8-0001-e700-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:05:10.8523098+07:00 800000f8-0001-e700-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.UserController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:05:10.8557615+07:00 800000f8-0001-e700-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:05:10.8666792+07:00 800000f8-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T09:05:10.8697829+07:00 800000f8-0001-e700-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:05:10.8737811+07:00 800000f8-0001-e700-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.UserController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 17.8071ms. (50a9e262)
2019-06-23T09:05:10.8764565+07:00 800000f8-0001-e700-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T09:05:10.8881665+07:00 800000f8-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T09:05:10.8910960+07:00 800000f8-0001-e700-b63f-84710c7967bb [INF] Authorization failed. (b15dd539)
2019-06-23T09:05:10.9019278+07:00 800000f8-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T09:05:10.9046829+07:00 800000f8-0001-e700-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:05:10.9192335+07:00 800000f8-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("8"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T09:05:10.9219007+07:00 800000f8-0001-e700-b63f-84710c7967bb [INF] Authorization failed. (b15dd539)
2019-06-23T09:05:10.9284450+07:00 800000f8-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-23T09:05:10.9334964+07:00 800000f8-0001-e700-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 56.3048ms. (f66409e9)
2019-06-23T09:05:10.9592895+07:00 800000f8-0001-e700-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.UserController.Index (OnlineShop)" in 91.578ms (afa2e885)
2019-06-23T09:05:10.9672771+07:00 800000f8-0001-e700-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.UserController.Index (OnlineShop)"' (99874f2b)
2019-06-23T09:05:10.9706523+07:00 800000f8-0001-e700-b63f-84710c7967bb [INF] Request finished in 134.6229ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T09:05:11.1002422+07:00 80000088-0000-f000-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/User/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-23T09:05:11.1031548+07:00 80000088-0000-f000-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)"' (500cc934)
2019-06-23T09:05:11.1066198+07:00 80000088-0000-f000-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"User\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllPaging(System.String, Int32, Int32)" on controller "OnlineShop.Areas.Admin.Controllers.UserController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:05:11.1094031+07:00 80000088-0000-f000-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:05:11.1124189+07:00 80000088-0000-f000-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:05:11.1162253+07:00 80000088-0000-f000-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:05:11.1220255+07:00 80000088-0000-f000-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppUsers] AS [a]" (0723d8ff)
2019-06-23T09:05:11.1291428+07:00 80000088-0000-f000-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[UserName], [x].[Avatar], CONVERT(VARCHAR(100), [x].[BirthDay]) AS [BirthDay], [x].[Email], [x].[FullName], [x].[Id], [x].[PhoneNumber], [x].[Status], [x].[DateCreated]
FROM [AppUsers] AS [x]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-23T09:05:11.1339798+07:00 80000088-0000-f000-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 16.7495ms. (50a9e262)
2019-06-23T09:05:11.1397155+07:00 80000088-0000-f000-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Utilities.DTO.PagedResult`1[[OnlineShop.Services.ViewModels.system.AppUserViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:05:11.1489476+07:00 80000088-0000-f000-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)" in 33.4886ms (afa2e885)
2019-06-23T09:05:11.1600581+07:00 80000088-0000-f000-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)"' (99874f2b)
2019-06-23T09:05:11.1700828+07:00 80000088-0000-f000-b63f-84710c7967bb [INF] Request finished in 63.8683ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:05:11.1970890+07:00 800000d9-0002-dd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/User/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-23T09:05:11.2015280+07:00 800000d9-0002-dd00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)"' (500cc934)
2019-06-23T09:05:11.2064526+07:00 800000d9-0002-dd00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"User\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllPaging(System.String, Int32, Int32)" on controller "OnlineShop.Areas.Admin.Controllers.UserController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:05:11.2096569+07:00 800000d9-0002-dd00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:05:11.2136934+07:00 800000d9-0002-dd00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:05:11.2254225+07:00 800000d9-0002-dd00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:05:11.2302134+07:00 800000d9-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppUsers] AS [a]" (0723d8ff)
2019-06-23T09:05:11.2398558+07:00 800000d9-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[UserName], [x].[Avatar], CONVERT(VARCHAR(100), [x].[BirthDay]) AS [BirthDay], [x].[Email], [x].[FullName], [x].[Id], [x].[PhoneNumber], [x].[Status], [x].[DateCreated]
FROM [AppUsers] AS [x]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-23T09:05:11.2441263+07:00 800000d9-0002-dd00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 26.1851ms. (50a9e262)
2019-06-23T09:05:11.2471918+07:00 800000d9-0002-dd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Utilities.DTO.PagedResult`1[[OnlineShop.Services.ViewModels.system.AppUserViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:05:11.2513487+07:00 800000d9-0002-dd00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)" in 41.0933ms (afa2e885)
2019-06-23T09:05:11.2572768+07:00 800000d9-0002-dd00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)"' (99874f2b)
2019-06-23T09:05:11.2643071+07:00 800000d9-0002-dd00-b63f-84710c7967bb [INF] Request finished in 64.525ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:11:10.0703516+07:00 800000fa-0001-e700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/user/index   (ca22a1cb)
2019-06-23T09:11:10.0921564+07:00 800000fa-0001-e700-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.UserController.Index (OnlineShop)"' (500cc934)
2019-06-23T09:11:10.1016072+07:00 800000fa-0001-e700-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"User\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "OnlineShop.Areas.Admin.Controllers.UserController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:11:10.1048043+07:00 800000fa-0001-e700-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:11:10.1106630+07:00 800000fa-0001-e700-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.UserController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:11:10.1163163+07:00 800000fa-0001-e700-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:11:10.1615677+07:00 800000fa-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("9"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T09:11:10.1643012+07:00 800000fa-0001-e700-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:11:10.1670446+07:00 800000fa-0001-e700-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.UserController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 53.6925ms. (50a9e262)
2019-06-23T09:11:10.1698179+07:00 800000fa-0001-e700-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T09:11:10.1841601+07:00 800000fa-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("8"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T09:11:10.1869809+07:00 800000fa-0001-e700-b63f-84710c7967bb [INF] Authorization failed. (b15dd539)
2019-06-23T09:11:10.2017721+07:00 800000fa-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("8"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T09:11:10.2044525+07:00 800000fa-0001-e700-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:11:10.2196412+07:00 800000fa-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("8"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T09:11:10.2223586+07:00 800000fa-0001-e700-b63f-84710c7967bb [INF] Authorization failed. (b15dd539)
2019-06-23T09:11:10.2294356+07:00 800000fa-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-23T09:11:10.2340442+07:00 800000fa-0001-e700-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 63.7552ms. (f66409e9)
2019-06-23T09:11:10.2410902+07:00 800000fa-0001-e700-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.UserController.Index (OnlineShop)" in 132.624ms (afa2e885)
2019-06-23T09:11:10.2542769+07:00 800000fa-0001-e700-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.UserController.Index (OnlineShop)"' (99874f2b)
2019-06-23T09:11:10.2630547+07:00 800000fa-0001-e700-b63f-84710c7967bb [INF] Request finished in 187.6062ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T09:11:10.5686759+07:00 800000db-0002-dd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/User/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-23T09:11:10.5805614+07:00 800000db-0002-dd00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)"' (500cc934)
2019-06-23T09:11:10.5866517+07:00 800000db-0002-dd00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"User\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllPaging(System.String, Int32, Int32)" on controller "OnlineShop.Areas.Admin.Controllers.UserController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:11:10.5897250+07:00 800000db-0002-dd00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:11:10.5937985+07:00 800000db-0002-dd00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:11:10.5968425+07:00 800000db-0002-dd00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:11:10.6015533+07:00 800000db-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppUsers] AS [a]" (0723d8ff)
2019-06-23T09:11:10.6092157+07:00 800000db-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[UserName], [x].[Avatar], CONVERT(VARCHAR(100), [x].[BirthDay]) AS [BirthDay], [x].[Email], [x].[FullName], [x].[Id], [x].[PhoneNumber], [x].[Status], [x].[DateCreated]
FROM [AppUsers] AS [x]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-23T09:11:10.6126640+07:00 800000db-0002-dd00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 15.6147ms. (50a9e262)
2019-06-23T09:11:10.6159760+07:00 800000db-0002-dd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Utilities.DTO.PagedResult`1[[OnlineShop.Services.ViewModels.system.AppUserViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:11:10.6210492+07:00 800000db-0002-dd00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)" in 29.7293ms (afa2e885)
2019-06-23T09:11:10.6264735+07:00 800000db-0002-dd00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)"' (99874f2b)
2019-06-23T09:11:10.6302240+07:00 800000db-0002-dd00-b63f-84710c7967bb [INF] Request finished in 60.7706ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:11:10.6801701+07:00 8000008a-0000-f000-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/User/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-23T09:11:10.6840283+07:00 8000008a-0000-f000-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)"' (500cc934)
2019-06-23T09:11:10.6874427+07:00 8000008a-0000-f000-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"User\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllPaging(System.String, Int32, Int32)" on controller "OnlineShop.Areas.Admin.Controllers.UserController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:11:10.6956219+07:00 8000008a-0000-f000-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:11:10.6990149+07:00 8000008a-0000-f000-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:11:10.7025596+07:00 8000008a-0000-f000-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:11:10.7243463+07:00 8000008a-0000-f000-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppUsers] AS [a]" (0723d8ff)
2019-06-23T09:11:10.7444982+07:00 8000008a-0000-f000-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[UserName], [x].[Avatar], CONVERT(VARCHAR(100), [x].[BirthDay]) AS [BirthDay], [x].[Email], [x].[FullName], [x].[Id], [x].[PhoneNumber], [x].[Status], [x].[DateCreated]
FROM [AppUsers] AS [x]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-23T09:11:10.7488550+07:00 8000008a-0000-f000-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 45.8185ms. (50a9e262)
2019-06-23T09:11:10.7525255+07:00 8000008a-0000-f000-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Utilities.DTO.PagedResult`1[[OnlineShop.Services.ViewModels.system.AppUserViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:11:10.7650570+07:00 8000008a-0000-f000-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)" in 65.7776ms (afa2e885)
2019-06-23T09:11:10.7727127+07:00 8000008a-0000-f000-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)"' (99874f2b)
2019-06-23T09:11:10.7815598+07:00 8000008a-0000-f000-b63f-84710c7967bb [INF] Request finished in 96.6302ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:11:13.4360328+07:00 800000fc-0001-e700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin   (ca22a1cb)
2019-06-23T09:11:13.4406533+07:00 800000fc-0001-e700-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)"' (500cc934)
2019-06-23T09:11:13.4465730+07:00 800000fc-0001-e700-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Login\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "OnlineShop.Areas.Admin.Controllers.LoginController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:11:13.4492941+07:00 800000fc-0001-e700-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:11:13.4533196+07:00 800000fc-0001-e700-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0178ms. (50a9e262)
2019-06-23T09:11:13.4606797+07:00 800000fc-0001-e700-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T09:11:13.4844971+07:00 800000fc-0001-e700-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 8.5891ms. (f66409e9)
2019-06-23T09:11:13.5039355+07:00 800000fc-0001-e700-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)" in 37.8548ms (afa2e885)
2019-06-23T09:11:13.5145055+07:00 800000fc-0001-e700-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)"' (99874f2b)
2019-06-23T09:11:13.5176300+07:00 800000fc-0001-e700-b63f-84710c7967bb [INF] Request finished in 82.9831ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T09:11:14.8425693+07:00 800000fe-0001-e700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44363/admin/login/authen application/x-www-form-urlencoded; charset=UTF-8 33 (ca22a1cb)
2019-06-23T09:11:14.8457932+07:00 800000fe-0001-e700-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)"' (500cc934)
2019-06-23T09:11:14.8555801+07:00 800000fe-0001-e700-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Authen\", controller = \"Login\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authen(OnlineShop.Models.LoginViewModel)" on controller "OnlineShop.Areas.Admin.Controllers.LoginController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:11:14.8592094+07:00 800000fe-0001-e700-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:11:14.8623500+07:00 800000fe-0001-e700-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:11:14.8690480+07:00 800000fe-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Avatar], [u].[Balance], [u].[BirthDay], [u].[ConcurrencyStamp], [u].[DateCreated], [u].[DateModified], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AppUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-06-23T09:11:14.8906071+07:00 800000fe-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AppUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2019-06-23T09:11:14.8971147+07:00 800000fe-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-23T09:11:14.9025196+07:00 800000fe-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AppRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-23T09:11:14.9086743+07:00 800000fe-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AppRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-23T09:11:14.9142094+07:00 800000fe-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-23T09:11:14.9179902+07:00 800000fe-0001-e700-b63f-84710c7967bb [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-06-23T09:11:14.9207365+07:00 800000fe-0001-e700-b63f-84710c7967bb [INF] User logged in. (fdce0db4)
2019-06-23T09:11:14.9237518+07:00 800000fe-0001-e700-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 61.5438ms. (50a9e262)
2019-06-23T09:11:14.9267409+07:00 800000fe-0001-e700-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Utilities.DTO.GenericResult"'. (8a1b66c8)
2019-06-23T09:11:14.9306203+07:00 800000fe-0001-e700-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)" in 71.3925ms (afa2e885)
2019-06-23T09:11:14.9333051+07:00 800000fe-0001-e700-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)"' (99874f2b)
2019-06-23T09:11:14.9381761+07:00 800000fe-0001-e700-b63f-84710c7967bb [INF] Request finished in 93.9627ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:11:14.9523567+07:00 80000100-0001-e700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/Home/Index   (ca22a1cb)
2019-06-23T09:11:14.9599260+07:00 80000100-0001-e700-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)"' (500cc934)
2019-06-23T09:11:14.9668552+07:00 80000100-0001-e700-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Home\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "OnlineShop.Areas.Admin.Controllers.HomeController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:11:14.9709312+07:00 80000100-0001-e700-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:11:14.9758224+07:00 80000100-0001-e700-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:11:14.9810256+07:00 80000100-0001-e700-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0265ms. (50a9e262)
2019-06-23T09:11:14.9873830+07:00 80000100-0001-e700-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T09:11:14.9922335+07:00 80000100-0001-e700-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:11:15.0004479+07:00 80000100-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-23T09:11:15.0160576+07:00 80000100-0001-e700-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 21.4216ms. (f66409e9)
2019-06-23T09:11:15.0848687+07:00 80000100-0001-e700-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)" in 49.789ms (afa2e885)
2019-06-23T09:11:15.1012694+07:00 80000100-0001-e700-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)"' (99874f2b)
2019-06-23T09:11:15.1142948+07:00 80000100-0001-e700-b63f-84710c7967bb [INF] Request finished in 152.9051ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T09:11:17.6156714+07:00 8000008c-0000-f000-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/product/index   (ca22a1cb)
2019-06-23T09:11:17.6195790+07:00 8000008c-0000-f000-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.ProductController.Index (OnlineShop)"' (500cc934)
2019-06-23T09:11:17.6320435+07:00 8000008c-0000-f000-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Product\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "OnlineShop.Areas.Admin.Controllers.ProductController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:11:17.6352294+07:00 8000008c-0000-f000-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:11:17.6395469+07:00 8000008c-0000-f000-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.ProductController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:11:17.6448381+07:00 8000008c-0000-f000-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:11:17.6552557+07:00 8000008c-0000-f000-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T09:11:17.6586675+07:00 8000008c-0000-f000-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:11:17.6618093+07:00 8000008c-0000-f000-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.ProductController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 19.2911ms. (50a9e262)
2019-06-23T09:11:20.6872306+07:00 8000008c-0000-f000-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T09:11:20.7126029+07:00 8000008c-0000-f000-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T09:11:20.7159053+07:00 8000008c-0000-f000-b63f-84710c7967bb [INF] Authorization failed. (b15dd539)
2019-06-23T09:11:20.7300193+07:00 8000008c-0000-f000-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T09:11:20.7338851+07:00 8000008c-0000-f000-b63f-84710c7967bb [INF] Authorization failed. (b15dd539)
2019-06-23T09:11:20.7427014+07:00 8000008c-0000-f000-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T09:11:20.7466923+07:00 8000008c-0000-f000-b63f-84710c7967bb [INF] Authorization failed. (b15dd539)
2019-06-23T09:11:20.7736781+07:00 8000008c-0000-f000-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-23T09:11:20.7973270+07:00 8000008c-0000-f000-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 3121.5742ms. (f66409e9)
2019-06-23T09:11:20.8343089+07:00 8000008c-0000-f000-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.ProductController.Index (OnlineShop)" in 3165.4116ms (afa2e885)
2019-06-23T09:11:20.8432030+07:00 8000008c-0000-f000-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.ProductController.Index (OnlineShop)"' (99874f2b)
2019-06-23T09:11:20.8464965+07:00 8000008c-0000-f000-b63f-84710c7967bb [INF] Request finished in 3230.7624ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T09:11:20.8644127+07:00 80000102-0001-e700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/App/Controller/Product/Index.js?v=m5_H_9B6cOCE8SNK2wNVNcUY9BEf2AwS26zcmUI2AIY   (ca22a1cb)
2019-06-23T09:11:20.8874730+07:00 80000102-0001-e700-b63f-84710c7967bb [INF] Sending file. Request path: '"/App/Controller/Product/Index.js"'. Physical path: '"E:\New folder\ASP.NET Core\Projects\OnlineShop\OnlineShop\wwwroot\App\Controller\Product\Index.js"' (27b0a520)
2019-06-23T09:11:20.8930234+07:00 80000102-0001-e700-b63f-84710c7967bb [INF] Request finished in 27.023ms 200 application/javascript (791a596a)
2019-06-23T09:11:21.1586654+07:00 8000010b-0003-ed00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/Product/GetAllCategories   (ca22a1cb)
2019-06-23T09:11:21.1814435+07:00 80000104-0001-e700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/product/GetAllPaging?categoryId=--Select+category--&keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-23T09:11:21.2022389+07:00 8000010b-0003-ed00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.ProductController.GetAllCategories (OnlineShop)"' (500cc934)
2019-06-23T09:11:21.2129551+07:00 80000104-0001-e700-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.ProductController.GetAllPaging (OnlineShop)"' (500cc934)
2019-06-23T09:11:21.2252364+07:00 8000010b-0003-ed00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAllCategories\", controller = \"Product\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllCategories()" on controller "OnlineShop.Areas.Admin.Controllers.ProductController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:11:21.2289264+07:00 80000104-0001-e700-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Product\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllPaging(System.Nullable`1[System.Int32], System.String, Int32, Int32)" on controller "OnlineShop.Areas.Admin.Controllers.ProductController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:11:21.2316051+07:00 8000010b-0003-ed00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:11:21.2346174+07:00 80000104-0001-e700-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:11:21.2469955+07:00 8000010b-0003-ed00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.ProductController.GetAllCategories (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:11:21.2504939+07:00 800000dd-0002-dd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/lib/ckeditor/config.js?t=H8DC   (ca22a1cb)
2019-06-23T09:11:21.2547660+07:00 8000010b-0003-ed00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:11:21.2634236+07:00 800000dd-0002-dd00-b63f-84710c7967bb [INF] The file "/lib/ckeditor/config.js" was not modified (f1f8d725)
2019-06-23T09:11:21.2649353+07:00 8000010b-0003-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-23T09:11:21.2842509+07:00 800000dd-0002-dd00-b63f-84710c7967bb [INF] Request finished in 31.8839ms 304 application/javascript (791a596a)
2019-06-23T09:11:21.2843733+07:00 8000010b-0003-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-23T09:11:21.2995141+07:00 8000010b-0003-ed00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.ProductController.GetAllCategories (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 37.7679ms. (50a9e262)
2019-06-23T09:11:21.3012220+07:00 80000104-0001-e700-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.ProductController.GetAllPaging (OnlineShop)" - Validation state: Invalid (dad538d7)
2019-06-23T09:11:21.3069804+07:00 8000010b-0003-ed00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[OnlineShop.Services.ViewModels.product.ProductCategoryViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:11:21.3126596+07:00 8000010b-0003-ed00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.ProductController.GetAllCategories (OnlineShop)" in 81.2085ms (afa2e885)
2019-06-23T09:11:21.3173337+07:00 8000010b-0003-ed00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.ProductController.GetAllCategories (OnlineShop)"' (99874f2b)
2019-06-23T09:11:21.3308215+07:00 8000010b-0003-ed00-b63f-84710c7967bb [INF] Request finished in 169.5515ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:11:21.3331555+07:00 80000104-0001-e700-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:11:21.3478041+07:00 80000104-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Products] AS [x]
WHERE [x].[Status] = 1" (0723d8ff)
2019-06-23T09:11:21.4749433+07:00 80000104-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("9"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-23T09:11:21.5018041+07:00 80000104-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("9"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-23T09:11:21.5170988+07:00 80000104-0001-e700-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.ProductController.GetAllPaging (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 205.5633ms. (50a9e262)
2019-06-23T09:11:21.5238109+07:00 80000104-0001-e700-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Utilities.DTO.PagedResult`1[[OnlineShop.Services.ViewModels.product.ProductViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:11:21.5395604+07:00 80000104-0001-e700-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.ProductController.GetAllPaging (OnlineShop)" in 301.2257ms (afa2e885)
2019-06-23T09:11:21.5452332+07:00 80000104-0001-e700-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.ProductController.GetAllPaging (OnlineShop)"' (99874f2b)
2019-06-23T09:11:21.5510113+07:00 80000104-0001-e700-b63f-84710c7967bb [INF] Request finished in 386.5582ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:11:21.6762134+07:00 80000106-0001-e700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/product/GetAllPaging?categoryId=&keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-23T09:11:21.6828605+07:00 80000106-0001-e700-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.ProductController.GetAllPaging (OnlineShop)"' (500cc934)
2019-06-23T09:11:21.6963567+07:00 80000106-0001-e700-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Product\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllPaging(System.Nullable`1[System.Int32], System.String, Int32, Int32)" on controller "OnlineShop.Areas.Admin.Controllers.ProductController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:11:21.7077019+07:00 800002d1-0000-f800-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/client-side/images/products/product-1.jpg   (ca22a1cb)
2019-06-23T09:11:21.7090721+07:00 8000040c-0000-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin-side/images/user.png   (ca22a1cb)
2019-06-23T09:11:21.7168227+07:00 80000106-0001-e700-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:11:21.7242818+07:00 8000008e-0000-f000-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/uploaded/images/20190621/image.jpg   (ca22a1cb)
2019-06-23T09:11:21.7380341+07:00 8000040c-0000-f900-b63f-84710c7967bb [INF] Request finished in 17.0187ms 404  (791a596a)
2019-06-23T09:11:21.7470431+07:00 80000106-0001-e700-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.ProductController.GetAllPaging (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:11:21.7641949+07:00 800002d1-0000-f800-b63f-84710c7967bb [INF] Request finished in 39.5977ms 404  (791a596a)
2019-06-23T09:11:21.7685770+07:00 80000106-0001-e700-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:11:21.7776195+07:00 8000008e-0000-f000-b63f-84710c7967bb [INF] The file "/uploaded/images/20190621/image.jpg" was not modified (f1f8d725)
2019-06-23T09:11:21.8105113+07:00 80000106-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Products] AS [x]
WHERE [x].[Status] = 1" (0723d8ff)
2019-06-23T09:11:21.8204747+07:00 8000008e-0000-f000-b63f-84710c7967bb [INF] Request finished in 81.6867ms 304 image/jpeg (791a596a)
2019-06-23T09:11:21.8282334+07:00 80000106-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-23T09:11:21.8374327+07:00 80000106-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-23T09:11:21.8490258+07:00 80000106-0001-e700-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.ProductController.GetAllPaging (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 95.2101ms. (50a9e262)
2019-06-23T09:11:21.8593355+07:00 80000106-0001-e700-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Utilities.DTO.PagedResult`1[[OnlineShop.Services.ViewModels.product.ProductViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:11:21.8660712+07:00 80000106-0001-e700-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.ProductController.GetAllPaging (OnlineShop)" in 163.0473ms (afa2e885)
2019-06-23T09:11:21.8746229+07:00 80000106-0001-e700-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.ProductController.GetAllPaging (OnlineShop)"' (99874f2b)
2019-06-23T09:11:21.8830321+07:00 80000106-0001-e700-b63f-84710c7967bb [INF] Request finished in 202.9102ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:11:21.9145612+07:00 800002d3-0000-f800-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin-side/images/user.png   (ca22a1cb)
2019-06-23T09:11:21.9281783+07:00 800002d3-0000-f800-b63f-84710c7967bb [INF] Request finished in 15.0112ms 404  (791a596a)
2019-06-23T09:11:21.9328888+07:00 800000df-0002-dd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/client-side/images/products/product-1.jpg   (ca22a1cb)
2019-06-23T09:11:21.9427952+07:00 800000df-0002-dd00-b63f-84710c7967bb [INF] Request finished in 6.0264ms 404  (791a596a)
2019-06-23T09:11:33.4260005+07:00 80000108-0001-e700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin   (ca22a1cb)
2019-06-23T09:11:33.4303324+07:00 80000108-0001-e700-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)"' (500cc934)
2019-06-23T09:11:33.4333841+07:00 80000108-0001-e700-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Login\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "OnlineShop.Areas.Admin.Controllers.LoginController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:11:33.4366898+07:00 80000108-0001-e700-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:11:33.4397919+07:00 80000108-0001-e700-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.017ms. (50a9e262)
2019-06-23T09:11:33.4430279+07:00 80000108-0001-e700-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T09:11:33.4517925+07:00 80000108-0001-e700-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 4.2508ms. (f66409e9)
2019-06-23T09:11:33.4781648+07:00 80000108-0001-e700-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)" in 18.4323ms (afa2e885)
2019-06-23T09:11:33.4879598+07:00 80000108-0001-e700-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)"' (99874f2b)
2019-06-23T09:11:33.4936604+07:00 80000108-0001-e700-b63f-84710c7967bb [INF] Request finished in 64.696ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T09:11:37.5511343+07:00 8000010d-0003-ed00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44363/admin/login/authen application/x-www-form-urlencoded; charset=UTF-8 33 (ca22a1cb)
2019-06-23T09:11:37.5559174+07:00 8000010d-0003-ed00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)"' (500cc934)
2019-06-23T09:11:37.5593896+07:00 8000010d-0003-ed00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Authen\", controller = \"Login\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authen(OnlineShop.Models.LoginViewModel)" on controller "OnlineShop.Areas.Admin.Controllers.LoginController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:11:37.5622952+07:00 8000010d-0003-ed00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:11:37.5663177+07:00 8000010d-0003-ed00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:11:37.5733131+07:00 8000010d-0003-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Avatar], [u].[Balance], [u].[BirthDay], [u].[ConcurrencyStamp], [u].[DateCreated], [u].[DateModified], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AppUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-06-23T09:11:37.5889774+07:00 8000010d-0003-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AppUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2019-06-23T09:11:37.5953790+07:00 8000010d-0003-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-23T09:11:37.6012966+07:00 8000010d-0003-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AppRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-23T09:11:37.6069511+07:00 8000010d-0003-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AppRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-23T09:11:37.6119335+07:00 8000010d-0003-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-23T09:11:37.6153190+07:00 8000010d-0003-ed00-b63f-84710c7967bb [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-06-23T09:11:37.6185110+07:00 8000010d-0003-ed00-b63f-84710c7967bb [INF] User logged in. (fdce0db4)
2019-06-23T09:11:37.6210275+07:00 8000010d-0003-ed00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 56.2394ms. (50a9e262)
2019-06-23T09:11:37.6530854+07:00 8000010d-0003-ed00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Utilities.DTO.GenericResult"'. (8a1b66c8)
2019-06-23T09:11:37.6564649+07:00 8000010d-0003-ed00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)" in 94.0788ms (afa2e885)
2019-06-23T09:11:37.6586943+07:00 8000010d-0003-ed00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)"' (99874f2b)
2019-06-23T09:11:37.6616504+07:00 8000010d-0003-ed00-b63f-84710c7967bb [INF] Request finished in 110.4805ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:11:37.6746202+07:00 800002d5-0000-f800-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/Home/Index   (ca22a1cb)
2019-06-23T09:11:37.6772466+07:00 800002d5-0000-f800-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)"' (500cc934)
2019-06-23T09:11:37.6795609+07:00 800002d5-0000-f800-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Home\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "OnlineShop.Areas.Admin.Controllers.HomeController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:11:37.6823528+07:00 800002d5-0000-f800-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:11:37.6852416+07:00 800002d5-0000-f800-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:11:37.6885098+07:00 800002d5-0000-f800-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.028ms. (50a9e262)
2019-06-23T09:11:37.6906297+07:00 800002d5-0000-f800-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T09:11:37.6932896+07:00 800002d5-0000-f800-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:11:37.7011607+07:00 800002d5-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-23T09:11:37.7058809+07:00 800002d5-0000-f800-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 14.6923ms. (f66409e9)
2019-06-23T09:11:37.7101248+07:00 800002d5-0000-f800-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)" in 26.4162ms (afa2e885)
2019-06-23T09:11:37.7133466+07:00 800002d5-0000-f800-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)"' (99874f2b)
2019-06-23T09:11:37.7191116+07:00 800002d5-0000-f800-b63f-84710c7967bb [INF] Request finished in 42.3767ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T09:11:40.3945045+07:00 800002d7-0000-f800-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/role/index   (ca22a1cb)
2019-06-23T09:11:40.3983384+07:00 800002d7-0000-f800-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)"' (500cc934)
2019-06-23T09:11:40.4071744+07:00 800002d7-0000-f800-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Role\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "OnlineShop.Areas.Admin.Controllers.RoleController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:11:40.4138352+07:00 800002d7-0000-f800-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:11:40.4171200+07:00 800002d7-0000-f800-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:11:40.4219841+07:00 800002d7-0000-f800-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:11:40.4416752+07:00 800002d7-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("10"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T09:11:40.4458233+07:00 800002d7-0000-f800-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:11:40.4493549+07:00 800002d7-0000-f800-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 28.7816ms. (50a9e262)
2019-06-23T09:11:40.4532504+07:00 800002d7-0000-f800-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T09:11:40.4627197+07:00 800002d7-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-23T09:11:40.4684248+07:00 800002d7-0000-f800-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 14.6327ms. (f66409e9)
2019-06-23T09:11:40.4751500+07:00 800002d7-0000-f800-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)" in 61.5738ms (afa2e885)
2019-06-23T09:11:40.5031320+07:00 800002d7-0000-f800-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)"' (99874f2b)
2019-06-23T09:11:40.5165371+07:00 800002d7-0000-f800-b63f-84710c7967bb [INF] Request finished in 111.4069ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T09:11:40.5985481+07:00 800002d9-0000-f800-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/role/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-23T09:11:40.6048871+07:00 800002d9-0000-f800-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)"' (500cc934)
2019-06-23T09:11:40.6119582+07:00 800002d9-0000-f800-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Role\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllPaging(System.String, Int32, Int32)" on controller "OnlineShop.Areas.Admin.Controllers.RoleController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:11:40.6145922+07:00 800002d9-0000-f800-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:11:40.6173164+07:00 800002d9-0000-f800-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:11:40.6203562+07:00 800002d9-0000-f800-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:11:40.6252153+07:00 800002d9-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppRoles] AS [a]" (0723d8ff)
2019-06-23T09:11:40.6310099+07:00 800002d9-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoAppRole].[Description], [dtoAppRole].[Id], [dtoAppRole].[Name]
FROM [AppRoles] AS [dtoAppRole]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-23T09:11:40.6346935+07:00 800002d9-0000-f800-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 13.9065ms. (50a9e262)
2019-06-23T09:11:40.6399079+07:00 800002d9-0000-f800-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Utilities.DTO.PagedResult`1[[OnlineShop.Services.ViewModels.system.AppRoleViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:11:40.6459107+07:00 800002d9-0000-f800-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)" in 28.3279ms (afa2e885)
2019-06-23T09:11:40.6529237+07:00 800002d9-0000-f800-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)"' (99874f2b)
2019-06-23T09:11:40.6563435+07:00 800002d9-0000-f800-b63f-84710c7967bb [INF] Request finished in 57.4443ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:11:40.6713243+07:00 800000e1-0002-dd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/role/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-23T09:11:40.6744940+07:00 800000e1-0002-dd00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)"' (500cc934)
2019-06-23T09:11:40.6781459+07:00 800000e1-0002-dd00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Role\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllPaging(System.String, Int32, Int32)" on controller "OnlineShop.Areas.Admin.Controllers.RoleController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:11:40.6829003+07:00 800000e1-0002-dd00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:11:40.6856783+07:00 800000e1-0002-dd00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:11:40.6885162+07:00 800000e1-0002-dd00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:11:40.6917472+07:00 800000e1-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppRoles] AS [a]" (0723d8ff)
2019-06-23T09:11:40.6969263+07:00 800000e1-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoAppRole].[Description], [dtoAppRole].[Id], [dtoAppRole].[Name]
FROM [AppRoles] AS [dtoAppRole]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-23T09:11:40.7001108+07:00 800000e1-0002-dd00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 11.4394ms. (50a9e262)
2019-06-23T09:11:40.7029424+07:00 800000e1-0002-dd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Utilities.DTO.PagedResult`1[[OnlineShop.Services.ViewModels.system.AppRoleViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:11:40.7060812+07:00 800000e1-0002-dd00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)" in 24.6049ms (afa2e885)
2019-06-23T09:11:40.7085211+07:00 800000e1-0002-dd00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)"' (99874f2b)
2019-06-23T09:11:40.7136619+07:00 800000e1-0002-dd00-b63f-84710c7967bb [INF] Request finished in 40.1837ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:11:41.5050992+07:00 800000e3-0002-dd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/Function/GetAll   (ca22a1cb)
2019-06-23T09:11:41.5086837+07:00 8000010a-0001-e700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44363/Admin/Role/ListAllFunction application/x-www-form-urlencoded; charset=UTF-8 43 (ca22a1cb)
2019-06-23T09:11:41.5118748+07:00 800000e3-0002-dd00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)"' (500cc934)
2019-06-23T09:11:41.5166319+07:00 8000010a-0001-e700-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)"' (500cc934)
2019-06-23T09:11:41.5252851+07:00 8000010a-0001-e700-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"ListAllFunction\", controller = \"Role\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult ListAllFunction(System.Guid)" on controller "OnlineShop.Areas.Admin.Controllers.RoleController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:11:41.5307061+07:00 8000010a-0001-e700-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:11:41.5371904+07:00 8000010a-0001-e700-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:11:41.5452141+07:00 800000e3-0002-dd00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"Function\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll()" on controller "OnlineShop.Areas.Admin.Controllers.FunctionController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:11:41.5473403+07:00 8000010a-0001-e700-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:11:41.5500420+07:00 800000e3-0002-dd00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:11:41.5531699+07:00 800000e3-0002-dd00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:11:41.5562111+07:00 800000e3-0002-dd00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:11:41.5732028+07:00 8000010a-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("14"ms) [Parameters=["@__roleId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT @__roleId_0 AS [RoleId], [f].[Id] AS [FunctionId], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanCreate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanCreate], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanDelete] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanDelete], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanRead] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanRead], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanUpdate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanUpdate]
FROM [Functions] AS [f]
LEFT JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
WHERE [p].[Id] IS NOT NULL AND ([p].[RoleId] = @__roleId_0)" (0723d8ff)
2019-06-23T09:11:41.5808911+07:00 8000010a-0001-e700-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 36.8154ms. (50a9e262)
2019-06-23T09:11:41.5842840+07:00 8000010a-0001-e700-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[OnlineShop.Services.ViewModels.system.PermissionViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:11:41.5884365+07:00 8000010a-0001-e700-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)" in 59.3735ms (afa2e885)
2019-06-23T09:11:41.6028960+07:00 8000010a-0001-e700-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)"' (99874f2b)
2019-06-23T09:11:41.6050121+07:00 800000e3-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-23T09:11:41.6156310+07:00 800000e3-0002-dd00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 53.4446ms. (50a9e262)
2019-06-23T09:11:41.6179964+07:00 8000010a-0001-e700-b63f-84710c7967bb [INF] Request finished in 108.7045ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:11:41.6197082+07:00 800000e3-0002-dd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[OnlineShop.Services.ViewModels.system.FunctionViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:11:41.6241265+07:00 800000e3-0002-dd00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)" in 74.9256ms (afa2e885)
2019-06-23T09:11:41.6292255+07:00 800000e3-0002-dd00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)"' (99874f2b)
2019-06-23T09:11:41.6333783+07:00 800000e3-0002-dd00-b63f-84710c7967bb [INF] Request finished in 128.0445ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:11:45.4389502+07:00 8000010c-0001-e700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44363/Admin/Role/ListAllFunction application/x-www-form-urlencoded; charset=UTF-8 43 (ca22a1cb)
2019-06-23T09:11:45.4518611+07:00 800002db-0000-f800-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/Function/GetAll   (ca22a1cb)
2019-06-23T09:11:45.4541200+07:00 8000010c-0001-e700-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)"' (500cc934)
2019-06-23T09:11:45.4611616+07:00 8000010c-0001-e700-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"ListAllFunction\", controller = \"Role\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult ListAllFunction(System.Guid)" on controller "OnlineShop.Areas.Admin.Controllers.RoleController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:11:45.4652971+07:00 8000010c-0001-e700-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:11:45.4682892+07:00 800002db-0000-f800-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)"' (500cc934)
2019-06-23T09:11:45.4727946+07:00 800002db-0000-f800-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"Function\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll()" on controller "OnlineShop.Areas.Admin.Controllers.FunctionController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:11:45.4792098+07:00 8000010c-0001-e700-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:11:45.4814588+07:00 800002db-0000-f800-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:11:45.4858815+07:00 800002db-0000-f800-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:11:45.4875383+07:00 8000010c-0001-e700-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:11:45.4903891+07:00 800002db-0000-f800-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:11:45.5035301+07:00 8000010c-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("5"ms) [Parameters=["@__roleId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT @__roleId_0 AS [RoleId], [f].[Id] AS [FunctionId], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanCreate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanCreate], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanDelete] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanDelete], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanRead] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanRead], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanUpdate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanUpdate]
FROM [Functions] AS [f]
LEFT JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
WHERE [p].[Id] IS NOT NULL AND ([p].[RoleId] = @__roleId_0)" (0723d8ff)
2019-06-23T09:11:45.5053067+07:00 800002db-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-23T09:11:45.5065833+07:00 8000010c-0001-e700-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 22.3427ms. (50a9e262)
2019-06-23T09:11:45.5130880+07:00 8000010c-0001-e700-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[OnlineShop.Services.ViewModels.system.PermissionViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:11:45.5162687+07:00 800002db-0000-f800-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 23.7755ms. (50a9e262)
2019-06-23T09:11:45.5188872+07:00 8000010c-0001-e700-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)" in 54.0188ms (afa2e885)
2019-06-23T09:11:45.5212172+07:00 800002db-0000-f800-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[OnlineShop.Services.ViewModels.system.FunctionViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:11:45.5226366+07:00 8000010c-0001-e700-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)"' (99874f2b)
2019-06-23T09:11:45.5308684+07:00 800002db-0000-f800-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)" in 49.8496ms (afa2e885)
2019-06-23T09:11:45.5320012+07:00 8000010c-0001-e700-b63f-84710c7967bb [INF] Request finished in 96.0151ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:11:45.5350566+07:00 800002db-0000-f800-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)"' (99874f2b)
2019-06-23T09:11:45.5388393+07:00 800002db-0000-f800-b63f-84710c7967bb [INF] Request finished in 95.9533ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:11:48.5270833+07:00 800002dd-0000-f800-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/Function/GetAll   (ca22a1cb)
2019-06-23T09:11:48.5324067+07:00 8000010e-0001-e700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44363/Admin/Role/ListAllFunction application/x-www-form-urlencoded; charset=UTF-8 43 (ca22a1cb)
2019-06-23T09:11:48.5507634+07:00 800002dd-0000-f800-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)"' (500cc934)
2019-06-23T09:11:48.5508194+07:00 8000010e-0001-e700-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)"' (500cc934)
2019-06-23T09:11:48.5580630+07:00 800002dd-0000-f800-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"Function\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll()" on controller "OnlineShop.Areas.Admin.Controllers.FunctionController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:11:48.5583503+07:00 8000010e-0001-e700-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"ListAllFunction\", controller = \"Role\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult ListAllFunction(System.Guid)" on controller "OnlineShop.Areas.Admin.Controllers.RoleController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:11:48.5641339+07:00 800002dd-0000-f800-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:11:48.5664108+07:00 8000010e-0001-e700-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:11:48.5688122+07:00 800002dd-0000-f800-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:11:48.5711173+07:00 8000010e-0001-e700-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:11:48.5778003+07:00 8000010e-0001-e700-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:11:48.5798012+07:00 800002dd-0000-f800-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:11:48.5859307+07:00 8000010e-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__roleId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT @__roleId_0 AS [RoleId], [f].[Id] AS [FunctionId], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanCreate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanCreate], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanDelete] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanDelete], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanRead] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanRead], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanUpdate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanUpdate]
FROM [Functions] AS [f]
LEFT JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
WHERE [p].[Id] IS NOT NULL AND ([p].[RoleId] = @__roleId_0)" (0723d8ff)
2019-06-23T09:11:48.5872204+07:00 800002dd-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-23T09:11:48.5913870+07:00 8000010e-0001-e700-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 16.0083ms. (50a9e262)
2019-06-23T09:11:48.5945106+07:00 8000010e-0001-e700-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[OnlineShop.Services.ViewModels.system.PermissionViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:11:48.5972228+07:00 800002dd-0000-f800-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 21.5369ms. (50a9e262)
2019-06-23T09:11:48.6009560+07:00 8000010e-0001-e700-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)" in 36.4882ms (afa2e885)
2019-06-23T09:11:48.6037340+07:00 800002dd-0000-f800-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[OnlineShop.Services.ViewModels.system.FunctionViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:11:48.6052180+07:00 8000010e-0001-e700-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)"' (99874f2b)
2019-06-23T09:11:48.6109891+07:00 800002dd-0000-f800-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)" in 47.1236ms (afa2e885)
2019-06-23T09:11:48.6130610+07:00 8000010e-0001-e700-b63f-84710c7967bb [INF] Request finished in 79.001ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:11:48.6144491+07:00 800002dd-0000-f800-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)"' (99874f2b)
2019-06-23T09:11:48.6171527+07:00 800002dd-0000-f800-b63f-84710c7967bb [INF] Request finished in 90.2783ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:11:50.0679898+07:00 800000e5-0002-dd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/role/index   (ca22a1cb)
2019-06-23T09:11:50.0712350+07:00 800000e5-0002-dd00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)"' (500cc934)
2019-06-23T09:11:50.0745089+07:00 800000e5-0002-dd00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Role\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "OnlineShop.Areas.Admin.Controllers.RoleController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:11:50.0773014+07:00 800000e5-0002-dd00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:11:50.0804926+07:00 800000e5-0002-dd00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:11:50.0852827+07:00 800000e5-0002-dd00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:11:50.0963081+07:00 800000e5-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T09:11:50.0994253+07:00 800000e5-0002-dd00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:11:50.1032087+07:00 800000e5-0002-dd00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 18.9963ms. (50a9e262)
2019-06-23T09:11:50.1059256+07:00 800000e5-0002-dd00-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T09:11:50.1131655+07:00 800000e5-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-23T09:11:50.1170418+07:00 800000e5-0002-dd00-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 11.1969ms. (f66409e9)
2019-06-23T09:11:50.1237224+07:00 800000e5-0002-dd00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)" in 43.5422ms (afa2e885)
2019-06-23T09:11:50.1293142+07:00 800000e5-0002-dd00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)"' (99874f2b)
2019-06-23T09:11:50.1457475+07:00 800000e5-0002-dd00-b63f-84710c7967bb [INF] Request finished in 64.1134ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T09:11:50.2212163+07:00 800002df-0000-f800-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/role/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-23T09:11:50.2250358+07:00 800002df-0000-f800-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)"' (500cc934)
2019-06-23T09:11:50.2276782+07:00 800002df-0000-f800-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Role\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllPaging(System.String, Int32, Int32)" on controller "OnlineShop.Areas.Admin.Controllers.RoleController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:11:50.2307325+07:00 800002df-0000-f800-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:11:50.2336540+07:00 800002df-0000-f800-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:11:50.2372398+07:00 800002df-0000-f800-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:11:50.2407220+07:00 800002df-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppRoles] AS [a]" (0723d8ff)
2019-06-23T09:11:50.2443797+07:00 800002df-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoAppRole].[Description], [dtoAppRole].[Id], [dtoAppRole].[Name]
FROM [AppRoles] AS [dtoAppRole]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-23T09:11:50.2474710+07:00 800002df-0000-f800-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 11.3987ms. (50a9e262)
2019-06-23T09:11:50.2513357+07:00 800002df-0000-f800-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Utilities.DTO.PagedResult`1[[OnlineShop.Services.ViewModels.system.AppRoleViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:11:50.2548145+07:00 800002df-0000-f800-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)" in 24.2333ms (afa2e885)
2019-06-23T09:11:50.2582898+07:00 800002df-0000-f800-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)"' (99874f2b)
2019-06-23T09:11:50.2628220+07:00 800002df-0000-f800-b63f-84710c7967bb [INF] Request finished in 39.9059ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:11:50.2876027+07:00 800002e1-0000-f800-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/role/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-23T09:11:50.2966976+07:00 800002e1-0000-f800-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)"' (500cc934)
2019-06-23T09:11:50.3023776+07:00 800002e1-0000-f800-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Role\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllPaging(System.String, Int32, Int32)" on controller "OnlineShop.Areas.Admin.Controllers.RoleController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:11:50.3130369+07:00 800002e1-0000-f800-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:11:50.3172478+07:00 800002e1-0000-f800-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:11:50.3202924+07:00 800002e1-0000-f800-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:11:50.3257875+07:00 800002e1-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppRoles] AS [a]" (0723d8ff)
2019-06-23T09:11:50.3296998+07:00 800002e1-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoAppRole].[Description], [dtoAppRole].[Id], [dtoAppRole].[Name]
FROM [AppRoles] AS [dtoAppRole]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-23T09:11:50.3322262+07:00 800002e1-0000-f800-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 12.5977ms. (50a9e262)
2019-06-23T09:11:50.3343210+07:00 800002e1-0000-f800-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Utilities.DTO.PagedResult`1[[OnlineShop.Services.ViewModels.system.AppRoleViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:11:50.3375309+07:00 800002e1-0000-f800-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)" in 32.1241ms (afa2e885)
2019-06-23T09:11:50.3415359+07:00 800002e1-0000-f800-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)"' (99874f2b)
2019-06-23T09:11:50.3445288+07:00 800002e1-0000-f800-b63f-84710c7967bb [INF] Request finished in 65.1067ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:11:51.5270034+07:00 80000110-0001-e700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/Function/GetAll   (ca22a1cb)
2019-06-23T09:11:51.5300561+07:00 800000e7-0002-dd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44363/Admin/Role/ListAllFunction application/x-www-form-urlencoded; charset=UTF-8 43 (ca22a1cb)
2019-06-23T09:11:51.5334363+07:00 80000110-0001-e700-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)"' (500cc934)
2019-06-23T09:11:51.5460072+07:00 80000110-0001-e700-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"Function\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll()" on controller "OnlineShop.Areas.Admin.Controllers.FunctionController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:11:51.5482745+07:00 800000e7-0002-dd00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)"' (500cc934)
2019-06-23T09:11:51.5518279+07:00 80000110-0001-e700-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:11:51.5614491+07:00 800000e7-0002-dd00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"ListAllFunction\", controller = \"Role\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult ListAllFunction(System.Guid)" on controller "OnlineShop.Areas.Admin.Controllers.RoleController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:11:51.5614597+07:00 80000110-0001-e700-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:11:51.5663316+07:00 800000e7-0002-dd00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:11:51.5676015+07:00 80000110-0001-e700-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:11:51.5702144+07:00 800000e7-0002-dd00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:11:51.5791448+07:00 800000e7-0002-dd00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:11:51.5793447+07:00 80000110-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-23T09:11:51.5861062+07:00 80000110-0001-e700-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 21.1236ms. (50a9e262)
2019-06-23T09:11:51.5934620+07:00 80000110-0001-e700-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[OnlineShop.Services.ViewModels.system.FunctionViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:11:51.5955023+07:00 800000e7-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__roleId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT @__roleId_0 AS [RoleId], [f].[Id] AS [FunctionId], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanCreate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanCreate], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanDelete] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanDelete], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanRead] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanRead], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanUpdate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanUpdate]
FROM [Functions] AS [f]
LEFT JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
WHERE [p].[Id] IS NOT NULL AND ([p].[RoleId] = @__roleId_0)" (0723d8ff)
2019-06-23T09:11:51.5983755+07:00 80000110-0001-e700-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)" in 49.4427ms (afa2e885)
2019-06-23T09:11:51.6009883+07:00 800000e7-0002-dd00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 27.7925ms. (50a9e262)
2019-06-23T09:11:51.6035086+07:00 80000110-0001-e700-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)"' (99874f2b)
2019-06-23T09:11:51.6096807+07:00 800000e7-0002-dd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[OnlineShop.Services.ViewModels.system.PermissionViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:11:51.6110521+07:00 80000110-0001-e700-b63f-84710c7967bb [INF] Request finished in 80.5794ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:11:51.6138172+07:00 800000e7-0002-dd00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)" in 49.9346ms (afa2e885)
2019-06-23T09:11:51.6169569+07:00 800000e7-0002-dd00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)"' (99874f2b)
2019-06-23T09:11:51.6192335+07:00 800000e7-0002-dd00-b63f-84710c7967bb [INF] Request finished in 90.0825ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:12:00.6943100+07:00 800002e3-0000-f800-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44363/Admin/Role/SavePermission application/x-www-form-urlencoded; charset=UTF-8 6974 (ca22a1cb)
2019-06-23T09:12:00.6987017+07:00 800002e3-0000-f800-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.SavePermission (OnlineShop)"' (500cc934)
2019-06-23T09:12:00.7042750+07:00 800002e3-0000-f800-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"SavePermission\", controller = \"Role\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult SavePermission(System.Collections.Generic.List`1[OnlineShop.Services.ViewModels.system.PermissionViewModel], System.Guid)" on controller "OnlineShop.Areas.Admin.Controllers.RoleController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:12:00.7076108+07:00 800002e3-0000-f800-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:12:00.7127705+07:00 800002e3-0000-f800-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.RoleController.SavePermission (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:12:00.7172649+07:00 800002e3-0000-f800-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:12:00.7223190+07:00 800002e3-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__roleId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CanCreate], [x].[CanDelete], [x].[CanRead], [x].[CanUpdate], [x].[FunctionId], [x].[RoleId]
FROM [Permissions] AS [x]
WHERE [x].[RoleId] = @__roleId_0" (0723d8ff)
2019-06-23T09:12:00.7794747+07:00 800002e3-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("38"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (DbType = Int32), @p24='?' (DbType = Boolean), @p25='?' (DbType = Boolean), @p26='?' (DbType = Boolean), @p27='?' (DbType = Boolean), @p28='?' (Size = 128) (DbType = AnsiString), @p29='?' (DbType = Guid), @p30='?' (DbType = Boolean), @p31='?' (DbType = Boolean), @p32='?' (DbType = Boolean), @p33='?' (DbType = Boolean), @p34='?' (Size = 128) (DbType = AnsiString), @p35='?' (DbType = Guid), @p36='?' (DbType = Boolean), @p37='?' (DbType = Boolean), @p38='?' (DbType = Boolean), @p39='?' (DbType = Boolean), @p40='?' (Size = 128) (DbType = AnsiString), @p41='?' (DbType = Guid), @p42='?' (DbType = Boolean), @p43='?' (DbType = Boolean), @p44='?' (DbType = Boolean), @p45='?' (DbType = Boolean), @p46='?' (Size = 128) (DbType = AnsiString), @p47='?' (DbType = Guid), @p48='?' (DbType = Boolean), @p49='?' (DbType = Boolean), @p50='?' (DbType = Boolean), @p51='?' (DbType = Boolean), @p52='?' (Size = 128) (DbType = AnsiString), @p53='?' (DbType = Guid), @p54='?' (DbType = Boolean), @p55='?' (DbType = Boolean), @p56='?' (DbType = Boolean), @p57='?' (DbType = Boolean), @p58='?' (Size = 128) (DbType = AnsiString), @p59='?' (DbType = Guid), @p60='?' (DbType = Boolean), @p61='?' (DbType = Boolean), @p62='?' (DbType = Boolean), @p63='?' (DbType = Boolean), @p64='?' (Size = 128) (DbType = AnsiString), @p65='?' (DbType = Guid), @p66='?' (DbType = Boolean), @p67='?' (DbType = Boolean), @p68='?' (DbType = Boolean), @p69='?' (DbType = Boolean), @p70='?' (Size = 128) (DbType = AnsiString), @p71='?' (DbType = Guid), @p72='?' (DbType = Boolean), @p73='?' (DbType = Boolean), @p74='?' (DbType = Boolean), @p75='?' (DbType = Boolean), @p76='?' (Size = 128) (DbType = AnsiString), @p77='?' (DbType = Guid), @p78='?' (DbType = Boolean), @p79='?' (DbType = Boolean), @p80='?' (DbType = Boolean), @p81='?' (DbType = Boolean), @p82='?' (Size = 128) (DbType = AnsiString), @p83='?' (DbType = Guid), @p84='?' (DbType = Boolean), @p85='?' (DbType = Boolean), @p86='?' (DbType = Boolean), @p87='?' (DbType = Boolean), @p88='?' (Size = 128) (DbType = AnsiString), @p89='?' (DbType = Guid), @p90='?' (DbType = Boolean), @p91='?' (DbType = Boolean), @p92='?' (DbType = Boolean), @p93='?' (DbType = Boolean), @p94='?' (Size = 128) (DbType = AnsiString), @p95='?' (DbType = Guid), @p96='?' (DbType = Boolean), @p97='?' (DbType = Boolean), @p98='?' (DbType = Boolean), @p99='?' (DbType = Boolean), @p100='?' (Size = 128) (DbType = AnsiString), @p101='?' (DbType = Guid), @p102='?' (DbType = Boolean), @p103='?' (DbType = Boolean), @p104='?' (DbType = Boolean), @p105='?' (DbType = Boolean), @p106='?' (Size = 128) (DbType = AnsiString), @p107='?' (DbType = Guid), @p108='?' (DbType = Boolean), @p109='?' (DbType = Boolean), @p110='?' (DbType = Boolean), @p111='?' (DbType = Boolean), @p112='?' (Size = 128) (DbType = AnsiString), @p113='?' (DbType = Guid), @p114='?' (DbType = Boolean), @p115='?' (DbType = Boolean), @p116='?' (DbType = Boolean), @p117='?' (DbType = Boolean), @p118='?' (Size = 128) (DbType = AnsiString), @p119='?' (DbType = Guid), @p120='?' (DbType = Boolean), @p121='?' (DbType = Boolean), @p122='?' (DbType = Boolean), @p123='?' (DbType = Boolean), @p124='?' (Size = 128) (DbType = AnsiString), @p125='?' (DbType = Guid), @p126='?' (DbType = Boolean), @p127='?' (DbType = Boolean), @p128='?' (DbType = Boolean), @p129='?' (DbType = Boolean), @p130='?' (Size = 128) (DbType = AnsiString), @p131='?' (DbType = Guid), @p132='?' (DbType = Boolean), @p133='?' (DbType = Boolean), @p134='?' (DbType = Boolean), @p135='?' (DbType = Boolean), @p136='?' (Size = 128) (DbType = AnsiString), @p137='?' (DbType = Guid), @p138='?' (DbType = Boolean), @p139='?' (DbType = Boolean), @p140='?' (DbType = Boolean), @p141='?' (DbType = Boolean), @p142='?' (Size = 128) (DbType = AnsiString), @p143='?' (DbType = Guid), @p144='?' (DbType = Boolean), @p145='?' (DbType = Boolean), @p146='?' (DbType = Boolean), @p147='?' (DbType = Boolean), @p148='?' (Size = 128) (DbType = AnsiString), @p149='?' (DbType = Guid), @p150='?' (DbType = Boolean), @p151='?' (DbType = Boolean), @p152='?' (DbType = Boolean), @p153='?' (DbType = Boolean), @p154='?' (Size = 128) (DbType = AnsiString), @p155='?' (DbType = Guid), @p156='?' (DbType = Boolean), @p157='?' (DbType = Boolean), @p158='?' (DbType = Boolean), @p159='?' (DbType = Boolean), @p160='?' (Size = 128) (DbType = AnsiString), @p161='?' (DbType = Guid), @p162='?' (DbType = Boolean), @p163='?' (DbType = Boolean), @p164='?' (DbType = Boolean), @p165='?' (DbType = Boolean), @p166='?' (Size = 128) (DbType = AnsiString), @p167='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [Permissions]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p3;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p4;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p5;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p6;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p7;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p8;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p9;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p10;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p11;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p12;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p13;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p14;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p15;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p16;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p17;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p18;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p19;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p20;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p21;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p22;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p23;
SELECT @@ROWCOUNT;

DECLARE @inserted24 TABLE ([Id] int, [_Position] [int]);
MERGE [Permissions] USING (
VALUES (@p24, @p25, @p26, @p27, @p28, @p29, 0),
(@p30, @p31, @p32, @p33, @p34, @p35, 1),
(@p36, @p37, @p38, @p39, @p40, @p41, 2),
(@p42, @p43, @p44, @p45, @p46, @p47, 3),
(@p48, @p49, @p50, @p51, @p52, @p53, 4),
(@p54, @p55, @p56, @p57, @p58, @p59, 5),
(@p60, @p61, @p62, @p63, @p64, @p65, 6),
(@p66, @p67, @p68, @p69, @p70, @p71, 7),
(@p72, @p73, @p74, @p75, @p76, @p77, 8),
(@p78, @p79, @p80, @p81, @p82, @p83, 9),
(@p84, @p85, @p86, @p87, @p88, @p89, 10),
(@p90, @p91, @p92, @p93, @p94, @p95, 11),
(@p96, @p97, @p98, @p99, @p100, @p101, 12),
(@p102, @p103, @p104, @p105, @p106, @p107, 13),
(@p108, @p109, @p110, @p111, @p112, @p113, 14),
(@p114, @p115, @p116, @p117, @p118, @p119, 15),
(@p120, @p121, @p122, @p123, @p124, @p125, 16),
(@p126, @p127, @p128, @p129, @p130, @p131, 17),
(@p132, @p133, @p134, @p135, @p136, @p137, 18),
(@p138, @p139, @p140, @p141, @p142, @p143, 19),
(@p144, @p145, @p146, @p147, @p148, @p149, 20),
(@p150, @p151, @p152, @p153, @p154, @p155, 21),
(@p156, @p157, @p158, @p159, @p160, @p161, 22),
(@p162, @p163, @p164, @p165, @p166, @p167, 23)) AS i ([CanCreate], [CanDelete], [CanRead], [CanUpdate], [FunctionId], [RoleId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CanCreate], [CanDelete], [CanRead], [CanUpdate], [FunctionId], [RoleId])
VALUES (i.[CanCreate], i.[CanDelete], i.[CanRead], i.[CanUpdate], i.[FunctionId], i.[RoleId])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted24;

SELECT [t].[Id] FROM [Permissions] t
INNER JOIN @inserted24 i ON ([t].[Id] = [i].[Id])
ORDER BY [i].[_Position];" (0723d8ff)
2019-06-23T09:12:00.7844936+07:00 800002e3-0000-f800-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.RoleController.SavePermission (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkResult" in 68.8626ms. (50a9e262)
2019-06-23T09:12:00.7874739+07:00 800002e3-0000-f800-b63f-84710c7967bb [INF] Executing HttpStatusCodeResult, setting HTTP status code 200 (e28ccfae)
2019-06-23T09:12:00.7897637+07:00 800002e3-0000-f800-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.RoleController.SavePermission (OnlineShop)" in 83.217ms (afa2e885)
2019-06-23T09:12:00.7922358+07:00 800002e3-0000-f800-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.SavePermission (OnlineShop)"' (99874f2b)
2019-06-23T09:12:00.7949560+07:00 800002e3-0000-f800-b63f-84710c7967bb [INF] Request finished in 101.4845ms 200  (791a596a)
2019-06-23T09:12:04.7933438+07:00 80000112-0001-e700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin   (ca22a1cb)
2019-06-23T09:12:04.7971139+07:00 80000112-0001-e700-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)"' (500cc934)
2019-06-23T09:12:04.8014085+07:00 80000112-0001-e700-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Login\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "OnlineShop.Areas.Admin.Controllers.LoginController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:12:04.8044443+07:00 80000112-0001-e700-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:12:04.8079731+07:00 80000112-0001-e700-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0169ms. (50a9e262)
2019-06-23T09:12:04.8105179+07:00 80000112-0001-e700-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T09:12:04.8148481+07:00 80000112-0001-e700-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 3.3469ms. (f66409e9)
2019-06-23T09:12:04.8265834+07:00 80000112-0001-e700-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)" in 13.2113ms (afa2e885)
2019-06-23T09:12:04.8419203+07:00 80000112-0001-e700-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Index (OnlineShop)"' (99874f2b)
2019-06-23T09:12:04.8585368+07:00 80000112-0001-e700-b63f-84710c7967bb [INF] Request finished in 51.5471ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T09:12:06.9987995+07:00 800002e5-0000-f800-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44363/admin/login/authen application/x-www-form-urlencoded; charset=UTF-8 33 (ca22a1cb)
2019-06-23T09:12:07.0018602+07:00 800002e5-0000-f800-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)"' (500cc934)
2019-06-23T09:12:07.0043445+07:00 800002e5-0000-f800-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Authen\", controller = \"Login\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authen(OnlineShop.Models.LoginViewModel)" on controller "OnlineShop.Areas.Admin.Controllers.LoginController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:12:07.0082703+07:00 800002e5-0000-f800-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:12:07.0120452+07:00 800002e5-0000-f800-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:12:07.0191778+07:00 800002e5-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Avatar], [u].[Balance], [u].[BirthDay], [u].[ConcurrencyStamp], [u].[DateCreated], [u].[DateModified], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AppUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-06-23T09:12:07.0340330+07:00 800002e5-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AppUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2019-06-23T09:12:07.0399732+07:00 800002e5-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-23T09:12:07.0453523+07:00 800002e5-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AppRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-23T09:12:07.0508372+07:00 800002e5-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AppRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-23T09:12:07.0563899+07:00 800002e5-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-23T09:12:07.0596672+07:00 800002e5-0000-f800-b63f-84710c7967bb [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-06-23T09:12:07.0622099+07:00 800002e5-0000-f800-b63f-84710c7967bb [INF] User logged in. (fdce0db4)
2019-06-23T09:12:07.0652157+07:00 800002e5-0000-f800-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 53.9697ms. (50a9e262)
2019-06-23T09:12:07.0689677+07:00 800002e5-0000-f800-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Utilities.DTO.GenericResult"'. (8a1b66c8)
2019-06-23T09:12:07.0727474+07:00 800002e5-0000-f800-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)" in 65.0139ms (afa2e885)
2019-06-23T09:12:07.0751832+07:00 800002e5-0000-f800-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.LoginController.Authen (OnlineShop)"' (99874f2b)
2019-06-23T09:12:07.0790161+07:00 800002e5-0000-f800-b63f-84710c7967bb [INF] Request finished in 79.3056ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:12:07.0900152+07:00 800002e7-0000-f800-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/Home/Index   (ca22a1cb)
2019-06-23T09:12:07.0938536+07:00 800002e7-0000-f800-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)"' (500cc934)
2019-06-23T09:12:07.0969665+07:00 800002e7-0000-f800-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Home\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "OnlineShop.Areas.Admin.Controllers.HomeController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:12:07.0997197+07:00 800002e7-0000-f800-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:12:07.1036137+07:00 800002e7-0000-f800-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:12:07.1066464+07:00 800002e7-0000-f800-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0361ms. (50a9e262)
2019-06-23T09:12:07.1106783+07:00 800002e7-0000-f800-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T09:12:07.1148492+07:00 800002e7-0000-f800-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:12:07.1222699+07:00 800002e7-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-23T09:12:07.1288208+07:00 800002e7-0000-f800-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 19.4687ms. (f66409e9)
2019-06-23T09:12:07.1352441+07:00 800002e7-0000-f800-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)" in 33.084ms (afa2e885)
2019-06-23T09:12:07.1387985+07:00 800002e7-0000-f800-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.HomeController.Index (OnlineShop)"' (99874f2b)
2019-06-23T09:12:07.1513998+07:00 800002e7-0000-f800-b63f-84710c7967bb [INF] Request finished in 52.5962ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T09:12:09.6977204+07:00 8000010f-0003-ed00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/product/index   (ca22a1cb)
2019-06-23T09:12:09.7013861+07:00 8000010f-0003-ed00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.ProductController.Index (OnlineShop)"' (500cc934)
2019-06-23T09:12:09.7055006+07:00 8000010f-0003-ed00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Product\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "OnlineShop.Areas.Admin.Controllers.ProductController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:12:09.7092843+07:00 8000010f-0003-ed00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:12:09.7137014+07:00 8000010f-0003-ed00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.ProductController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:12:09.7176517+07:00 8000010f-0003-ed00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:12:09.7371080+07:00 8000010f-0003-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("12"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T09:12:09.7405685+07:00 8000010f-0003-ed00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:12:09.7428966+07:00 8000010f-0003-ed00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.ProductController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 26.8979ms. (50a9e262)
2019-06-23T09:12:09.7455552+07:00 8000010f-0003-ed00-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T09:12:09.7609800+07:00 8000010f-0003-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T09:12:09.7671096+07:00 8000010f-0003-ed00-b63f-84710c7967bb [INF] Authorization failed. (b15dd539)
2019-06-23T09:12:09.7817198+07:00 8000010f-0003-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T09:12:09.7867890+07:00 8000010f-0003-ed00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:12:09.7996092+07:00 8000010f-0003-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T09:12:09.8029507+07:00 8000010f-0003-ed00-b63f-84710c7967bb [INF] Authorization failed. (b15dd539)
2019-06-23T09:12:09.8087504+07:00 8000010f-0003-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-23T09:12:09.8137841+07:00 8000010f-0003-ed00-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 66.9519ms. (f66409e9)
2019-06-23T09:12:09.8198163+07:00 8000010f-0003-ed00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.ProductController.Index (OnlineShop)" in 107.9281ms (afa2e885)
2019-06-23T09:12:09.8273458+07:00 8000010f-0003-ed00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.ProductController.Index (OnlineShop)"' (99874f2b)
2019-06-23T09:12:09.8402013+07:00 8000010f-0003-ed00-b63f-84710c7967bb [INF] Request finished in 132.4241ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T09:12:09.9220597+07:00 80000114-0001-e700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/Product/GetAllCategories   (ca22a1cb)
2019-06-23T09:12:09.9274887+07:00 80000111-0003-ed00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/product/GetAllPaging?categoryId=--Select+category--&keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-23T09:12:09.9274848+07:00 80000114-0001-e700-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.ProductController.GetAllCategories (OnlineShop)"' (500cc934)
2019-06-23T09:12:09.9346459+07:00 80000114-0001-e700-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAllCategories\", controller = \"Product\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllCategories()" on controller "OnlineShop.Areas.Admin.Controllers.ProductController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:12:09.9346715+07:00 80000111-0003-ed00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.ProductController.GetAllPaging (OnlineShop)"' (500cc934)
2019-06-23T09:12:09.9373750+07:00 80000114-0001-e700-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:12:09.9431159+07:00 80000111-0003-ed00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Product\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllPaging(System.Nullable`1[System.Int32], System.String, Int32, Int32)" on controller "OnlineShop.Areas.Admin.Controllers.ProductController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:12:09.9432114+07:00 80000114-0001-e700-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.ProductController.GetAllCategories (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:12:09.9456874+07:00 80000111-0003-ed00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:12:09.9494366+07:00 80000114-0001-e700-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:12:09.9527648+07:00 80000111-0003-ed00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.ProductController.GetAllPaging (OnlineShop)" - Validation state: Invalid (dad538d7)
2019-06-23T09:12:09.9555192+07:00 80000111-0003-ed00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:12:09.9581676+07:00 80000114-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-23T09:12:09.9683547+07:00 80000111-0003-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Products] AS [x]
WHERE [x].[Status] = 1" (0723d8ff)
2019-06-23T09:12:09.9690961+07:00 80000114-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-23T09:12:09.9745369+07:00 80000114-0001-e700-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.ProductController.GetAllCategories (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 26.3483ms. (50a9e262)
2019-06-23T09:12:09.9815413+07:00 80000114-0001-e700-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[OnlineShop.Services.ViewModels.product.ProductCategoryViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:12:09.9878474+07:00 80000111-0003-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("9"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-23T09:12:09.9882597+07:00 80000114-0001-e700-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.ProductController.GetAllCategories (OnlineShop)" in 49.8181ms (afa2e885)
2019-06-23T09:12:09.9987193+07:00 80000114-0001-e700-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.ProductController.GetAllCategories (OnlineShop)"' (99874f2b)
2019-06-23T09:12:10.0103500+07:00 80000114-0001-e700-b63f-84710c7967bb [INF] Request finished in 79.4228ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:12:10.0142199+07:00 80000111-0003-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("17"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-23T09:12:10.0202248+07:00 80000111-0003-ed00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.ProductController.GetAllPaging (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 63.9226ms. (50a9e262)
2019-06-23T09:12:10.0227498+07:00 80000111-0003-ed00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Utilities.DTO.PagedResult`1[[OnlineShop.Services.ViewModels.product.ProductViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:12:10.0327413+07:00 80000111-0003-ed00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.ProductController.GetAllPaging (OnlineShop)" in 82.0202ms (afa2e885)
2019-06-23T09:12:10.0372132+07:00 80000111-0003-ed00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.ProductController.GetAllPaging (OnlineShop)"' (99874f2b)
2019-06-23T09:12:10.0404084+07:00 80000111-0003-ed00-b63f-84710c7967bb [INF] Request finished in 115.2497ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:12:10.0560461+07:00 800002e9-0000-f800-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/product/GetAllPaging?categoryId=&keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-23T09:12:10.0590497+07:00 800002e9-0000-f800-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.ProductController.GetAllPaging (OnlineShop)"' (500cc934)
2019-06-23T09:12:10.0619217+07:00 800002e9-0000-f800-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Product\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllPaging(System.Nullable`1[System.Int32], System.String, Int32, Int32)" on controller "OnlineShop.Areas.Admin.Controllers.ProductController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:12:10.0665514+07:00 800002e9-0000-f800-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:12:10.0726215+07:00 800002e9-0000-f800-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.ProductController.GetAllPaging (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:12:10.0748897+07:00 80000116-0001-e700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin-side/images/user.png   (ca22a1cb)
2019-06-23T09:12:10.0772503+07:00 80000090-0000-f000-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/client-side/images/products/product-1.jpg   (ca22a1cb)
2019-06-23T09:12:10.0826485+07:00 800002e9-0000-f800-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:12:10.0839575+07:00 80000090-0000-f000-b63f-84710c7967bb [INF] Request finished in 10.4634ms 404  (791a596a)
2019-06-23T09:12:10.0868374+07:00 80000116-0001-e700-b63f-84710c7967bb [INF] Request finished in 10.472ms 404  (791a596a)
2019-06-23T09:12:10.0905843+07:00 800002e9-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Products] AS [x]
WHERE [x].[Status] = 1" (0723d8ff)
2019-06-23T09:12:10.1008967+07:00 800002e9-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-23T09:12:10.1075387+07:00 800002e9-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-23T09:12:10.1125647+07:00 800002e9-0000-f800-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.ProductController.GetAllPaging (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 36.4769ms. (50a9e262)
2019-06-23T09:12:10.1192786+07:00 800002e9-0000-f800-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Utilities.DTO.PagedResult`1[[OnlineShop.Services.ViewModels.product.ProductViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:12:10.1234986+07:00 800002e9-0000-f800-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.ProductController.GetAllPaging (OnlineShop)" in 58.8919ms (afa2e885)
2019-06-23T09:12:10.1262535+07:00 800002e9-0000-f800-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.ProductController.GetAllPaging (OnlineShop)"' (99874f2b)
2019-06-23T09:12:10.1288053+07:00 800002e9-0000-f800-b63f-84710c7967bb [INF] Request finished in 72.8499ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:12:10.1579216+07:00 800000e9-0002-dd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin-side/images/user.png   (ca22a1cb)
2019-06-23T09:12:10.1583992+07:00 800002eb-0000-f800-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/client-side/images/products/product-1.jpg   (ca22a1cb)
2019-06-23T09:12:10.1655648+07:00 800000e9-0002-dd00-b63f-84710c7967bb [INF] Request finished in 6.5536ms 404  (791a596a)
2019-06-23T09:12:10.1767140+07:00 800002eb-0000-f800-b63f-84710c7967bb [INF] Request finished in 9.9172ms 404  (791a596a)
2019-06-23T09:12:17.9294309+07:00 800002ed-0000-f800-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/Product/GetById?id=27   (ca22a1cb)
2019-06-23T09:12:17.9337245+07:00 800002ed-0000-f800-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.ProductController.GetById (OnlineShop)"' (500cc934)
2019-06-23T09:12:17.9384922+07:00 800002ed-0000-f800-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetById\", controller = \"Product\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetById(Int32)" on controller "OnlineShop.Areas.Admin.Controllers.ProductController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:12:17.9412346+07:00 800002ed-0000-f800-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:12:17.9441305+07:00 800002ed-0000-f800-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.ProductController.GetById (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:12:17.9485408+07:00 800002ed-0000-f800-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:12:17.9691953+07:00 800002ed-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [x].[Id], [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], [x].[PromotionPrice], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[Status], [x].[Tags], [x].[Unit], [x].[ViewCount]
FROM [Products] AS [x]
WHERE [x].[Id] = @__id_0" (0723d8ff)
2019-06-23T09:12:18.0401908+07:00 800002ed-0000-f800-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.ProductController.GetById (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 93.0362ms. (50a9e262)
2019-06-23T09:12:18.0433496+07:00 800002ed-0000-f800-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Services.ViewModels.product.ProductViewModel"'. (8a1b66c8)
2019-06-23T09:12:18.0466884+07:00 800002ed-0000-f800-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.ProductController.GetById (OnlineShop)" in 105.2179ms (afa2e885)
2019-06-23T09:12:18.0495671+07:00 800002ed-0000-f800-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.ProductController.GetById (OnlineShop)"' (99874f2b)
2019-06-23T09:12:18.0522562+07:00 800002ed-0000-f800-b63f-84710c7967bb [INF] Request finished in 123.1432ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:12:18.0609228+07:00 80000118-0001-e700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/ProductCategory/GetAll   (ca22a1cb)
2019-06-23T09:12:18.0644810+07:00 80000118-0001-e700-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.ProductCategoryController.GetAll (OnlineShop)"' (500cc934)
2019-06-23T09:12:18.0689120+07:00 80000118-0001-e700-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"ProductCategory\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAll()" on controller "OnlineShop.Areas.Admin.Controllers.ProductCategoryController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:12:18.0714077+07:00 80000118-0001-e700-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:12:18.0739894+07:00 80000118-0001-e700-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.ProductCategoryController.GetAll (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:12:18.0773615+07:00 80000118-0001-e700-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:12:18.0810894+07:00 80000118-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-23T09:12:18.0845688+07:00 80000118-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-23T09:12:18.0874168+07:00 80000118-0001-e700-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.ProductCategoryController.GetAll (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 11.2135ms. (50a9e262)
2019-06-23T09:12:18.0904520+07:00 80000118-0001-e700-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[OnlineShop.Services.ViewModels.product.ProductCategoryViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:12:18.0937456+07:00 80000118-0001-e700-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.ProductCategoryController.GetAll (OnlineShop)" in 22.1185ms (afa2e885)
2019-06-23T09:12:18.0977499+07:00 80000118-0001-e700-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.ProductCategoryController.GetAll (OnlineShop)"' (99874f2b)
2019-06-23T09:12:18.1007462+07:00 80000118-0001-e700-b63f-84710c7967bb [INF] Request finished in 39.5058ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:12:21.5241072+07:00 8000011a-0001-e700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/Product/GetById?id=25   (ca22a1cb)
2019-06-23T09:12:21.5278766+07:00 8000011a-0001-e700-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.ProductController.GetById (OnlineShop)"' (500cc934)
2019-06-23T09:12:21.5305677+07:00 8000011a-0001-e700-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetById\", controller = \"Product\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetById(Int32)" on controller "OnlineShop.Areas.Admin.Controllers.ProductController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:12:21.5333626+07:00 8000011a-0001-e700-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:12:21.5360398+07:00 8000011a-0001-e700-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.ProductController.GetById (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:12:21.5394059+07:00 8000011a-0001-e700-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:12:21.5429301+07:00 8000011a-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [x].[Id], [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], [x].[PromotionPrice], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[Status], [x].[Tags], [x].[Unit], [x].[ViewCount]
FROM [Products] AS [x]
WHERE [x].[Id] = @__id_0" (0723d8ff)
2019-06-23T09:12:21.5458251+07:00 8000011a-0001-e700-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.ProductController.GetById (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 7.2897ms. (50a9e262)
2019-06-23T09:12:21.5486873+07:00 8000011a-0001-e700-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Services.ViewModels.product.ProductViewModel"'. (8a1b66c8)
2019-06-23T09:12:21.5518903+07:00 8000011a-0001-e700-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.ProductController.GetById (OnlineShop)" in 18.3967ms (afa2e885)
2019-06-23T09:12:21.5545117+07:00 8000011a-0001-e700-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.ProductController.GetById (OnlineShop)"' (99874f2b)
2019-06-23T09:12:21.5569960+07:00 8000011a-0001-e700-b63f-84710c7967bb [INF] Request finished in 33.5792ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:12:21.5633655+07:00 800002ef-0000-f800-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/ProductCategory/GetAll   (ca22a1cb)
2019-06-23T09:12:21.5686680+07:00 800002ef-0000-f800-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.ProductCategoryController.GetAll (OnlineShop)"' (500cc934)
2019-06-23T09:12:21.5714874+07:00 800002ef-0000-f800-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"ProductCategory\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAll()" on controller "OnlineShop.Areas.Admin.Controllers.ProductCategoryController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:12:21.5739731+07:00 800002ef-0000-f800-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:12:21.5766445+07:00 800002ef-0000-f800-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.ProductCategoryController.GetAll (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:12:21.5792760+07:00 800002ef-0000-f800-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:12:21.5825855+07:00 800002ef-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-23T09:12:21.5854705+07:00 800002ef-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-23T09:12:21.5881595+07:00 800002ef-0000-f800-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.ProductCategoryController.GetAll (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 9.1916ms. (50a9e262)
2019-06-23T09:12:21.5908099+07:00 800002ef-0000-f800-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[OnlineShop.Services.ViewModels.product.ProductCategoryViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:12:21.5940929+07:00 800002ef-0000-f800-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.ProductCategoryController.GetAll (OnlineShop)" in 19.86ms (afa2e885)
2019-06-23T09:12:21.5975647+07:00 800002ef-0000-f800-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.ProductCategoryController.GetAll (OnlineShop)"' (99874f2b)
2019-06-23T09:12:21.6004962+07:00 800002ef-0000-f800-b63f-84710c7967bb [INF] Request finished in 36.5875ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:12:33.3613120+07:00 8000011c-0001-e700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/productcategory/index   (ca22a1cb)
2019-06-23T09:12:33.3735288+07:00 8000011c-0001-e700-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.ProductCategoryController.Index (OnlineShop)"' (500cc934)
2019-06-23T09:12:33.3830778+07:00 8000011c-0001-e700-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"ProductCategory\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "OnlineShop.Areas.Admin.Controllers.ProductCategoryController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:12:33.3917261+07:00 8000011c-0001-e700-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:12:33.3948345+07:00 8000011c-0001-e700-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.ProductCategoryController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:12:33.3981708+07:00 8000011c-0001-e700-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:12:33.4100535+07:00 8000011c-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T09:12:33.4130933+07:00 8000011c-0001-e700-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:12:33.4156905+07:00 8000011c-0001-e700-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.ProductCategoryController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 18.2994ms. (50a9e262)
2019-06-23T09:12:33.4181602+07:00 8000011c-0001-e700-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T09:12:33.4266155+07:00 8000011c-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-23T09:12:33.4310282+07:00 8000011c-0001-e700-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 12.628ms. (f66409e9)
2019-06-23T09:12:33.4410294+07:00 8000011c-0001-e700-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.ProductCategoryController.Index (OnlineShop)" in 46.7018ms (afa2e885)
2019-06-23T09:12:33.4651275+07:00 8000011c-0001-e700-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.ProductCategoryController.Index (OnlineShop)"' (99874f2b)
2019-06-23T09:12:33.4729596+07:00 8000011c-0001-e700-b63f-84710c7967bb [INF] Request finished in 108.0323ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T09:12:33.6002695+07:00 800002f1-0000-f800-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/ProductCategory/GetAll   (ca22a1cb)
2019-06-23T09:12:33.6119711+07:00 800002f1-0000-f800-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.ProductCategoryController.GetAll (OnlineShop)"' (500cc934)
2019-06-23T09:12:33.6205263+07:00 800002f1-0000-f800-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"ProductCategory\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAll()" on controller "OnlineShop.Areas.Admin.Controllers.ProductCategoryController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:12:33.6235472+07:00 800002f1-0000-f800-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:12:33.6264661+07:00 800002f1-0000-f800-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.ProductCategoryController.GetAll (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:12:33.6300076+07:00 800002f1-0000-f800-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:12:33.6344279+07:00 800002f1-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-23T09:12:33.6395035+07:00 800002f1-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-23T09:12:33.6427969+07:00 800002f1-0000-f800-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.ProductCategoryController.GetAll (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 13.5956ms. (50a9e262)
2019-06-23T09:12:33.6469586+07:00 800002f1-0000-f800-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[OnlineShop.Services.ViewModels.product.ProductCategoryViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:12:33.6537870+07:00 800002f1-0000-f800-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.ProductCategoryController.GetAll (OnlineShop)" in 28.0955ms (afa2e885)
2019-06-23T09:12:33.6566144+07:00 800002f1-0000-f800-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.ProductCategoryController.GetAll (OnlineShop)"' (99874f2b)
2019-06-23T09:12:33.6593167+07:00 800002f1-0000-f800-b63f-84710c7967bb [INF] Request finished in 59.1615ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:15:29.1901849+07:00 800000eb-0002-dd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/user/index   (ca22a1cb)
2019-06-23T09:15:29.1933237+07:00 800000eb-0002-dd00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.UserController.Index (OnlineShop)"' (500cc934)
2019-06-23T09:15:29.1991762+07:00 800000eb-0002-dd00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"User\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "OnlineShop.Areas.Admin.Controllers.UserController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:15:29.2018457+07:00 800000eb-0002-dd00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:15:29.2063436+07:00 800000eb-0002-dd00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.UserController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:15:29.2097956+07:00 800000eb-0002-dd00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:15:29.2289032+07:00 800000eb-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("13"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T09:15:29.2315309+07:00 800000eb-0002-dd00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:15:29.2343091+07:00 800000eb-0002-dd00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.UserController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 25.1716ms. (50a9e262)
2019-06-23T09:15:29.2371118+07:00 800000eb-0002-dd00-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T09:15:29.2497544+07:00 800000eb-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T09:15:29.2526093+07:00 800000eb-0002-dd00-b63f-84710c7967bb [INF] Authorization failed. (b15dd539)
2019-06-23T09:15:29.2650009+07:00 800000eb-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T09:15:29.2678262+07:00 800000eb-0002-dd00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:15:29.2792124+07:00 800000eb-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T09:15:29.2818757+07:00 800000eb-0002-dd00-b63f-84710c7967bb [INF] Authorization failed. (b15dd539)
2019-06-23T09:15:29.2883170+07:00 800000eb-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-23T09:15:29.2979200+07:00 800000eb-0002-dd00-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 61.1936ms. (f66409e9)
2019-06-23T09:15:29.3037985+07:00 800000eb-0002-dd00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.UserController.Index (OnlineShop)" in 98.8244ms (afa2e885)
2019-06-23T09:15:29.3300899+07:00 800000eb-0002-dd00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.UserController.Index (OnlineShop)"' (99874f2b)
2019-06-23T09:15:29.3368232+07:00 800000eb-0002-dd00-b63f-84710c7967bb [INF] Request finished in 143.8847ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T09:15:29.4342190+07:00 80000113-0003-ed00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/User/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-23T09:15:29.4369784+07:00 80000113-0003-ed00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)"' (500cc934)
2019-06-23T09:15:29.4399978+07:00 80000113-0003-ed00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"User\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllPaging(System.String, Int32, Int32)" on controller "OnlineShop.Areas.Admin.Controllers.UserController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:15:29.4422534+07:00 80000113-0003-ed00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:15:29.4445045+07:00 80000113-0003-ed00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:15:29.4468673+07:00 80000113-0003-ed00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:15:29.4505853+07:00 80000113-0003-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppUsers] AS [a]" (0723d8ff)
2019-06-23T09:15:29.4561126+07:00 80000113-0003-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[UserName], [x].[Avatar], CONVERT(VARCHAR(100), [x].[BirthDay]) AS [BirthDay], [x].[Email], [x].[FullName], [x].[Id], [x].[PhoneNumber], [x].[Status], [x].[DateCreated]
FROM [AppUsers] AS [x]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-23T09:15:29.4580554+07:00 80000113-0003-ed00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 11.7509ms. (50a9e262)
2019-06-23T09:15:29.4603108+07:00 80000113-0003-ed00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Utilities.DTO.PagedResult`1[[OnlineShop.Services.ViewModels.system.AppUserViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:15:29.4637702+07:00 80000113-0003-ed00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)" in 20.7375ms (afa2e885)
2019-06-23T09:15:29.4658085+07:00 80000113-0003-ed00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)"' (99874f2b)
2019-06-23T09:15:29.4681626+07:00 80000113-0003-ed00-b63f-84710c7967bb [INF] Request finished in 33.837ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:15:29.4907661+07:00 8000011e-0001-e700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/User/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-23T09:15:29.4972223+07:00 8000011e-0001-e700-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)"' (500cc934)
2019-06-23T09:15:29.4999150+07:00 8000011e-0001-e700-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"User\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllPaging(System.String, Int32, Int32)" on controller "OnlineShop.Areas.Admin.Controllers.UserController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:15:29.5028102+07:00 8000011e-0001-e700-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:15:29.5050016+07:00 8000011e-0001-e700-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:15:29.5092600+07:00 8000011e-0001-e700-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:15:29.5121684+07:00 8000011e-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppUsers] AS [a]" (0723d8ff)
2019-06-23T09:15:29.5163938+07:00 8000011e-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[UserName], [x].[Avatar], CONVERT(VARCHAR(100), [x].[BirthDay]) AS [BirthDay], [x].[Email], [x].[FullName], [x].[Id], [x].[PhoneNumber], [x].[Status], [x].[DateCreated]
FROM [AppUsers] AS [x]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-23T09:15:29.5203161+07:00 8000011e-0001-e700-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 11.5945ms. (50a9e262)
2019-06-23T09:15:29.5250341+07:00 8000011e-0001-e700-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Utilities.DTO.PagedResult`1[[OnlineShop.Services.ViewModels.system.AppUserViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:15:29.5299190+07:00 8000011e-0001-e700-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)" in 25.5649ms (afa2e885)
2019-06-23T09:15:29.5328131+07:00 8000011e-0001-e700-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.UserController.GetAllPaging (OnlineShop)"' (99874f2b)
2019-06-23T09:15:29.5353428+07:00 8000011e-0001-e700-b63f-84710c7967bb [INF] Request finished in 46.0759ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:15:31.6248807+07:00 800002f3-0000-f800-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/User/GetById?id=32510983-eb42-472b-38de-08d6f48daca1   (ca22a1cb)
2019-06-23T09:15:31.6284799+07:00 800002f3-0000-f800-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.UserController.GetById (OnlineShop)"' (500cc934)
2019-06-23T09:15:31.6355363+07:00 800002f3-0000-f800-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetById\", controller = \"User\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(System.String)" on controller "OnlineShop.Areas.Admin.Controllers.UserController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:15:31.6385484+07:00 800002f3-0000-f800-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:15:31.6418335+07:00 800002f3-0000-f800-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.UserController.GetById (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:15:31.6491201+07:00 800002f3-0000-f800-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:15:31.6690629+07:00 800002f3-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[Balance], [e].[BirthDay], [e].[ConcurrencyStamp], [e].[DateCreated], [e].[DateModified], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[Status], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AppUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2019-06-23T09:15:31.6810655+07:00 800002f3-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-23T09:15:31.6897905+07:00 800002f3-0000-f800-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.UserController.GetById (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 45.0198ms. (50a9e262)
2019-06-23T09:15:31.6925872+07:00 800002f3-0000-f800-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Services.ViewModels.system.AppUserViewModel"'. (8a1b66c8)
2019-06-23T09:15:31.6954435+07:00 800002f3-0000-f800-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.UserController.GetById (OnlineShop)" in 57.4636ms (afa2e885)
2019-06-23T09:15:31.6980226+07:00 800002f3-0000-f800-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.UserController.GetById (OnlineShop)"' (99874f2b)
2019-06-23T09:15:31.7009058+07:00 800002f3-0000-f800-b63f-84710c7967bb [INF] Request finished in 75.8411ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:15:31.7080587+07:00 800002f5-0000-f800-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/Role/GetAll   (ca22a1cb)
2019-06-23T09:15:31.7105677+07:00 800002f5-0000-f800-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.GetAll (OnlineShop)"' (500cc934)
2019-06-23T09:15:31.7161022+07:00 800002f5-0000-f800-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"Role\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll()" on controller "OnlineShop.Areas.Admin.Controllers.RoleController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:15:31.7182670+07:00 800002f5-0000-f800-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:15:31.7207611+07:00 800002f5-0000-f800-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.RoleController.GetAll (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:15:31.7249791+07:00 800002f5-0000-f800-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:15:31.7318208+07:00 800002f5-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoAppRole].[Description], [dtoAppRole].[Id], [dtoAppRole].[Name]
FROM [AppRoles] AS [dtoAppRole]" (0723d8ff)
2019-06-23T09:15:31.7344961+07:00 800002f5-0000-f800-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.RoleController.GetAll (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 11.4715ms. (50a9e262)
2019-06-23T09:15:31.7368242+07:00 800002f5-0000-f800-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[OnlineShop.Services.ViewModels.system.AppRoleViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:15:31.7406403+07:00 800002f5-0000-f800-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.RoleController.GetAll (OnlineShop)" in 21.0813ms (afa2e885)
2019-06-23T09:15:31.7424924+07:00 800002f5-0000-f800-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.GetAll (OnlineShop)"' (99874f2b)
2019-06-23T09:15:31.7448533+07:00 800002f5-0000-f800-b63f-84710c7967bb [INF] Request finished in 36.9607ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:21:55.5211503+07:00 800000ed-0002-dd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/productcategory/index   (ca22a1cb)
2019-06-23T09:21:55.5604790+07:00 800000ed-0002-dd00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.ProductCategoryController.Index (OnlineShop)"' (500cc934)
2019-06-23T09:21:55.5720411+07:00 800000ed-0002-dd00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"ProductCategory\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "OnlineShop.Areas.Admin.Controllers.ProductCategoryController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:21:55.5753439+07:00 800000ed-0002-dd00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:21:55.5788761+07:00 800000ed-0002-dd00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.ProductCategoryController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:21:55.5832468+07:00 800000ed-0002-dd00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:21:55.5990732+07:00 800000ed-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("8"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T09:21:55.6017501+07:00 800000ed-0002-dd00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:21:55.6040344+07:00 800000ed-0002-dd00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.ProductCategoryController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 22.979ms. (50a9e262)
2019-06-23T09:21:55.9426629+07:00 800000ed-0002-dd00-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T09:21:55.9768486+07:00 800000ed-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("9"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T09:21:55.9804573+07:00 800000ed-0002-dd00-b63f-84710c7967bb [INF] Authorization failed. (b15dd539)
2019-06-23T09:21:55.9936122+07:00 800000ed-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-23T09:21:56.0141491+07:00 800000ed-0002-dd00-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 403.4927ms. (f66409e9)
2019-06-23T09:21:56.0538584+07:00 800000ed-0002-dd00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.ProductCategoryController.Index (OnlineShop)" in 442.5247ms (afa2e885)
2019-06-23T09:21:56.0590607+07:00 800000ed-0002-dd00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.ProductCategoryController.Index (OnlineShop)"' (99874f2b)
2019-06-23T09:21:56.0753330+07:00 800000ed-0002-dd00-b63f-84710c7967bb [INF] Request finished in 557.6428ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T09:21:56.2162772+07:00 80000115-0003-ed00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/ProductCategory/GetAll   (ca22a1cb)
2019-06-23T09:21:56.2274952+07:00 80000115-0003-ed00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.ProductCategoryController.GetAll (OnlineShop)"' (500cc934)
2019-06-23T09:21:56.2327710+07:00 80000115-0003-ed00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"ProductCategory\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAll()" on controller "OnlineShop.Areas.Admin.Controllers.ProductCategoryController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:21:56.2358284+07:00 80000115-0003-ed00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:21:56.2395921+07:00 80000115-0003-ed00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.ProductCategoryController.GetAll (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:21:56.2427175+07:00 80000115-0003-ed00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:21:56.2500771+07:00 80000115-0003-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-23T09:21:56.2622003+07:00 80000115-0003-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-23T09:21:56.2676738+07:00 80000115-0003-ed00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.ProductCategoryController.GetAll (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 24.0581ms. (50a9e262)
2019-06-23T09:21:56.2715614+07:00 80000115-0003-ed00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[OnlineShop.Services.ViewModels.product.ProductCategoryViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:21:56.2819958+07:00 80000115-0003-ed00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.ProductCategoryController.GetAll (OnlineShop)" in 39.9041ms (afa2e885)
2019-06-23T09:21:56.2889435+07:00 80000115-0003-ed00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.ProductCategoryController.GetAll (OnlineShop)"' (99874f2b)
2019-06-23T09:21:56.3042955+07:00 80000115-0003-ed00-b63f-84710c7967bb [INF] Request finished in 76.3808ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:25:01.4615091+07:00 800002f7-0000-f800-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/productcategory/index   (ca22a1cb)
2019-06-23T09:25:01.4672434+07:00 800002f7-0000-f800-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.ProductCategoryController.Index (OnlineShop)"' (500cc934)
2019-06-23T09:25:01.4795749+07:00 800002f7-0000-f800-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"ProductCategory\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "OnlineShop.Areas.Admin.Controllers.ProductCategoryController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:25:01.4829392+07:00 800002f7-0000-f800-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:25:01.4861890+07:00 800002f7-0000-f800-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.ProductCategoryController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:25:01.4893193+07:00 800002f7-0000-f800-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:25:01.5114322+07:00 800002f7-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("10"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T09:25:01.5175518+07:00 800002f7-0000-f800-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:25:01.5202433+07:00 800002f7-0000-f800-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.ProductCategoryController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 31.4753ms. (50a9e262)
2019-06-23T09:25:01.7681699+07:00 800002f7-0000-f800-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T09:25:01.7843224+07:00 800002f7-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T09:25:01.7877940+07:00 800002f7-0000-f800-b63f-84710c7967bb [INF] Authorization failed. (b15dd539)
2019-06-23T09:25:01.8305798+07:00 800002f7-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("36"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T09:25:01.8333397+07:00 800002f7-0000-f800-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:25:01.8483699+07:00 800002f7-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T09:25:01.8513962+07:00 800002f7-0000-f800-b63f-84710c7967bb [INF] Authorization failed. (b15dd539)
2019-06-23T09:25:01.8615252+07:00 800002f7-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-23T09:25:01.8712102+07:00 800002f7-0000-f800-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 346.8458ms. (f66409e9)
2019-06-23T09:25:01.8759580+07:00 800002f7-0000-f800-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.ProductCategoryController.Index (OnlineShop)" in 391.7598ms (afa2e885)
2019-06-23T09:25:01.8852519+07:00 800002f7-0000-f800-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.ProductCategoryController.Index (OnlineShop)"' (99874f2b)
2019-06-23T09:25:01.9075161+07:00 800002f7-0000-f800-b63f-84710c7967bb [INF] Request finished in 432.0906ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T09:25:02.0994167+07:00 800002f9-0000-f800-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/ProductCategory/GetAll   (ca22a1cb)
2019-06-23T09:25:02.1146930+07:00 800002f9-0000-f800-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.ProductCategoryController.GetAll (OnlineShop)"' (500cc934)
2019-06-23T09:25:02.1221512+07:00 800002f9-0000-f800-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"ProductCategory\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAll()" on controller "OnlineShop.Areas.Admin.Controllers.ProductCategoryController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:25:02.1276567+07:00 800002f9-0000-f800-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:25:02.1346234+07:00 800002f9-0000-f800-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.ProductCategoryController.GetAll (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:25:02.1479401+07:00 800002f9-0000-f800-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:25:02.1569633+07:00 800002f9-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-23T09:25:02.1875639+07:00 800002f9-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("18"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-23T09:25:02.1918263+07:00 800002f9-0000-f800-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.ProductCategoryController.GetAll (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 53.5084ms. (50a9e262)
2019-06-23T09:25:02.1977772+07:00 800002f9-0000-f800-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[OnlineShop.Services.ViewModels.product.ProductCategoryViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:25:02.2034887+07:00 800002f9-0000-f800-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.ProductCategoryController.GetAll (OnlineShop)" in 76.4354ms (afa2e885)
2019-06-23T09:25:02.2069444+07:00 800002f9-0000-f800-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.ProductCategoryController.GetAll (OnlineShop)"' (99874f2b)
2019-06-23T09:25:02.2103137+07:00 800002f9-0000-f800-b63f-84710c7967bb [INF] Request finished in 113.4788ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:25:09.6401658+07:00 80000117-0003-ed00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/role/index   (ca22a1cb)
2019-06-23T09:25:09.6448430+07:00 80000117-0003-ed00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)"' (500cc934)
2019-06-23T09:25:09.6603719+07:00 80000117-0003-ed00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Role\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "OnlineShop.Areas.Admin.Controllers.RoleController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:25:09.6640201+07:00 80000117-0003-ed00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:25:09.6688969+07:00 80000117-0003-ed00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:25:09.6730361+07:00 80000117-0003-ed00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:25:09.6845838+07:00 80000117-0003-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T09:25:09.6885948+07:00 80000117-0003-ed00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:25:09.6923445+07:00 80000117-0003-ed00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 19.9184ms. (50a9e262)
2019-06-23T09:25:09.6957522+07:00 80000117-0003-ed00-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T09:25:09.7081352+07:00 80000117-0003-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-23T09:25:09.7150006+07:00 80000117-0003-ed00-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 17.3764ms. (f66409e9)
2019-06-23T09:25:09.7234228+07:00 80000117-0003-ed00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)" in 54.8712ms (afa2e885)
2019-06-23T09:25:09.7493853+07:00 80000117-0003-ed00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)"' (99874f2b)
2019-06-23T09:25:09.7541681+07:00 80000117-0003-ed00-b63f-84710c7967bb [INF] Request finished in 112.4313ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T09:25:09.8525073+07:00 800002fb-0000-f800-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/role/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-23T09:25:09.8638010+07:00 800002fb-0000-f800-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)"' (500cc934)
2019-06-23T09:25:09.8758167+07:00 800002fb-0000-f800-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Role\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllPaging(System.String, Int32, Int32)" on controller "OnlineShop.Areas.Admin.Controllers.RoleController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:25:09.8809717+07:00 800002fb-0000-f800-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:25:09.8885509+07:00 800002fb-0000-f800-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:25:09.8971116+07:00 800002fb-0000-f800-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:25:09.9104152+07:00 800002fb-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppRoles] AS [a]" (0723d8ff)
2019-06-23T09:25:09.9274835+07:00 800002fb-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("6"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoAppRole].[Description], [dtoAppRole].[Id], [dtoAppRole].[Name]
FROM [AppRoles] AS [dtoAppRole]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-23T09:25:09.9330962+07:00 800002fb-0000-f800-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 39.0499ms. (50a9e262)
2019-06-23T09:25:09.9365224+07:00 800002fb-0000-f800-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Utilities.DTO.PagedResult`1[[OnlineShop.Services.ViewModels.system.AppRoleViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:25:09.9446184+07:00 800002fb-0000-f800-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)" in 61.0069ms (afa2e885)
2019-06-23T09:25:09.9514358+07:00 800002fb-0000-f800-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)"' (99874f2b)
2019-06-23T09:25:09.9544423+07:00 800002fb-0000-f800-b63f-84710c7967bb [INF] Request finished in 102.2831ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:25:09.9709375+07:00 80000119-0003-ed00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/role/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-23T09:25:09.9768052+07:00 80000119-0003-ed00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)"' (500cc934)
2019-06-23T09:25:10.0448749+07:00 80000119-0003-ed00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Role\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllPaging(System.String, Int32, Int32)" on controller "OnlineShop.Areas.Admin.Controllers.RoleController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:25:10.0496325+07:00 80000119-0003-ed00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:25:10.0524671+07:00 80000119-0003-ed00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:25:10.0560388+07:00 80000119-0003-ed00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:25:10.0621672+07:00 80000119-0003-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppRoles] AS [a]" (0723d8ff)
2019-06-23T09:25:10.0828894+07:00 80000119-0003-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoAppRole].[Description], [dtoAppRole].[Id], [dtoAppRole].[Name]
FROM [AppRoles] AS [dtoAppRole]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-23T09:25:10.0864297+07:00 80000119-0003-ed00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 30.722ms. (50a9e262)
2019-06-23T09:25:10.0899567+07:00 80000119-0003-ed00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Utilities.DTO.PagedResult`1[[OnlineShop.Services.ViewModels.system.AppRoleViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:25:10.1008158+07:00 80000119-0003-ed00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)" in 45.6343ms (afa2e885)
2019-06-23T09:25:10.1050536+07:00 80000119-0003-ed00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)"' (99874f2b)
2019-06-23T09:25:10.1113467+07:00 80000119-0003-ed00-b63f-84710c7967bb [INF] Request finished in 137.5067ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:25:17.2334353+07:00 800000ef-0002-dd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44363/Admin/Role/ListAllFunction application/x-www-form-urlencoded; charset=UTF-8 43 (ca22a1cb)
2019-06-23T09:25:17.2344091+07:00 800000af-0002-dc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/Function/GetAll   (ca22a1cb)
2019-06-23T09:25:17.2439897+07:00 800000af-0002-dc00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)"' (500cc934)
2019-06-23T09:25:17.2467625+07:00 800000ef-0002-dd00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)"' (500cc934)
2019-06-23T09:25:17.2550725+07:00 800000ef-0002-dd00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"ListAllFunction\", controller = \"Role\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult ListAllFunction(System.Guid)" on controller "OnlineShop.Areas.Admin.Controllers.RoleController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:25:17.2614391+07:00 800000ef-0002-dd00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:25:17.2643823+07:00 800000af-0002-dc00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"Function\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll()" on controller "OnlineShop.Areas.Admin.Controllers.FunctionController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:25:17.2776444+07:00 800000ef-0002-dd00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:25:17.2778306+07:00 800000af-0002-dc00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:25:17.2825709+07:00 800000af-0002-dc00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:25:17.2836220+07:00 800000ef-0002-dd00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:25:17.2862895+07:00 800000af-0002-dc00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:25:17.2939398+07:00 800000af-0002-dc00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-23T09:25:17.2989971+07:00 800000af-0002-dc00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 13.3886ms. (50a9e262)
2019-06-23T09:25:17.3019016+07:00 800000af-0002-dc00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[OnlineShop.Services.ViewModels.system.FunctionViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:25:17.3096613+07:00 800000af-0002-dc00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)" in 38.1327ms (afa2e885)
2019-06-23T09:25:17.3122178+07:00 800000af-0002-dc00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)"' (99874f2b)
2019-06-23T09:25:17.3158456+07:00 800000af-0002-dc00-b63f-84710c7967bb [INF] Request finished in 91.6941ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:25:17.3231047+07:00 800000ef-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("6"ms) [Parameters=["@__roleId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT @__roleId_0 AS [RoleId], [f].[Id] AS [FunctionId], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanCreate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanCreate], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanDelete] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanDelete], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanRead] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanRead], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanUpdate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanUpdate]
FROM [Functions] AS [f]
LEFT JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
WHERE [p].[Id] IS NOT NULL AND ([p].[RoleId] = @__roleId_0)" (0723d8ff)
2019-06-23T09:25:17.3283896+07:00 800000ef-0002-dd00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 45.7657ms. (50a9e262)
2019-06-23T09:25:17.3319688+07:00 800000ef-0002-dd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[OnlineShop.Services.ViewModels.system.PermissionViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:25:17.3365237+07:00 800000ef-0002-dd00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)" in 77.4452ms (afa2e885)
2019-06-23T09:25:17.3440907+07:00 800000ef-0002-dd00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)"' (99874f2b)
2019-06-23T09:25:17.3474946+07:00 800000ef-0002-dd00-b63f-84710c7967bb [INF] Request finished in 123.4507ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:25:25.2606970+07:00 800002fd-0000-f800-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/productcategory/index   (ca22a1cb)
2019-06-23T09:25:25.2638089+07:00 800002fd-0000-f800-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.ProductCategoryController.Index (OnlineShop)"' (500cc934)
2019-06-23T09:25:25.2665423+07:00 800002fd-0000-f800-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"ProductCategory\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "OnlineShop.Areas.Admin.Controllers.ProductCategoryController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:25:25.2692798+07:00 800002fd-0000-f800-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:25:25.2728776+07:00 800002fd-0000-f800-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.ProductCategoryController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:25:25.2787253+07:00 800002fd-0000-f800-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:25:25.2921845+07:00 800002fd-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T09:25:25.2946119+07:00 800002fd-0000-f800-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:25:25.2971310+07:00 800002fd-0000-f800-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.ProductCategoryController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 21.8237ms. (50a9e262)
2019-06-23T09:25:25.2996297+07:00 800002fd-0000-f800-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T09:25:25.3094108+07:00 800002fd-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T09:25:25.3121287+07:00 800002fd-0000-f800-b63f-84710c7967bb [INF] Authorization failed. (b15dd539)
2019-06-23T09:25:25.3213060+07:00 800002fd-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T09:25:25.3238802+07:00 800002fd-0000-f800-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:25:25.3316386+07:00 800002fd-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T09:25:25.3346930+07:00 800002fd-0000-f800-b63f-84710c7967bb [INF] Authorization failed. (b15dd539)
2019-06-23T09:25:25.3408307+07:00 800002fd-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-23T09:25:25.3462469+07:00 800002fd-0000-f800-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 45.0871ms. (f66409e9)
2019-06-23T09:25:25.3562312+07:00 800002fd-0000-f800-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.ProductCategoryController.Index (OnlineShop)" in 79.8731ms (afa2e885)
2019-06-23T09:25:25.3817994+07:00 800002fd-0000-f800-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.ProductCategoryController.Index (OnlineShop)"' (99874f2b)
2019-06-23T09:25:25.3872214+07:00 800002fd-0000-f800-b63f-84710c7967bb [INF] Request finished in 123.6199ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T09:25:25.5675315+07:00 800002ff-0000-f800-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/ProductCategory/GetAll   (ca22a1cb)
2019-06-23T09:25:25.5734732+07:00 800002ff-0000-f800-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.ProductCategoryController.GetAll (OnlineShop)"' (500cc934)
2019-06-23T09:25:25.5790683+07:00 800002ff-0000-f800-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"ProductCategory\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAll()" on controller "OnlineShop.Areas.Admin.Controllers.ProductCategoryController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:25:25.5864306+07:00 800002ff-0000-f800-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:25:25.5910226+07:00 800002ff-0000-f800-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.ProductCategoryController.GetAll (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:25:25.5943894+07:00 800002ff-0000-f800-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:25:25.5993126+07:00 800002ff-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-23T09:25:25.6039572+07:00 800002ff-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-23T09:25:25.6076816+07:00 800002ff-0000-f800-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.ProductCategoryController.GetAll (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 13.5283ms. (50a9e262)
2019-06-23T09:25:25.6117341+07:00 800002ff-0000-f800-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[OnlineShop.Services.ViewModels.product.ProductCategoryViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:25:25.6186843+07:00 800002ff-0000-f800-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.ProductCategoryController.GetAll (OnlineShop)" in 34.0078ms (afa2e885)
2019-06-23T09:25:25.6230124+07:00 800002ff-0000-f800-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.ProductCategoryController.GetAll (OnlineShop)"' (99874f2b)
2019-06-23T09:25:25.6289538+07:00 800002ff-0000-f800-b63f-84710c7967bb [INF] Request finished in 62.7898ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:26:07.5240333+07:00 800000f1-0002-dd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/role/index   (ca22a1cb)
2019-06-23T09:26:07.5277046+07:00 800000f1-0002-dd00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)"' (500cc934)
2019-06-23T09:26:07.5370214+07:00 800000f1-0002-dd00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Role\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "OnlineShop.Areas.Admin.Controllers.RoleController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:26:07.5409417+07:00 800000f1-0002-dd00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:26:07.5447213+07:00 800000f1-0002-dd00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:26:07.5478906+07:00 800000f1-0002-dd00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:26:07.5662556+07:00 800000f1-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("8"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T09:26:07.5694114+07:00 800000f1-0002-dd00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:26:07.5721486+07:00 800000f1-0002-dd00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 24.7533ms. (50a9e262)
2019-06-23T09:26:07.5751722+07:00 800000f1-0002-dd00-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T09:26:07.5893888+07:00 800000f1-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-23T09:26:07.5933658+07:00 800000f1-0002-dd00-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 18.3939ms. (f66409e9)
2019-06-23T09:26:07.6016623+07:00 800000f1-0002-dd00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)" in 57.3095ms (afa2e885)
2019-06-23T09:26:07.6119571+07:00 800000f1-0002-dd00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)"' (99874f2b)
2019-06-23T09:26:07.6147251+07:00 800000f1-0002-dd00-b63f-84710c7967bb [INF] Request finished in 91.2617ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T09:26:07.7705748+07:00 80000301-0000-f800-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/role/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-23T09:26:07.8721079+07:00 80000301-0000-f800-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)"' (500cc934)
2019-06-23T09:26:07.8784906+07:00 80000301-0000-f800-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Role\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllPaging(System.String, Int32, Int32)" on controller "OnlineShop.Areas.Admin.Controllers.RoleController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:26:07.8831923+07:00 80000301-0000-f800-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:26:07.8883599+07:00 80000301-0000-f800-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:26:07.8912271+07:00 80000301-0000-f800-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:26:07.8947701+07:00 80000301-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppRoles] AS [a]" (0723d8ff)
2019-06-23T09:26:07.9048855+07:00 80000301-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoAppRole].[Description], [dtoAppRole].[Id], [dtoAppRole].[Name]
FROM [AppRoles] AS [dtoAppRole]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-23T09:26:07.9072286+07:00 80000301-0000-f800-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 16.6252ms. (50a9e262)
2019-06-23T09:26:07.9101104+07:00 80000301-0000-f800-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Utilities.DTO.PagedResult`1[[OnlineShop.Services.ViewModels.system.AppRoleViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:26:07.9226010+07:00 80000301-0000-f800-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)" in 31.9436ms (afa2e885)
2019-06-23T09:26:07.9249482+07:00 80000301-0000-f800-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)"' (99874f2b)
2019-06-23T09:26:07.9273408+07:00 80000301-0000-f800-b63f-84710c7967bb [INF] Request finished in 171.9416ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:26:07.9432456+07:00 80000120-0001-e700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/role/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-23T09:26:07.9469482+07:00 80000120-0001-e700-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)"' (500cc934)
2019-06-23T09:26:07.9552593+07:00 80000120-0001-e700-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Role\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllPaging(System.String, Int32, Int32)" on controller "OnlineShop.Areas.Admin.Controllers.RoleController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:26:07.9578142+07:00 80000120-0001-e700-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:26:07.9608808+07:00 80000120-0001-e700-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:26:07.9634418+07:00 80000120-0001-e700-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:26:07.9703171+07:00 80000120-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppRoles] AS [a]" (0723d8ff)
2019-06-23T09:26:07.9751440+07:00 80000120-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoAppRole].[Description], [dtoAppRole].[Id], [dtoAppRole].[Name]
FROM [AppRoles] AS [dtoAppRole]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-23T09:26:07.9778663+07:00 80000120-0001-e700-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 14.356ms. (50a9e262)
2019-06-23T09:26:07.9803673+07:00 80000120-0001-e700-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Utilities.DTO.PagedResult`1[[OnlineShop.Services.ViewModels.system.AppRoleViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:26:07.9899549+07:00 80000120-0001-e700-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)" in 25.5938ms (afa2e885)
2019-06-23T09:26:07.9921686+07:00 80000120-0001-e700-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)"' (99874f2b)
2019-06-23T09:26:07.9944517+07:00 80000120-0001-e700-b63f-84710c7967bb [INF] Request finished in 52.0784ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:26:09.8320937+07:00 800000f3-0002-dd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/Function/GetAll   (ca22a1cb)
2019-06-23T09:26:09.8362958+07:00 80000122-0001-e700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44363/Admin/Role/ListAllFunction application/x-www-form-urlencoded; charset=UTF-8 43 (ca22a1cb)
2019-06-23T09:26:09.8374657+07:00 800000f3-0002-dd00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)"' (500cc934)
2019-06-23T09:26:09.8399100+07:00 80000122-0001-e700-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)"' (500cc934)
2019-06-23T09:26:09.8453145+07:00 80000122-0001-e700-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"ListAllFunction\", controller = \"Role\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult ListAllFunction(System.Guid)" on controller "OnlineShop.Areas.Admin.Controllers.RoleController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:26:09.8516256+07:00 80000122-0001-e700-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:26:09.8572191+07:00 80000122-0001-e700-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:26:09.8600654+07:00 80000122-0001-e700-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:26:09.8644452+07:00 800000f3-0002-dd00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"Function\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll()" on controller "OnlineShop.Areas.Admin.Controllers.FunctionController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:26:09.8694826+07:00 800000f3-0002-dd00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:26:09.8738802+07:00 800000f3-0002-dd00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:26:09.8771718+07:00 80000122-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("8"ms) [Parameters=["@__roleId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT @__roleId_0 AS [RoleId], [f].[Id] AS [FunctionId], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanCreate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanCreate], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanDelete] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanDelete], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanRead] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanRead], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanUpdate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanUpdate]
FROM [Functions] AS [f]
LEFT JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
WHERE [p].[Id] IS NOT NULL AND ([p].[RoleId] = @__roleId_0)" (0723d8ff)
2019-06-23T09:26:09.8814209+07:00 800000f3-0002-dd00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:26:09.8834019+07:00 80000122-0001-e700-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 19.98ms. (50a9e262)
2019-06-23T09:26:09.8877334+07:00 80000122-0001-e700-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[OnlineShop.Services.ViewModels.system.PermissionViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:26:09.8913151+07:00 80000122-0001-e700-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)" in 42.8714ms (afa2e885)
2019-06-23T09:26:09.8967333+07:00 80000122-0001-e700-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)"' (99874f2b)
2019-06-23T09:26:09.9005965+07:00 800000f3-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-23T09:26:09.9033891+07:00 80000122-0001-e700-b63f-84710c7967bb [INF] Request finished in 64.2602ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:26:09.9065132+07:00 800000f3-0002-dd00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 30.1605ms. (50a9e262)
2019-06-23T09:26:09.9091048+07:00 800000f3-0002-dd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[OnlineShop.Services.ViewModels.system.FunctionViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:26:09.9123063+07:00 800000f3-0002-dd00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)" in 43.7485ms (afa2e885)
2019-06-23T09:26:09.9154339+07:00 800000f3-0002-dd00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)"' (99874f2b)
2019-06-23T09:26:09.9197024+07:00 800000f3-0002-dd00-b63f-84710c7967bb [INF] Request finished in 86.7666ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:26:14.8347365+07:00 80000092-0000-f000-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44363/Admin/Role/ListAllFunction application/x-www-form-urlencoded; charset=UTF-8 43 (ca22a1cb)
2019-06-23T09:26:14.8419837+07:00 80000303-0000-f800-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/Function/GetAll   (ca22a1cb)
2019-06-23T09:26:14.8427842+07:00 80000092-0000-f000-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)"' (500cc934)
2019-06-23T09:26:14.8505392+07:00 80000092-0000-f000-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"ListAllFunction\", controller = \"Role\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult ListAllFunction(System.Guid)" on controller "OnlineShop.Areas.Admin.Controllers.RoleController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:26:14.8578862+07:00 80000092-0000-f000-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:26:14.8623752+07:00 80000092-0000-f000-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:26:14.8728231+07:00 80000303-0000-f800-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)"' (500cc934)
2019-06-23T09:26:14.8729169+07:00 80000092-0000-f000-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:26:14.8754442+07:00 80000303-0000-f800-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"Function\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll()" on controller "OnlineShop.Areas.Admin.Controllers.FunctionController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:26:14.8796853+07:00 80000303-0000-f800-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:26:14.8869467+07:00 80000303-0000-f800-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:26:14.8870156+07:00 80000092-0000-f000-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__roleId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT @__roleId_0 AS [RoleId], [f].[Id] AS [FunctionId], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanCreate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanCreate], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanDelete] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanDelete], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanRead] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanRead], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanUpdate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanUpdate]
FROM [Functions] AS [f]
LEFT JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
WHERE [p].[Id] IS NOT NULL AND ([p].[RoleId] = @__roleId_0)" (0723d8ff)
2019-06-23T09:26:14.8906811+07:00 80000092-0000-f000-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 24.7822ms. (50a9e262)
2019-06-23T09:26:14.8927516+07:00 80000303-0000-f800-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:26:14.8941837+07:00 80000092-0000-f000-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[OnlineShop.Services.ViewModels.system.PermissionViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:26:14.9035095+07:00 80000092-0000-f000-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)" in 44.274ms (afa2e885)
2019-06-23T09:26:14.9103269+07:00 80000092-0000-f000-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)"' (99874f2b)
2019-06-23T09:26:14.9155405+07:00 80000303-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-23T09:26:14.9186636+07:00 80000092-0000-f000-b63f-84710c7967bb [INF] Request finished in 80.0147ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:26:14.9252917+07:00 80000303-0000-f800-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 31.9242ms. (50a9e262)
2019-06-23T09:26:14.9314068+07:00 80000303-0000-f800-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[OnlineShop.Services.ViewModels.system.FunctionViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:26:14.9379705+07:00 80000303-0000-f800-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)" in 56.4696ms (afa2e885)
2019-06-23T09:26:14.9423131+07:00 80000303-0000-f800-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)"' (99874f2b)
2019-06-23T09:26:14.9510997+07:00 80000303-0000-f800-b63f-84710c7967bb [INF] Request finished in 112.1886ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:26:16.1094430+07:00 8000011b-0003-ed00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44363/Admin/Role/ListAllFunction application/x-www-form-urlencoded; charset=UTF-8 43 (ca22a1cb)
2019-06-23T09:26:16.1191765+07:00 80000124-0001-e700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/Function/GetAll   (ca22a1cb)
2019-06-23T09:26:16.1207988+07:00 8000011b-0003-ed00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)"' (500cc934)
2019-06-23T09:26:16.1249588+07:00 8000011b-0003-ed00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"ListAllFunction\", controller = \"Role\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult ListAllFunction(System.Guid)" on controller "OnlineShop.Areas.Admin.Controllers.RoleController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:26:16.1275484+07:00 80000124-0001-e700-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)"' (500cc934)
2019-06-23T09:26:16.1321456+07:00 8000011b-0003-ed00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:26:16.1360952+07:00 80000124-0001-e700-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"Function\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll()" on controller "OnlineShop.Areas.Admin.Controllers.FunctionController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:26:16.1388496+07:00 8000011b-0003-ed00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:26:16.1406259+07:00 80000124-0001-e700-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:26:16.1449070+07:00 8000011b-0003-ed00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:26:16.1493226+07:00 80000124-0001-e700-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:26:16.1537515+07:00 80000124-0001-e700-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:26:16.1551938+07:00 8000011b-0003-ed00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__roleId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT @__roleId_0 AS [RoleId], [f].[Id] AS [FunctionId], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanCreate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanCreate], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanDelete] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanDelete], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanRead] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanRead], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanUpdate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanUpdate]
FROM [Functions] AS [f]
LEFT JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
WHERE [p].[Id] IS NOT NULL AND ([p].[RoleId] = @__roleId_0)" (0723d8ff)
2019-06-23T09:26:16.1624188+07:00 8000011b-0003-ed00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 16.5696ms. (50a9e262)
2019-06-23T09:26:16.1675543+07:00 80000124-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-23T09:26:16.1689764+07:00 8000011b-0003-ed00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[OnlineShop.Services.ViewModels.system.PermissionViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:26:16.1744971+07:00 8000011b-0003-ed00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)" in 44.5957ms (afa2e885)
2019-06-23T09:26:16.1825803+07:00 80000124-0001-e700-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 22.5396ms. (50a9e262)
2019-06-23T09:26:16.1867392+07:00 8000011b-0003-ed00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)"' (99874f2b)
2019-06-23T09:26:16.1894179+07:00 80000124-0001-e700-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[OnlineShop.Services.ViewModels.system.FunctionViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:26:16.1911444+07:00 8000011b-0003-ed00-b63f-84710c7967bb [INF] Request finished in 99.146ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:26:16.1971332+07:00 80000124-0001-e700-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)" in 55.6207ms (afa2e885)
2019-06-23T09:26:16.2101930+07:00 80000124-0001-e700-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)"' (99874f2b)
2019-06-23T09:26:16.2181227+07:00 80000124-0001-e700-b63f-84710c7967bb [INF] Request finished in 103.5764ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:26:18.7850340+07:00 80000305-0000-f800-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44363/Admin/Role/ListAllFunction application/x-www-form-urlencoded; charset=UTF-8 43 (ca22a1cb)
2019-06-23T09:26:18.7852137+07:00 80000094-0000-f000-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/Function/GetAll   (ca22a1cb)
2019-06-23T09:26:18.7898810+07:00 80000305-0000-f800-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)"' (500cc934)
2019-06-23T09:26:18.7932912+07:00 80000094-0000-f000-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)"' (500cc934)
2019-06-23T09:26:18.8007993+07:00 80000305-0000-f800-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"ListAllFunction\", controller = \"Role\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult ListAllFunction(System.Guid)" on controller "OnlineShop.Areas.Admin.Controllers.RoleController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:26:18.8027739+07:00 80000094-0000-f000-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"Function\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll()" on controller "OnlineShop.Areas.Admin.Controllers.FunctionController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:26:18.8068968+07:00 80000094-0000-f000-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:26:18.8083137+07:00 80000305-0000-f800-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:26:18.8130049+07:00 80000094-0000-f000-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:26:18.8180325+07:00 80000305-0000-f800-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:26:18.8195176+07:00 80000094-0000-f000-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:26:18.8225134+07:00 80000305-0000-f800-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:26:18.8316720+07:00 80000094-0000-f000-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-23T09:26:18.8347746+07:00 80000305-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("6"ms) [Parameters=["@__roleId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT @__roleId_0 AS [RoleId], [f].[Id] AS [FunctionId], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanCreate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanCreate], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanDelete] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanDelete], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanRead] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanRead], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanUpdate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanUpdate]
FROM [Functions] AS [f]
LEFT JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
WHERE [p].[Id] IS NOT NULL AND ([p].[RoleId] = @__roleId_0)" (0723d8ff)
2019-06-23T09:26:18.8381326+07:00 80000094-0000-f000-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 22.0171ms. (50a9e262)
2019-06-23T09:26:18.8414073+07:00 80000305-0000-f800-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 18.6916ms. (50a9e262)
2019-06-23T09:26:18.8472569+07:00 80000094-0000-f000-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[OnlineShop.Services.ViewModels.system.FunctionViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:26:18.8503461+07:00 80000305-0000-f800-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[OnlineShop.Services.ViewModels.system.PermissionViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:26:18.8565351+07:00 80000094-0000-f000-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)" in 47.8529ms (afa2e885)
2019-06-23T09:26:18.8582151+07:00 80000305-0000-f800-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)" in 51.9397ms (afa2e885)
2019-06-23T09:26:18.8665932+07:00 80000094-0000-f000-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)"' (99874f2b)
2019-06-23T09:26:18.8680891+07:00 80000305-0000-f800-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)"' (99874f2b)
2019-06-23T09:26:18.8746827+07:00 80000305-0000-f800-b63f-84710c7967bb [INF] Request finished in 94.7147ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:26:18.8747067+07:00 80000094-0000-f000-b63f-84710c7967bb [INF] Request finished in 91.046ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:26:22.1253527+07:00 80000307-0000-f800-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/Function/GetAll   (ca22a1cb)
2019-06-23T09:26:22.1320144+07:00 80000126-0001-e700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44363/Admin/Role/ListAllFunction application/x-www-form-urlencoded; charset=UTF-8 43 (ca22a1cb)
2019-06-23T09:26:22.1379858+07:00 80000307-0000-f800-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)"' (500cc934)
2019-06-23T09:26:22.1399128+07:00 80000126-0001-e700-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)"' (500cc934)
2019-06-23T09:26:22.1496441+07:00 80000307-0000-f800-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"Function\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll()" on controller "OnlineShop.Areas.Admin.Controllers.FunctionController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:26:22.1534446+07:00 80000126-0001-e700-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"ListAllFunction\", controller = \"Role\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult ListAllFunction(System.Guid)" on controller "OnlineShop.Areas.Admin.Controllers.RoleController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:26:22.1550765+07:00 80000307-0000-f800-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:26:22.1577487+07:00 80000126-0001-e700-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:26:22.1701670+07:00 80000307-0000-f800-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:26:22.1724333+07:00 80000126-0001-e700-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:26:22.1739811+07:00 80000307-0000-f800-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:26:22.1815796+07:00 80000126-0001-e700-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:26:22.1866929+07:00 80000307-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-23T09:26:22.1930016+07:00 80000307-0000-f800-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 17.3417ms. (50a9e262)
2019-06-23T09:26:22.1967787+07:00 80000126-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__roleId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT @__roleId_0 AS [RoleId], [f].[Id] AS [FunctionId], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanCreate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanCreate], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanDelete] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanDelete], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanRead] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanRead], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanUpdate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanUpdate]
FROM [Functions] AS [f]
LEFT JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
WHERE [p].[Id] IS NOT NULL AND ([p].[RoleId] = @__roleId_0)" (0723d8ff)
2019-06-23T09:26:22.1987926+07:00 80000307-0000-f800-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[OnlineShop.Services.ViewModels.system.FunctionViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:26:22.2016131+07:00 80000126-0001-e700-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 24.508ms. (50a9e262)
2019-06-23T09:26:22.2057966+07:00 80000307-0000-f800-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)" in 50.9363ms (afa2e885)
2019-06-23T09:26:22.2076239+07:00 80000126-0001-e700-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[OnlineShop.Services.ViewModels.system.PermissionViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:26:22.2136491+07:00 80000307-0000-f800-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.FunctionController.GetAll (OnlineShop)"' (99874f2b)
2019-06-23T09:26:22.2169879+07:00 80000126-0001-e700-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)" in 60.1058ms (afa2e885)
2019-06-23T09:26:22.2197006+07:00 80000307-0000-f800-b63f-84710c7967bb [INF] Request finished in 94.5786ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:26:22.2224382+07:00 80000126-0001-e700-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.ListAllFunction (OnlineShop)"' (99874f2b)
2019-06-23T09:26:22.2290718+07:00 80000126-0001-e700-b63f-84710c7967bb [INF] Request finished in 98.833ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:30:06.4925877+07:00 80000309-0000-f800-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/role/index   (ca22a1cb)
2019-06-23T09:30:06.5054335+07:00 80000309-0000-f800-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)"' (500cc934)
2019-06-23T09:30:06.5189249+07:00 80000309-0000-f800-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Role\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "OnlineShop.Areas.Admin.Controllers.RoleController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:30:06.5218027+07:00 80000309-0000-f800-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:30:06.5245508+07:00 80000309-0000-f800-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:30:06.5276648+07:00 80000309-0000-f800-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:30:06.5410232+07:00 80000309-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T09:30:06.5439134+07:00 80000309-0000-f800-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:30:06.5466114+07:00 80000309-0000-f800-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 19.446ms. (50a9e262)
2019-06-23T09:30:06.7567774+07:00 80000309-0000-f800-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T09:30:06.7761663+07:00 80000309-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T09:30:06.7798973+07:00 80000309-0000-f800-b63f-84710c7967bb [INF] Authorization failed. (b15dd539)
2019-06-23T09:30:06.7943123+07:00 80000309-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T09:30:06.7974457+07:00 80000309-0000-f800-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:30:06.8074339+07:00 80000309-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T09:30:06.8107839+07:00 80000309-0000-f800-b63f-84710c7967bb [INF] Authorization failed. (b15dd539)
2019-06-23T09:30:06.8203845+07:00 80000309-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-23T09:30:06.8293394+07:00 80000309-0000-f800-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 280.1767ms. (f66409e9)
2019-06-23T09:30:06.8342700+07:00 80000309-0000-f800-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)" in 310.7721ms (afa2e885)
2019-06-23T09:30:06.8378858+07:00 80000309-0000-f800-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.Index (OnlineShop)"' (99874f2b)
2019-06-23T09:30:06.8424616+07:00 80000309-0000-f800-b63f-84710c7967bb [INF] Request finished in 348.0665ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T09:30:07.1585249+07:00 800000f5-0002-dd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/role/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-23T09:30:07.1692273+07:00 800000f5-0002-dd00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)"' (500cc934)
2019-06-23T09:30:07.1757724+07:00 800000f5-0002-dd00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Role\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllPaging(System.String, Int32, Int32)" on controller "OnlineShop.Areas.Admin.Controllers.RoleController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:30:07.1789196+07:00 800000f5-0002-dd00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:30:07.1816247+07:00 800000f5-0002-dd00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:30:07.1853213+07:00 800000f5-0002-dd00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:30:07.1898085+07:00 800000f5-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppRoles] AS [a]" (0723d8ff)
2019-06-23T09:30:07.1953349+07:00 800000f5-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoAppRole].[Description], [dtoAppRole].[Id], [dtoAppRole].[Name]
FROM [AppRoles] AS [dtoAppRole]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-23T09:30:07.1985186+07:00 800000f5-0002-dd00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 13.6359ms. (50a9e262)
2019-06-23T09:30:07.2078652+07:00 800000f5-0002-dd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Utilities.DTO.PagedResult`1[[OnlineShop.Services.ViewModels.system.AppRoleViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:30:07.2119525+07:00 800000f5-0002-dd00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)" in 32.5691ms (afa2e885)
2019-06-23T09:30:07.2147323+07:00 800000f5-0002-dd00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)"' (99874f2b)
2019-06-23T09:30:07.2177174+07:00 800000f5-0002-dd00-b63f-84710c7967bb [INF] Request finished in 59.1127ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:30:07.2634974+07:00 8000030b-0000-f800-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/role/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-23T09:30:07.2683039+07:00 8000030b-0000-f800-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)"' (500cc934)
2019-06-23T09:30:07.2763324+07:00 8000030b-0000-f800-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Role\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllPaging(System.String, Int32, Int32)" on controller "OnlineShop.Areas.Admin.Controllers.RoleController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:30:07.3034627+07:00 8000030b-0000-f800-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:30:07.3179981+07:00 8000030b-0000-f800-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:30:07.3292228+07:00 8000030b-0000-f800-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:30:07.3323690+07:00 8000030b-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppRoles] AS [a]" (0723d8ff)
2019-06-23T09:30:07.3362007+07:00 8000030b-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoAppRole].[Description], [dtoAppRole].[Id], [dtoAppRole].[Name]
FROM [AppRoles] AS [dtoAppRole]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-23T09:30:07.3433727+07:00 8000030b-0000-f800-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 18.2694ms. (50a9e262)
2019-06-23T09:30:07.3483989+07:00 8000030b-0000-f800-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Utilities.DTO.PagedResult`1[[OnlineShop.Services.ViewModels.system.AppRoleViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:30:07.3528520+07:00 8000030b-0000-f800-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)" in 69.6053ms (afa2e885)
2019-06-23T09:30:07.3559302+07:00 8000030b-0000-f800-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.GetAllPaging (OnlineShop)"' (99874f2b)
2019-06-23T09:30:07.3644250+07:00 8000030b-0000-f800-b63f-84710c7967bb [INF] Request finished in 108.1941ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:30:11.1866276+07:00 800000f7-0002-dd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/Role/GetById?id=188a427d-08fa-4596-c872-08d6f4863ffd   (ca22a1cb)
2019-06-23T09:30:11.1930638+07:00 800000f7-0002-dd00-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.GetById (OnlineShop)"' (500cc934)
2019-06-23T09:30:11.2023340+07:00 800000f7-0002-dd00-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetById\", controller = \"Role\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(System.Guid)" on controller "OnlineShop.Areas.Admin.Controllers.RoleController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:30:11.2063290+07:00 800000f7-0002-dd00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:30:11.2108026+07:00 800000f7-0002-dd00-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.RoleController.GetById (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:30:11.2220890+07:00 800000f7-0002-dd00-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:30:11.2377541+07:00 800000f7-0002-dd00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__roleId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConcurrencyStamp], [u].[Description], [u].[Name], [u].[NormalizedName]
FROM [AppRoles] AS [u]
WHERE [u].[Id] = @__roleId_0" (0723d8ff)
2019-06-23T09:30:11.2440262+07:00 800000f7-0002-dd00-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.RoleController.GetById (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 30.8267ms. (50a9e262)
2019-06-23T09:30:11.2467984+07:00 800000f7-0002-dd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Services.ViewModels.system.AppRoleViewModel"'. (8a1b66c8)
2019-06-23T09:30:11.2519135+07:00 800000f7-0002-dd00-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.RoleController.GetById (OnlineShop)" in 44.6588ms (afa2e885)
2019-06-23T09:30:11.2562807+07:00 800000f7-0002-dd00-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.RoleController.GetById (OnlineShop)"' (99874f2b)
2019-06-23T09:30:11.2593451+07:00 800000f7-0002-dd00-b63f-84710c7967bb [INF] Request finished in 74.567ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:30:44.8429822+07:00 80000128-0001-e700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/product/index   (ca22a1cb)
2019-06-23T09:30:44.8509163+07:00 80000128-0001-e700-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.ProductController.Index (OnlineShop)"' (500cc934)
2019-06-23T09:30:44.8597566+07:00 80000128-0001-e700-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Product\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "OnlineShop.Areas.Admin.Controllers.ProductController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:30:44.8624224+07:00 80000128-0001-e700-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:30:44.8666542+07:00 80000128-0001-e700-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.ProductController.Index (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:30:44.8705497+07:00 80000128-0001-e700-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:30:44.8881528+07:00 80000128-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("8"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T09:30:44.8915535+07:00 80000128-0001-e700-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:30:44.8947956+07:00 80000128-0001-e700-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.ProductController.Index (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 24.9707ms. (50a9e262)
2019-06-23T09:30:44.8979080+07:00 80000128-0001-e700-b63f-84710c7967bb [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-23T09:30:44.9120279+07:00 80000128-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("8"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T09:30:44.9155924+07:00 80000128-0001-e700-b63f-84710c7967bb [INF] Authorization failed. (b15dd539)
2019-06-23T09:30:44.9340394+07:00 80000128-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("8"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T09:30:44.9378144+07:00 80000128-0001-e700-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:30:44.9528550+07:00 80000128-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 128) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-23T09:30:44.9583904+07:00 80000128-0001-e700-b63f-84710c7967bb [INF] Authorization failed. (b15dd539)
2019-06-23T09:30:44.9648146+07:00 80000128-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-23T09:30:44.9691634+07:00 80000128-0001-e700-b63f-84710c7967bb [INF] Executed ViewResult - view "Index" executed in 71.518ms. (f66409e9)
2019-06-23T09:30:44.9963524+07:00 80000128-0001-e700-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.ProductController.Index (OnlineShop)" in 109.8247ms (afa2e885)
2019-06-23T09:30:45.0161522+07:00 80000128-0001-e700-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.ProductController.Index (OnlineShop)"' (99874f2b)
2019-06-23T09:30:45.0226105+07:00 80000128-0001-e700-b63f-84710c7967bb [INF] Request finished in 178.719ms 200 text/html; charset=utf-8 (791a596a)
2019-06-23T09:30:45.2989529+07:00 8000030d-0000-f800-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/Admin/Product/GetAllCategories   (ca22a1cb)
2019-06-23T09:30:45.3022066+07:00 8000012a-0001-e700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/product/GetAllPaging?categoryId=--Select+category--&keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-23T09:30:45.3083851+07:00 8000030d-0000-f800-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.ProductController.GetAllCategories (OnlineShop)"' (500cc934)
2019-06-23T09:30:45.3100394+07:00 8000012a-0001-e700-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.ProductController.GetAllPaging (OnlineShop)"' (500cc934)
2019-06-23T09:30:45.3160661+07:00 8000012a-0001-e700-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Product\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllPaging(System.Nullable`1[System.Int32], System.String, Int32, Int32)" on controller "OnlineShop.Areas.Admin.Controllers.ProductController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:30:45.3208386+07:00 8000030d-0000-f800-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAllCategories\", controller = \"Product\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllCategories()" on controller "OnlineShop.Areas.Admin.Controllers.ProductController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:30:45.3208922+07:00 8000012a-0001-e700-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:30:45.3269673+07:00 8000030d-0000-f800-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:30:45.3334332+07:00 8000030d-0000-f800-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.ProductController.GetAllCategories (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:30:45.3334818+07:00 8000012a-0001-e700-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.ProductController.GetAllPaging (OnlineShop)" - Validation state: Invalid (dad538d7)
2019-06-23T09:30:45.3401000+07:00 8000030d-0000-f800-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:30:45.3404636+07:00 8000012a-0001-e700-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:30:45.3474753+07:00 8000030d-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-23T09:30:45.3492095+07:00 8000012a-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Products] AS [x]
WHERE [x].[Status] = 1" (0723d8ff)
2019-06-23T09:30:45.3584554+07:00 8000030d-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-23T09:30:45.3615718+07:00 8000012a-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("8"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-23T09:30:45.3643578+07:00 8000030d-0000-f800-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.ProductController.GetAllCategories (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 28.3532ms. (50a9e262)
2019-06-23T09:30:45.3673146+07:00 8000030d-0000-f800-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[OnlineShop.Services.ViewModels.product.ProductCategoryViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:30:45.3713122+07:00 8000030d-0000-f800-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.ProductController.GetAllCategories (OnlineShop)" in 47.1383ms (afa2e885)
2019-06-23T09:30:45.3766414+07:00 8000012a-0001-e700-b63f-84710c7967bb [INF] Executed DbCommand ("8"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-23T09:30:45.3778289+07:00 8000030d-0000-f800-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.ProductController.GetAllCategories (OnlineShop)"' (99874f2b)
2019-06-23T09:30:45.3830905+07:00 8000030d-0000-f800-b63f-84710c7967bb [INF] Request finished in 81.836ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:30:45.3851182+07:00 8000012a-0001-e700-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.ProductController.GetAllPaging (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 47.9872ms. (50a9e262)
2019-06-23T09:30:45.3920863+07:00 8000012a-0001-e700-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Utilities.DTO.PagedResult`1[[OnlineShop.Services.ViewModels.product.ProductViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:30:45.4042526+07:00 8000012a-0001-e700-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.ProductController.GetAllPaging (OnlineShop)" in 77.7014ms (afa2e885)
2019-06-23T09:30:45.4111640+07:00 8000012a-0001-e700-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.ProductController.GetAllPaging (OnlineShop)"' (99874f2b)
2019-06-23T09:30:45.4142624+07:00 8000012a-0001-e700-b63f-84710c7967bb [INF] Request finished in 112.0049ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:30:45.4330856+07:00 8000030f-0000-f800-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/product/GetAllPaging?categoryId=&keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-23T09:30:45.4369711+07:00 8000030f-0000-f800-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.ProductController.GetAllPaging (OnlineShop)"' (500cc934)
2019-06-23T09:30:45.4412790+07:00 8000030f-0000-f800-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Product\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllPaging(System.Nullable`1[System.Int32], System.String, Int32, Int32)" on controller "OnlineShop.Areas.Admin.Controllers.ProductController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:30:45.4440136+07:00 8000030f-0000-f800-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:30:45.4501177+07:00 8000030f-0000-f800-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.ProductController.GetAllPaging (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:30:45.4514080+07:00 8000012c-0001-e700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin-side/images/user.png   (ca22a1cb)
2019-06-23T09:30:45.4580835+07:00 8000030f-0000-f800-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:30:45.4594950+07:00 8000011d-0003-ed00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/client-side/images/products/product-1.jpg   (ca22a1cb)
2019-06-23T09:30:45.4650966+07:00 8000012c-0001-e700-b63f-84710c7967bb [INF] Request finished in 12.732ms 404  (791a596a)
2019-06-23T09:30:45.4661943+07:00 8000030f-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Products] AS [x]
WHERE [x].[Status] = 1" (0723d8ff)
2019-06-23T09:30:45.4682069+07:00 8000011d-0003-ed00-b63f-84710c7967bb [INF] Request finished in 9.9135ms 404  (791a596a)
2019-06-23T09:30:45.4725262+07:00 8000030f-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-23T09:30:45.4796456+07:00 8000030f-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-23T09:30:45.4865742+07:00 8000030f-0000-f800-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.ProductController.GetAllPaging (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 32.4026ms. (50a9e262)
2019-06-23T09:30:45.4922413+07:00 8000030f-0000-f800-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Utilities.DTO.PagedResult`1[[OnlineShop.Services.ViewModels.product.ProductViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:30:45.5105810+07:00 8000030f-0000-f800-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.ProductController.GetAllPaging (OnlineShop)" in 53.4474ms (afa2e885)
2019-06-23T09:30:45.5513798+07:00 8000030f-0000-f800-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.ProductController.GetAllPaging (OnlineShop)"' (99874f2b)
2019-06-23T09:30:45.5684748+07:00 8000030f-0000-f800-b63f-84710c7967bb [INF] Request finished in 120.646ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:30:45.6648193+07:00 800000b1-0002-dc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/client-side/images/products/product-1.jpg   (ca22a1cb)
2019-06-23T09:30:45.6659782+07:00 800000f9-0002-dd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin-side/images/user.png   (ca22a1cb)
2019-06-23T09:30:45.6905247+07:00 800000b1-0002-dc00-b63f-84710c7967bb [INF] Request finished in 43.2495ms 404  (791a596a)
2019-06-23T09:30:45.6947872+07:00 800000f9-0002-dd00-b63f-84710c7967bb [INF] Request finished in 31.8384ms 404  (791a596a)
2019-06-23T09:30:57.4793889+07:00 80000311-0000-f800-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin/product/GetAllPaging?categoryId=2&keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-23T09:30:57.4818419+07:00 80000311-0000-f800-b63f-84710c7967bb [INF] Executing endpoint '"OnlineShop.Areas.Admin.Controllers.ProductController.GetAllPaging (OnlineShop)"' (500cc934)
2019-06-23T09:30:57.4850048+07:00 80000311-0000-f800-b63f-84710c7967bb [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Product\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllPaging(System.Nullable`1[System.Int32], System.String, Int32, Int32)" on controller "OnlineShop.Areas.Admin.Controllers.ProductController" ("OnlineShop"). (122b2fdf)
2019-06-23T09:30:57.4877254+07:00 80000311-0000-f800-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-06-23T09:30:57.4903631+07:00 80000311-0000-f800-b63f-84710c7967bb [INF] Executing action method "OnlineShop.Areas.Admin.Controllers.ProductController.GetAllPaging (OnlineShop)" - Validation state: Valid (dad538d7)
2019-06-23T09:30:57.4926783+07:00 80000311-0000-f800-b63f-84710c7967bb [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=OnlineShop.Data.EF " (9958f5bb)
2019-06-23T09:30:57.5016493+07:00 80000311-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__categoryId_Value_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Products] AS [x]
WHERE ([x].[Status] = 1) AND ([x].[CategoryId] = @__categoryId_Value_0)" (0723d8ff)
2019-06-23T09:30:57.5491156+07:00 80000311-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("5"ms) [Parameters=["@__categoryId_Value_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE ([x].[Status] = 1) AND ([x].[CategoryId] = @__categoryId_Value_0)
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-23T09:30:57.5589123+07:00 80000311-0000-f800-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=["@__categoryId_Value_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE ([x0].[Status] = 1) AND ([x0].[CategoryId] = @__categoryId_Value_0)
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-23T09:30:57.5617079+07:00 80000311-0000-f800-b63f-84710c7967bb [INF] Executed action method "OnlineShop.Areas.Admin.Controllers.ProductController.GetAllPaging (OnlineShop)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 69.4925ms. (50a9e262)
2019-06-23T09:30:57.5639453+07:00 80000311-0000-f800-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"OnlineShop.Utilities.DTO.PagedResult`1[[OnlineShop.Services.ViewModels.product.ProductViewModel, OnlineShop.Services, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-23T09:30:57.5681294+07:00 80000311-0000-f800-b63f-84710c7967bb [INF] Executed action "OnlineShop.Areas.Admin.Controllers.ProductController.GetAllPaging (OnlineShop)" in 80.0769ms (afa2e885)
2019-06-23T09:30:57.5708240+07:00 80000311-0000-f800-b63f-84710c7967bb [INF] Executed endpoint '"OnlineShop.Areas.Admin.Controllers.ProductController.GetAllPaging (OnlineShop)"' (99874f2b)
2019-06-23T09:30:57.5734197+07:00 80000311-0000-f800-b63f-84710c7967bb [INF] Request finished in 93.7847ms 200 application/json; charset=utf-8 (791a596a)
2019-06-23T09:30:57.5899245+07:00 8000005c-0001-e300-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/client-side/images/products/product-1.jpg   (ca22a1cb)
2019-06-23T09:30:57.5909344+07:00 8000012e-0001-e700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44363/admin-side/images/user.png   (ca22a1cb)
2019-06-23T09:30:57.5953330+07:00 8000012e-0001-e700-b63f-84710c7967bb [INF] Request finished in 4.9753ms 404  (791a596a)
2019-06-23T09:30:57.5964782+07:00 8000005c-0001-e300-b63f-84710c7967bb [INF] Request finished in 5.0877ms 404  (791a596a)
